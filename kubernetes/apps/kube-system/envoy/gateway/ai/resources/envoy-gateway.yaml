apiVersion: gateway.envoyproxy.io/v1alpha1
kind: EnvoyGateway
gateway:
  controllerName: gateway.envoyproxy.io/gatewayclass-controller
logging:
  level:
    default: info
provider:
  kubernetes:
    rateLimitDeployment:
      patch:
        type: StrategicMerge
        value:
          spec:
            template:
              spec:
                containers:
                  - imagePullPolicy: IfNotPresent
                    name: envoy-ratelimit
                    image: docker.io/envoyproxy/ratelimit:60d8e81b
  type: Kubernetes
extensionApis:
  enableEnvoyPatchPolicy: true
  enableBackend: true
extensionManager:
  hooks:
    xdsTranslator:
      post:
        - VirtualHost
        - Translation
  service:
    fqdn:
      hostname: ai-gateway-controller.kube-system.svc.cluster.local
      port: 1063
rateLimit:
  backend:
    type: Redis
    redis:
      url: redis.storage.svc.cluster.local:6379
