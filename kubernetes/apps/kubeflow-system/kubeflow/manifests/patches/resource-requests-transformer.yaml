apiVersion: builtin
kind: PatchTransformer
metadata:
  name: set-resource-requests
patch: |
  - op: replace
    path: /spec/template/spec/containers/0/resources/requests
    value:
      cpu: "10m"
      memory: "64Mi"
target:
  group: apps
  version: v1
  kind: Deployment
---
apiVersion: builtin
kind: PatchTransformer
metadata:
  name: set-resource-requests-statefulset
patch: |
  - op: replace
    path: /spec/template/spec/containers/0/resources/requests
    value:
      cpu: "10m"
      memory: "64Mi"
target:
  group: apps
  version: v1
  kind: StatefulSet
---
apiVersion: builtin
kind: PatchTransformer
metadata:
  name: set-resource-requests-job
patch: |
  - op: replace
    path: /spec/template/spec/containers/0/resources/requests
    value:
      cpu: "10m"
      memory: "64Mi"
target:
  group: batch
  version: v1
  kind: Job
---
apiVersion: builtin
kind: PatchTransformer
metadata:
  name: set-resource-requests-cronjob
patch: |
  - op: replace
    path: /spec/jobTemplate/spec/template/spec/containers/0/resources/requests
    value:
      cpu: "10m"
      memory: "64Mi"
target:
  group: batch
  version: v1
  kind: CronJob

