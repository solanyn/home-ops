apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: istio-system

resources:
  - ../../upstream/common/istio-1-24/istio-install/base/gateway_authorizationpolicy.yaml
  - ../../upstream/common/istio-1-24/istio-install/base/deny_all_authorizationpolicy.yaml
  - ../../upstream/common/istio-1-24/istio-install/base/gateway.yaml

patches:
  - path: ../../upstream/common/istio-1-24/istio-install/base/patches/service.yaml
  - path: ../../upstream/common/istio-1-24/istio-install/base/patches/istio-configmap-disable-tracing.yaml
  - path: ../../upstream/common/istio-1-24/istio-install/base/patches/disable-debugging.yaml
  - path: ../../upstream/common/istio-1-24/istio-install/base/patches/istio-ingressgateway-remove-pdb.yaml
  - path: ../../upstream/common/istio-1-24/istio-install/base/patches/istiod-remove-pdb.yaml
  - path: ../../upstream/common/istio-1-24/istio-install/base/patches/seccomp-istio-ingressgateway.yaml
  - path: ../../upstream/common/istio-1-24/istio-install/base/patches/seccomp-istiod.yaml

images:
  - name: busybox
    newName: registry.k8s.io/busybox
