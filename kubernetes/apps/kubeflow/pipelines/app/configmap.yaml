---
apiVersion: v1
kind: ConfigMap
metadata:
  name: pipeline-install-config
data:
  appName: pipeline
  dbType: mysql
  mysqlHost: mariadb.database.svc.cluster.local
  mysqlPort: "3306"
  dbHost: mariadb.database.svc.cluster.local
  dbPort: "3306"
  mlmdDb: kfp_metadata
  cacheDb: kfp_cache
  pipelineDb: kfp_pipelines
  bucketName: kfp-pipelines
  cronScheduleTimezone: "Australia/Sydney"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: workflow-controller-configmap
data:
  artifactRepository: |
    archiveLogs: true
    s3:
      endpoint: "minio.default.svc.cluster.local:9000"
      bucket: "kfp-pipelines"
      keyFormat: "artifacts/{{workflow.name}}/{{workflow.creationTimestamp.Y}}/{{workflow.creationTimestamp.m}}/{{workflow.creationTimestamp.d}}/{{pod.name}}"
      insecure: true
      accessKeySecret:
        name: kubeflow-secret
        key: KUBEFLOW_PIPELINES_ACCESS_KEY_ID
      secretKeySecret:
        name: kubeflow-secret
        key: KUBEFLOW_PIPELINES_SECRET_ACCESS_KEY
