version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:wfTnT2+I0X3GUSYSMINlyZDCQDk0css=,iv:KfZmiBGaoVC/VCIjrJ41SWDR4ScunLU8a96nq3OBfZw=,tag:8xB7lbmMedXDBXq8mPOyOw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:t44Uis5bvp/7whAXzeaT3qDlxckT//Hd25Jgt2uG2qogxdRarHc076+z0veyEeE6OvNc5JYSpcWBNZulfw4oTi2kGcs1kYPuTIegomxj/I9ERgMFKiyl+H8q4p4QYimhbPRTFU/FmfhZkoEFPvEgOMQ2eE/x+YZESQlyyhychEt8mnBeHgXYAn1gmDzirENaar3/dhmYA9G7qDBE6woUwEBugjzdOiA0oOUYCMO2RbKrjbB7gUriPE9bcVPjrYxJFvhM6urIg4cbSMFEhnw5EflfbDpu5F2jyw6RkiKSwZu4WLVGXv9bVURRwKxA5KryhfLAEtMPfs7uIuap9+dc+sK+F65YEqsOtLo/RZXHOH5m5q2PG1yjf0MUzynKdDWpGCtd3xfS/xd5krfAbSn7LHH1K5UJfWTyH6LkVcZRzHQ8jyePhlFgGIXU4/YwPwQH7agVZhEKqDx2I8rJGba9IhztuQKfVYMMzJ+7+jFKlQ61ltBvuILIUVsNXhobw6gdLEmAv+1VDVAl1FTOcjX4jHHuzgQWyt5+2b2SvbnTRkEfFG3OIhHn5hM0/6/dqqIx/qUPxdiJDKcMcKy/IpObmLR+XE7p2rPkSqDTJ9ENFq8OwYwYtlStVmR1bDT9Yc0+fWfI6OpHsw1G8/dH8dPFDoVyl050uT3kW7vv6gm+A2IJ44N2kM8polryvqxbeINZEGJYXVbJB9YjwyLZ80ZS5hu1dJVi0HIUlOF00L1ANu3AkIujOoHl//BCjtL7cmjZgXq7HiMYQGsuycUPNrOndRQSgc2JIEV2O0jA1YwbH/tPYxd/LIKu+iYRXJSCGMsikLbfc1xNT78DBhmpGKjwnZHfaAcHRYW1Gww8n9+Fo7eEkcma,iv:m0p8bgmp3NQ2Roo4Lx88Uqw6DxyQe/LeRIBStW4kyi4=,tag:0L5Pu1iBaOgYqBPJXKfFFg==,type:str]
    key: ENC[AES256_GCM,data:+cZnlbwJCeiryEr5gx5UrM43P1A7nzRJy3uC67nfzDr+aVq2XVVeuIPwNQco65PvieIK4FYWYlv68NlKLYKvfQYt8hMbQe5QtABaDritPm9Z/g7jt/YZDp8u57umU1edGwGaMz9UpCCijN7rjmrpCmiXHVgozWpRgIgpsAMeketbCn/tbIpu/Bbotv36rajfAsL2oIkmVy3HuN1J9zn9tZdPctnRiVCYqzRn852NDbpmscdc,iv:5NNtjod04j+QR7gPGK3VMRkXAVrn00iQ9QypeAbjwF4=,tag:LqjxlgPHUr08fDFPLFaSHQ==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.1.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.1.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          physical: true
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.1.200
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      # iGPU
      - i915.enable_guc=3
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
      # iGPU
      - sysctl.kernel.kexec_load_disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s
    net.core.default_qdisc: fq
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 10Gb/s
    net.ipv4.tcp_congestion_control: bbr
    # Send and accept data in the opening SYN packet
    net.ipv4.tcp_fastopen: 3
    # 10Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    # 10Gb/s
    net.ipv4.tcp_rmem: 4096 87380 33554432
    # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432
    # 10Gb/s
    net.ipv4.tcp_window_scaling: 1
    # PostgreSQL
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:pdm+zbcX6wKxWaYjTqoUKxX3xXIk2sR3XxC2HO3l25DkXvzcJ1dkMWwptp0=,iv:dlORwP0T2cY6vN0EXXC76xHT1izwjBbeuUYqciJOR7c=,tag:5sQXrzW2jfEzNN/pFTwKpw==,type:str]
  secret: ENC[AES256_GCM,data:mERXmMh0VxZQ9fNim6+tOKR89cnvQEbj4nw+J2IbRAlPPpEIXBdL4PUGT7g=,iv:qBR6RnoxBgru//6XjKG0TtHKawa1+w2s2k03cTXUrFM=,tag:ZK5TOVJeOSCUElQVTV5liA==,type:str]
  controlPlane:
    endpoint: https://192.168.1.200:6443
  clustername: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:X1pIYf/GqDCxPA/9jBPtwS/fRFlzVlw=,iv:KYTPvOEmHcI7ps4S2RP9g7Y+TgBplur4/kk3C8Gl5r4=,tag:PR7D1Cj4NuoC+/vaKDpdaw==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:R6uTVE40BfCSQrg3TEnccrarRdDPdbEDJcAoevFKFB2ehpcQY2Joz1mLpQA=,iv:QviB63XJPQ0JwmZDL4hXdnmiQsIWRBuI6EcoICgbw4Q=,tag:aJW3aaHE9ni7s+hv7GzN0g==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:vZFDkCtH3ty5a3s+K9XQeSvrizTV1qFaU0dx2NX6VlhXx0iRPrqhOZApa6s2hE3HxZqM1x5weNZmqmFmtZaOicBskQl9An1w9o3qw9v8diuSW+77KIY1QRA622LeJAZ6ZKsBtDBMc9B4T/RReR6afFPTDOZ756GD1KUUhpYE0opH/Bf4ws1k0SIapPY9+KzSkgf+4r2aDjBSYMidAJz3oGiJXMqqIfhUOyjmVWCZQQVRltJj2AG1FQwKN1s8KkJvilnw9gBaBL4YMuykiroafzNxqaC0BZmolAd8Df4qL8kgHD2MQq1aRbdhPEv619qStZAnIZwwiVBDlYR8L9EVy3ed/Mn0e2UtwQ4zFqFyAwi7W4d3HxqRNxErUVEhPKtdv5ATlVY+RJrw35kROsS8TH1pJyoMBKBjMgkk1mqDiCypz7ePyzJ/Ek9NxhABFPKf9StCCv9tzJLpA4o7hB2E5M6OYyjEO0Tj55MeGM8o1rVSIFvmTIAev/bx+dpKrDVaJuTZo/+jd+Sk93JcmnsEVAlIP2Mg31z0eOYbfdzb+LzyjsU2lfO2n3EwjAgYJqzcI2zxMh8L/8jDk8bW5psIQ2Y5Mgsnr1UAmPq+90SzYlPr7+FlCGCpVqg//f3tEbTRDdaX4/Z5DrRSBq9ZNowRKyPkuLprOeZWLLst9G8EnB/FUwL2RKlEdhOMr5SWzvZyaegCXXBJJY2QWzb6XEPelk3rmEVxUQ9//383lAl7KULIzv/sd8hT+V49oJCVv/YdNe1tNPM2cBAZ+nofPBlRjEjKmN6+Tm0NIT2u4PWoqZm4xp9Jn3pUMUuxYkPxutJX0qWVkylcH5AnmzDOEyxOkqI1Dq5fzpUtYbzadqkCTbX5CCfB4G0uh113sa4C/eYx47V3ZbBJRfOBuwfgm8xm/1FKGRCf8qS/BApTPRHOG/titEAKNv1da/lX34ADAwU2qpUWVqoYeID4u1OMSia1Fy8+DfDb9F9CmAVjPUigk22zRZTgTw+NmWtSXf2/e+hi+fH/220CFYMOruXv/vNFDA2ppQS4HWO1cqiL2w==,iv:c0j60Bv+3n5m1k27O06osQhHCTdVDVkY2V55hffzLD4=,tag:afdsp/IYSb04TZ+EoBHllw==,type:str]
    key: ENC[AES256_GCM,data:+++mYJMu5j51umDGuEWNtjabr4FZhUXVNsJK4O0WoZiMIkxyzljEYwjbsegu+oBJQeutlDJ50NIDsdYuI83epGOOg7U4cyZs2+AKrgRQ7i8KjjC7XnDREYI1wQus87WU4f8MmTPpWJbBb13YZM6nTsg+w18qlieMLo4v4sX8sCWd7m3aNp2YqhYCJC8kd54X3md6odjsxAa5b2iX+IDIbFXKH6Zv4bf7XQbMBrlh9lNFUMRNzNmOFbbHPWNw96rYtHxPmB1qpOefnJu4vlPE+BKGNqzT8Ro9ExUWqozCOTiWMfiwfHnUS55N+oMUBQxhY84lF7Z71DKzpxeM+77LyeHpO3aIX2lZnIp5Sq7WqO8EjBZQkxutjr7VjqKApjJnFr8kZQGVU2eXOkTLANbkeA==,iv:vbaBlOGTXYmz7Z8m2ekQzBuO6luju078fjUYhnfTEsI=,tag:dT8h7vL4SheM1mXKssBDVA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:AK1nQqi15Rmu0m7LnU8gE0HkQw3Iv9wk00GIs7LzK3Ec0IKbArxOociKEV0QUOxhBnMwOliseXfDreg8qzkoEOO12PeZ5STKubupMY1eGUcxB/jLc/Ok4070f348sXRx2tGkj20ij+Xd26HpZuhGlGi2pXDTU2WMqminfXNquqXZfoYIXxPENJMU9Rv6EbGUBciHQ3OffGIm0iJsm93l/7Xgj3AwQMBYlBk5gxs3LzGGqLktHP7xDdHZIIuJQIlML0E1FKrfbGtAmSdDDQTC0Ij369s2vRyOloS9J4PxRi1e7+NaA3avmb+Vf6rjqXUsmW8Pi/BJZZXXwmYcooqTez7RUO2I7AbdkPCAiVj0Yptt66AHA7Bq824jj/aCrQdwThklzdKRL7Ja9aadBgX84TP9bzUku+athpoFLZePG/oYx3sgc2YdlUNdPgxcQbnMnUuMru/qDcIJEe653Pu45aXDs5OR0e3+hCCCZKqbee3Oq6tFE9Y4skgE+N3ru3qFdt0I4XgPhab7rBO+N5Fjx/4jcK5Jwl5Kr6m/TMtRvVeZG42oBATfcLebunr1MiJgg6ZFHb7rkF23F/+sHlAacikTzrcchX7i05wRNBjTEGJsRwZG8HVivRuu4Ct+mxJNe9wT1mJHo8VlFoYz/ukq564vBueNTuWbTGnUOz9j/XmJeBmwTOX8G++ri6gcrvsrkHheu5WnQFxf1luZFa7noo3oXm7q1ljYYZj0SG7PJkZqMT4Ehr+5EX3qVJTNtzFRe2TX+ANomK5pcsLIXL7uDoTEqf47RAkZb47MCt1cw7U7JRve2Ah7/tVtHA7toMd+vYaVDr8Pfzk3qMma370OeEIupAEbfV1IL7kjxhUHMbFrWhX0EkCU7NDyGVaXE3KzZcZMyAGDwf1d5dOlDEYdGh2KB8fkGhorRNlHUIGlTPnqWwUeDdYgi17REYj69LaH,iv:pH1RQUOHoE8ox7thoB2Nh2inAk7mcjtDAHkRaRvUOn4=,tag:IaAlyeVGAkxIgvwVNKN6LQ==,type:str]
    key: ENC[AES256_GCM,data:FXIXKmdyesY1Y89KqOfyVLEOdZaJyscnvlI9RMMsfh66DAop9dD8uPsaLU8AQX5ApXLjgfLYjF+yjAWQQ+Xnr6GaZdKJOVEmZ9w45SjhB4jkfnWDdzDswiTETScMLE5CI38ZVp937dU/p5aPdjjxJB4WdI7gdrBzf6HLqR4koY1iyVHwtAU98A23FOipf4PXAfKVoocyjVVSVpMnZyqaAr/LTBsDep5rniLyxdGIVUJBcX2qa5cJo0cHZ4IBvLJxIODacIKoRQ/BEb2WP93Ft4I7p7SdDcFONzcUDPduY+syDpuILbjWvafwioU+WRz1UUKqVUFNm6Qth1mcAzIQkvwFLwxXHLfTmdeHhOPIjQ5DWRxSpjCjR3XfVk1tAvYOVWOjT3ZA2l9uW82+xv1CMA==,iv:VOski9R6x4dLBIZEex8wkhXivCUuDweBwnQoeUrStK0=,tag:6ZEB4iT5stzPTvB6AOr/SQ==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:5XpdNGrMthZgzDIRYQz56ABmh3qi04BBbS7Y3Tom1Oo=,tag:iq9dh6Vs26/sV0Rfctg1pw==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      feature-gates: AuthorizeNodeWithSelectors=false
    certSANs:
      - 127.0.0.1
      - 192.168.1.200
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:5CvwOz4Yj51E2SrqB/qM8BGOWv5D0Dw2tt5F9gzFQH9k7Kt5OJ6EV2AAaept0wgtyf+7soncd5e9jmO/HW6B76IQlAvqjjCgcCXGiiKjhFFJUP2VO4jroBJiaonUig8FUJF9K1PaYV9PfUU27X3otu9IiGcZ0LEshZwo9vBdrz0+FF5upwVlX5KojrM20arBEFpx9DfuKvZuVFBL85oL/1A+AhhDfJ7oo17RZDIpnXea0CKRzOxFQeY4pa+hJ3qei6/tvDDSjxGaf8y5Q0eXdXO2BvDD2LbPcr9/IM/bld9i5c1ihSvzZuVgiAvH1pv1PLVmXBEC2sIJn4N8bR5VCdm1NObaAf1m8KdyqOUVV8sEAAwmIJxdo/5Ucc8HlUvdVbZ/k0OiV+DuK1ZawzSy4G1wfbXgWS6kill4bpgbrtaO+ennnm5W2MSBbY9YK1waOzAlscSZNUD+rEsBNagPNZQfADwS3+1M6ejMDDi07vWhGSUENNd3Fp2OHFOiSfENUbtF+8LeK6X+Mdx0gwteWGVqOPrr1w//UepgjgvdAq4vLYuoun61R3IgeXsA2cz/vwvx0JVodqu+D0D7P0zDYzmSsJ5/W328JzqFIxYuxkaL2VYRV4xMwQsb9gHa07vddXrVscEuYvZ5oRUQzZOJJ8Ogt4ybzK2w8+WWHrxSAK4BHV6dj0sHHi4UhI87LucSvai/5sD6iAyam3o9Nbtzui4742en8nqSJCo2kzWn2Ej4X5P28rEG994eErdchS3YhzCHYLt0sZk6rNbMPJcUd6C/t/vQym8S9B1rs7c9glbN72cKq2zVcZ9dg+J2pFbLLpW4qvzFJUwU5r3aU5R2ZpMxfp0hi4ZOrm9GAVijEvWen9kRs8HWZEnOJgZ9UnMpeyf91E6kWZXwQ5ikvoNShZ7d37fFg4FO2SsC0JQ30V8i2515t35OVE4ZsV9CY1bgD1WzKVWi7X2vK6ONLT2HOoy2z4wPt8q53tXAMxvnh+qMzrzr0K77Dzk9gVJxlhVs,iv:HON2fA688xhUr+tqJpidHSF4Celncpl4MUpcHsKtQ6Q=,tag:Aljh2J4R99IGAw2FFI5iMQ==,type:str]
      key: ENC[AES256_GCM,data:KEh06le1eUMaiBE8iX3N+CkqaQZT6tHl5XuhAIy7eVarYpluBYOMzSfHyDUHMr9aOKvRjPKQ/EvXerwHP5E9mSf6wEwSOC7WMRZQHDNPRwl+xR+zFna8dA1up7QZkTa+hhHJTbftMkRbJVp9+q+Kdgrr0GUN7tXDDVU7cgzRRskgnHMZ0NUWZhr5b46VFgarZsDc59sUjKj0Z/kI0TxC7GNIPVSaLFTFsGf6AzgduBXjIki/kvdYlyI+ESuZOW3IPIa2CG88HCfxYV6mZrLqWYgeK8gkWSwi+SlSDJK/2yqRjwJr4cQzH6wg4993a4XIlANJphNCYteoMrcQ8Mw1gZQ/vtik07/dJgfD408h6EbH+RywzzK49NE+XvDGv/fqRYYbeMZqmWmBWXBYcF9DfA==,iv:0GQmzRgbjfLmAR6B+h6kRmqjf7lBLrtTl1U2g9//BTA=,tag:qKlPbWUVGu5s2Ki5CoJ8xA==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.1.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB0M2taUTQyUDhPV1VweFRi
        dVVCRkdBekk4K1FCRk5qMUlMWDl5THkvVFN3Cmg0R3h2cVlyVFFyZ1k1amNhUHFO
        M3dDTFQ1V1BlYlh6KzNSQ3lvaDFQUmMKLS0tIEhTMUVHSHlDRWNJeC82bG9tQ3oy
        Q3paclBUckNUMHhaelBhUkNGaTNnUVUKAh/irx+GY750GZA5BfzYAWTI1xRSj2qu
        jcvQt4JH4poAdk0+lsAVrwY7XWwsfQB2X7NQyo3eMbuQ/O+MCa2wrA==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-11T09:11:21Z"
  mac: ENC[AES256_GCM,data:84ci7qsSlzzJkRDoQ3eTTR81oI2hJXLwPsqtPVXGtYAwMSKAdlFx4yxLYbGdkGhqHqIXY6BsBOUhvrWkm2pya4jVdqHfgZ2e5Kb0ihUsDnTKg7eyhzrVNznBjFj842f6QwS3loZIUOPOnpTTiQEJVZRT/g+F8kKoJa118NAxMKA=,iv:n5KQfP0bYrREJvM108cSGrRw9cLTikGzGMOTf+4uunU=,tag:2XqNMIryct1MS2k5RTfjPQ==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  version: 3.9.3
