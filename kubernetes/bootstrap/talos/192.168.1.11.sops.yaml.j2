version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:c2yZFH56pUxj/vAhjShtPKhkJ4rGpTc=,iv:s2c8ynfTqw1cLnhoxX7tLjdfuSSOP/e1ehDZ9bhdvVQ=,tag:3MTNTnZHY9YQN6r0OEBOhA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:DGgcbm1Lte5+zat6AE99wwcPoaCnMXZw1/r0uJT4D/MGCWaLmFHZj8gde6vZ/I1JqpPOXGeqnk6Flvhop6LMae+LwyW1zkPxWf8ZXYPF48Wh2lnnNktY1iL4cTIeAF8xac5zIuA4mh86/O71PXBk+wSEklin4ahCY4AapMv7J+5OPIqQFL6sHZT2ZS9oywflmz173zUveqMcXTC7MStW9UaSddCzlFsNpEU51yX+6SP7T7qzXWqLX9eTkD7934Yvo5EpWrV4z4f7VxYt1BnWM5unxJs6Czq8aFC+wqz5srO+KeAHwmfbc08iBGC/6Q8zQk+HH1lz0YEHN4rdWrJDA68en1MoLL1nCiV1OxhxOY9IMCndPyVFDW20fUakXTMPnJOQ4zU0RW8PnUOzx6pINnARKhGa+OHHYCQOcTMWfCRnVcY3F5RkbWpOjTPWyvWj4WO/8eoauzAUmGW8h+xv1kiqH5pUX8lEngE4F0FTm5MZYnUyG1knbjqiACKkGF6C6mQ6TM9j8Vyu2lLkKuIw4sNDDN4JYBqIUS22A/cVh2OFtUrwQKSO9xzhz+yjDVM65E5TGa+LSXlbGtCZ2Y5AYfrLEalBCF/2UGhSPBcUYuP/gP/WkEpKtPUqPXBZLYDwkvQwd6XJwvItk6a5Sd/KS6n0pAso1sn9DkwbsRm9qspEtvfmTDsI3vQ7jNy6UIGFueKaSwHAht9TmvwmT82Xsc2zJYpIdzoyw1Z4MkJI1VmMcpYgwtpVI8RoEQvZLssoM322SLSCQz7HGXJFqE6dFQQz+NlsaIyW7d4xhskba/bdNlJOThrTztbsS581Q8VvA34RrpJXevmIRPIAnQ4bluX+sFxdqeX5bRqr9MGa9mPok8oC,iv:Oeerwj9+1JT6f+mjWeQq3oE/D56ONmVMKnutqY1u/Ok=,tag:IoLX+YHxPUzgNvikbYcLDQ==,type:str]
    key: ENC[AES256_GCM,data:LE9UkzOqG/j2n1nwwaLbIsrMHQEbl2cK6UkXAjdg/EzDwzMaTE0pI2e4hWyAieNOFm7IAJzBPGJBq3/m/ITfcYBjkX6JaOIZATLQ+xarNJu+1vkq+6Grcp3LgiY7pCFz11w/r5uLPVPpnB7+cg/785uLP4ZkBMoo1DLbTHMJYVh99u94TGdYER4MAXbwYlJ1kFciPRKBrpCpQe3AilL/bdXCjFVLdMys7RM7Iwl8ql4pf73h,iv:HIOf9HgH4LfN3Pyg1ut/bVKWCg3Rcs/h0EZem2Sykp0=,tag:9pi+EXhxDfg6W3P42HFjCw==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.1.120
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.1.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          hardwareAddr: b8:85:84:a2:*
          driver: e1000e
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.1.120
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - mitigations=off
      - security=none
      - talos.auditd.disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    # Spegel
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    fs.inotify.max_user_watches: 1048576
    fs.inotify.max_user_instances: 8192
    net.core.default_qdisc: fq
    net.core.rmem_max: 67108864
    net.core.wmem_max: 67108864
    net.ipv4.tcp_congestion_control: bbr
    net.ipv4.tcp_fastopen: 3
    net.ipv4.tcp_mtu_probing: 1
    net.ipv4.tcp_rmem: 4096 87380 33554432
    net.ipv4.tcp_wmem: 4096 65536 33554432
    net.ipv4.tcp_window_scaling: 1
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:jycGxGx60GeyOVTpkFcqTC2H5yzwPT89wINn6UClnIYaENUcXH9swDdAiY8=,iv:IB1PoFEour+F+XlX9wZN5KXJ2CfVCKOgdCck4Cfj3CQ=,tag:zMtj/SgScebCUwwoc8VRFg==,type:str]
  secret: ENC[AES256_GCM,data:GwhCe3AmjRKbcWPJldYHmpWYfKS97PWihkRhFNehDkPCvlSMDIhhr2MjHWs=,iv:SoPnJOlhQe6WvqAU8djz7klF1RzBPuuUTZIzEeVUZaE=,tag:ynHYGm/XeLR8YoC/gdgJjw==,type:str]
  controlPlane:
    endpoint: https://192.168.1.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:K/y8fbGqZhUzkEvrcsdC9U+K69IDP+Y=,iv:3ai/P69l11bBLGAb7uQICjkjdYlTo3JqiHipeD8VcJI=,tag:1yGJmY8aBJltm58nYhHF+Q==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:x2zQQssmr56hi4O4yfogYXPPPiJd4IuKf/ynIwRiObUPAproyJMHgBRPGcY=,iv:+PAFL2erZx+DHXVW3OAaBDMIMKVbfshLLaHKnKV9PNs=,tag:uTgWNiXgQqQizFPyG9se+w==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:vIKQ0VYr2FTTb0kC+2SHPGIuA7qCqNVkMPbbkOZc55dlHVhTocOnhJ99+UgJU2NDsN8DEz/pv5fXNWx+fsPN4qEemI7LSHDbZR6NDwJGLhNhz2kFORfSXBOAvI7+vCwSHlb9nH4vO+gmkVq4C1wPxRy6Lu+6k+Hx/1VYrEKgXiW47jTqbNruKAjPef2KUfcDbesTMWCB0fnMD39zY+vMu0pOt2rWK/OSzHCuIEpetST4rSFHH+dCWi3O8VhPf8LMxaumlDs7QVa/JAx/vwzvTisUI57UL3xIH/ZJi0rTkRzBpt5ztaQ87BgKpnmnKZZXMPBXyaNx8mhL4iSKjP2wtoeaRxYGt63Gdco3saPFOGwgu9MLKYCFjEomm4/eA/kKc4IG84+KPhTH1VumnZ4SMMY7Kboi9BgDVUP2f2dH9K0JxgMPzIeab90/ywQGSkKSxvouM3onO+5YVMebxmjmhCEneTiNbyRoq+KYBV57kdNzeqnQzZnQ7ja6LDM/mbGWcyWFF71MSZCoxEMGVMqAPFv4JfubnpUabKc1OEq2jhFq4gvkXZvRHBTPGg9UIu5kl36VShMBPDiXaCBJtyOHyNhubaDhdTAxzifuEhX+FCzEVhU20AOtJv872TtAa0MidXlIjpT2sHYg/ENx2kDhUA2sXHlxt706tQrgFvJg3gaF7UNjlGzM7pCyniQ4Ng9wB+amZrPYTcssqhBoUL08qccBB75yquJBgaKCPecQ8kAVhcxXjdA4QNNMZ7rp2FuGcAEXDCwuBjeXBTO/TTvZXjeT56YrCgjW1PKb495CdxwUFijvy6U5Y80vz6nYGzbQVGEcf5MOPWm9EsvY4UBOcvQytNRlVaAnuhnUVy2nCoeGzVWPVwxxZicNBZ3wjCtup8Nhgc7Pg/Nc92aY425e56NCdwmon3h/j967qSYzgbRPjTbK66rhX0VhITGcUnFaGFhi7AFZH/iSlFYY6IvdUrjdVGRV6/ptexlkNtSXKAnn185q8dhGWt4gm103372s9y0Ck9eVM8ThR93F7S42pt9O3+Nb7COHGWEGrQ==,iv:WMeUGbFqdXa0fX/aqxAktoKMFGbIlGTjDPwZ1kQ17D8=,tag:MoHDG5ZR+SazLt2nYtx5bA==,type:str]
    key: ENC[AES256_GCM,data:deVmX8T2UG+N6Pf2lx3kEYj1yiLMbUQbj5vVwznTFqLbh3xrXYuS4mHNTSEQUQR6z6BjnhH+jF8RSj6mkw8HTqj78hWnwjg5HexKiYTJmhNQQSx2J82kC7B/A0CccmSPRlYJulI+Zm97mxDVJfeioOsu4+T3qA/9m/HQqFDNpGd0Wu7EC1pe8ZE9pz48axx4k8Ka/6Flzb/2Uf2QMeTTtqMpPbQO6SoZWU/LlCoW7hc7afx/9eO4oezW2c+4+DkHXKL9oleYQAVcr9jvojqJmO2o8cFmq1QWup43OEJCQxLUghi9OF8keZ951/5eiCsJua7z8CP934lyQvlAdSBLSnF6PMvarFvQF1V44q5VdTn8dqXcNQJcub/c+p+n2z0vo293n/l5ZraYMXZ5wPhKiQ==,iv:K9qSpNetU6xFifJDhgY+hQDKcqWhNYdg++MeSPKFb6Y=,tag:uzlfCs8MdmtBpAqiqPEkGA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:Oht/mZvXAuyJRuZagJxlXR4pXAbma2ZjQJ/WSvVYHUR3879vGNu8qv+7H6z9HuKpZ/4bQ2IFCUhEFmDB5hVDHtPh0LZK5YAPHW5TtrR79kv/oSP9dQOWushLPG4UxyOujO05SzmbBUboGuF1UV8GEmixj5yu0XcA4n6BxTY56cUGdOEXk/7FCyqP5lbtLFVp6WojBbWfjV2DairsYELEBQ5LJjxpJjQSkjuXMpglU4lolUR3ymXoqAtwliutRL7vtOg1YJKIWtyO2kImpZbEbnoctxHVbnaZ+QjfhEXM3YgIkjY0pA2Z6318wRbD7aM04ZAnNU5vuwrRj2+32AMFkXQiWbjO+h8gE/kYnbIQ+RZSybxamDj3RSKyUCUdTaAYdtpPEaLTjDKwTz2lS4zlW/fg9Mfs1LKG8N4V32fgl9hVJZJ2jkdvplO9TtJauN444XWDDfappEKNSiUWuvqBrJgLE5n20pSeal2ptUUxBswU0q+6AOaB0tLIJ0dbXVUNsLroJjWkD7a9n6FC4hqJgy4jbCloRvxsBRK9xa29kjHz6qECe3kmjwkPwoxOatNG2AoiYayeky9DRBXBMkpjuZ1v34e4ATEEhYr8Ge1EbVCx1ra4CYDsTXCh1kglKmWBUScrgRDP+7FoEGvTkUTTzSM/HD1lVxNMGHisfBU7H2di8afB/ppJi14kOg9rbhmk+2sNc6y01Td3kUbnhJI3sxoV8s0OXAIdn5ZNnva54ZZrU6+fPpPXpYDL5vxn2yf87Lj4bTEYjJ0G5VE0gt/zkwrmV9uQsFz7wGrXiG7sk8FvDQj74B66OJwaNDhTiyLLU67QcOpQEW8+apZeP2FYNjWrvtU02FZ2z4sVNTsgifEHHDhUY5rXK4/HYH8V99BiwsoQznAioOqg6lXqjasDdxvwDzLxlXk3qpVAOJ7jr28Z1t4hEmhiBMLEENKN0GY3,iv:kWZeDYLbJ8PisIXWtqu/bOgKiOK2cMoXD/CFkcVDPEE=,tag:VhVipnX4eD+zESIVcon47A==,type:str]
    key: ENC[AES256_GCM,data:50SpCJ7BN8/5ZfBEt1Yt0DBxbdSKKYjSllyV/ngGkWJHGNtXEJVDwMmaWMLA/vk1xuWbpZZT45ZCJ/bqMpctmKEoomY48QVn9+ecXkpK0VwJLKGh3N4I9wiLC+m8ARHDhIiFexJs4W68M4dy5ohXmpxqEoMQAyaVwyX3/ntWA8OAXNM5UVao4stE17qYOvTg0JB6coWVfQ0XXGdaRnwulYBmhpqV/fRUm+u2aHgHq7WyZqjmfA50Ig4e+0MC6XQTq+gbSRwM+70hC4QNXyuVvS6QBIEcrJQ1R8OeV4SqanxO9OB2aaYsjkB87r0tLdVq9M7g/F3kgCpd3YC3Ado3TtrUnMTJfNPISHF0BhIoGw3j05Lx6/bY+xY/GVnd19lwFTQlEsF1sutiYZNYHrFuYg==,iv:7A71hHE2C9tR9QwDwENwII+zbXvogct7HPJGPQed6Xg=,tag:XVeUF3/en7taxgFKA30qVg==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:4VQbwoN+HY1kbbbQ1QkTeyeDwj0M8tS98BCxmC0C0cM=,tag:ApefEhHb+K7/uAJu5Wqd/w==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      enable-aggregator-routing: true
      feature-gates: MutatingAdmissionPolicy=true
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
    certSANs:
      - 127.0.0.1
      - 192.168.1.120
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          plugins:
            score:
              disabled:
                - name: ImageLocality
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:haEHEfKinpdJ9TIpQ7I2HOXCxSuWj5bhRawTwTywfo8eD7xTzzN56EsYvh9iIs69ymVa5Zbp4W7ak6TSvkCSvIC9UQS9NYkPAQpnZRnOB49CHDTwxIv9wKqXARyHf7PLEdnj02lsaEX9kkVFTFlC65LKtBigWthA8CDd+zcazx6Ua8tPSyDuIWxOTOp8Rw8//M3vd+Se7BFCjRD6uvisO338LPgsKb9+qguOT7ra+VN0HFO1negxArZdaGy/o7jQ9eHGn1pQdAj2IyyrZGdBChSwYv3cVe3gjHThjXw6DCjI4bZ5AZmEcwMtqWaDCo7M2nNDIiqZzk+ia1o9jvTSOt2LI16lH5yXr8RjM+FReA984dZmxOwOHTAH5lo5lkuqvUbSS109QjplJppjA2NkEhTS8nSrzK8tl51OEhMlm+Tf5xvBUoJ7hNVGz3R+YsP3dHAPz4uWK/rW/B6KYoiTLEBfKiAEisFegwjOIQRxhVe25vScDsLPUH5ikksZ3PAU38Eqf2DHck42xtD/uR1ox81vbnFRM+uhqRuroki16QuuuaXoHOiv4W20OgGG/eVnBuUOCq1SlHJf94ujXpnZ4lfeuOq4BiruOwnNmhTIHwDZzu3jywJswVEv8ySxeRUeyEJ0pgiazR5yNk7Ib6ITLqohg9Niv/jQissIZYyL6/1dttLlZlE+hD8sZAgFysT1gEjYJxXEklGh/LoP4xMnwa40EFfqMImFlczQmBiXG8uS64SrmTaef8wA50E3p9GtLTA//+gGJEVEag7l/QbQuhDwRDWsNgEZmtoxvy128r+Oe4ZLWYKb3Y1UDwqka3CnYoWrDMGG4MnUnHnBIWCdGI6KDHO6qvJ1dFuxx2v8vf5pIw5pPBisVCwEc8XSNzLvGXO6UvQRPeBQQ8F3NrcUO5tjCFMIs9AP7GxGFPdt0/MKjfiLuVCVYbJ7xx4MNvdo1If42yd4p12VzsY3FZyNmFAgT/B0HgXM8qhHrMQ2iVzW+8J86iTWU3LOX8DGqs8o,iv:kMEaxkPooq8ojNaWSX8fMRF0/+qVP7pfBrTdEDQtU7M=,tag:zl7MPSVjqCKqaK24Z55siw==,type:str]
      key: ENC[AES256_GCM,data:+PvzF1rr7wdMWdtn1yLBopo0H2Sz8pelOPAWZJZUQL8ZabbxChMp1W50ziZSm0oV2YvpkNWzZdFxiHibY+9x/3Jp0sZKT1djDoaCi8MnpuMnKGOgxhdqQy4GiFa0BLzcOBEYbaPUN/Rqp+smSlqaysyuBgJ0yxpuSvt2NFUmr0F8PsffZmUvHBLI8HdjGZ/oC2QPlWO146ZntrQwWpgti3RxUs11CWZBN02Hg2jChBCcWSJbny3DdJxuLcasWlaDOrjX02+U3NvvGQy765frh17orQAezXB9U6wBzABPgBESEoThxWStsnn0LdmtZWfUgu/stAWbxvCCzMdfkYxUfE/EicU/ZlIsxvdaxyqdLXh7ZMpvs87gT4bIuHbUGb67MmYaoa9mkDYVx6p0c9H9/A==,iv:QWG+vT2qz+MbYARuZyhU74Ly8foDTcQLLT7ZQCpk3gg=,tag:vWymhQ4BhkaeH9Os7mf2mQ==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.1.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSArd0FHb0RTK0pidW5EWGVq
        WmtxN2RIOG5Dd2NPVncvUXUwRlRicmVSRkNFCjFJV3hUMWo4UjJTb01LWlFGMnpV
        NEZ3VjV4ZmJpMDlFZWpyZEMxamduQlkKLS0tIFFIemkzUTc3VHhsNDBEQmpPZlVu
        NzJzbW5FYXBnc3Y3ZU5SRmIwMEhDc2sKdKt933DEAuNNDAdOArV567/IKKMNPGc1
        duWdY911/pCFFlQyjfWIkRMQhu/jqB8XVjjL/vIWb/YsbaSfEppjxg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-02-12T01:44:09Z"
  mac: ENC[AES256_GCM,data:3MBcglYDxwQa9HoSlkLk30xkKFe+YqFC3jPN6rrFsj0CRAIqC4fHoLqYbsEXujHIohV8kvVfoTdcM4DiNN+sVK3YhR4fZSjVDMk/RpVF1kXW5Q5PHuJ7hhjx9n9BZLz4ZwR0PapwdxFXiIHTGFZVJ8CG+7Og+6o4BdJl2OUtFqo=,iv:bemDxHOiNmHtxPIkIAS5RNCN6Kt2066D+gD0MBkuPG8=,tag:+d8QOoQ/Cu4jdcFTlx/flg==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.4
