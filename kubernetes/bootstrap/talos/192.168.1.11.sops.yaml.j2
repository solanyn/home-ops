version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:esPxUlIazPt580s42uPomzWkP7fjlcI=,iv:Nca0rpwsxH2X0W90FSBeHgtfBzU2ZAc6XbUA6dkTupM=,tag:BN0qEtk7Mz8NjdlkxH564Q==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:xWoJsJJXPEJbHhN/uug6pFnOGwzB/aORE8jSYTFJp7GA5hPcfg6bZ4zb2uCVDLXgmjHBTqUkqP6rGZz62mFVUVmdtgrABobg/zx2X0ZXsBpIRHnXdfkChdoCIY/0PyAEULpDKPqbOSk/m6ICkHmfME83i1WL+gb/9TLmX3t3GE2fdkPuNxVFWAeVx/zv9W3LGsJat2sErZkt84ry4qKNNOxw+ptaYrr1DWWeYXF4AreI1drOfUPtGUODcJl8t4SZrnP4YO0T4Yj1ow41JhdD9RII+33tui4nFEGpePfEDW+vTBUwOLxxMpP/fJjIaqrbNh4bqlCOdugcdwSexNufa+WLTeu7Jp7B6dxE+K5TKQhrymT6/IhilTIW06PS034Ko6fdXuq5lJWVdj0tLDAqaaPBTqvbN+4B45uw3Xd5i+7c9j+Enk5FB0qZcfCqre014/lroyTWRaDKBbb4SvNIpdxWYEKJ22Pww5rYYYVLXwbZFnJiQ9dQFH4N3guayhTX2ukjuTfLFdGHkDGQTQ6b0kF0ILPViArdok91tyoE9YMf2/AwOtyZCmiopboLqIuBoHp8xY3TyFp0fxuYNAOWOHBcnAv675EWfGZ5DvCFCSygO8RssxzIF1J5EsOzsHHSNUYcjVLsacz3BU5moXqXoR/TELGWpi0Rq8VDNSf4asK32i5/Q17VW8QctwevKVLg5uqgd4ltJoybh5Q4RhFo1Vhsq6cMRo7t6HUHfVoyCo6biat/kjmvHtgaaXSj0XBaFwQosMI+VI7o29kZwm7OFFKmTdKdhnh2uwMkQXE/rmpMkzcjLAIONZLnyNer253f8007jWNYeia/lj+u+JjhVdjHbtFwuX+DL3NpOYf7Km3Xzgwg,iv:RG+cQjbk8uRlXdan3KHMZE00qU3tTLwWXeFARDE8+KE=,tag:czDgxMOhQZ4xs54aIfle5w==,type:str]
    key: ENC[AES256_GCM,data:XV1PrwGA88ZLsjlr7EXi6YTQnK9w4q+F0bg0N4vsd8hz7xo41B5ciwr/OlMPlPPh1evUvLEmdbJF8xDoB7AD1PpskSX4MD3EryUjZsUBQ5wwdm7srkcrKFFa9dV17I4W68wszrnTKjIfoNOwpHQCad5zreaa/3mnPRrhgUBt+jGgrCLtCMEJqucSmV2FuwFc/4qVk9B9eW+PaxT1v6Pt07x1viuIfY7cLNFVMa/ZxkBy4ZA0,iv:c9MNphbdxrukKBWMFqixFJcSokPO9wo6oASAebb/yo4=,tag:9PqQMK9SFlW0Wg+PL7J+zQ==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.1.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.1.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          physical: true
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.1.200
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      # iGPU
      - i915.enable_guc=3
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
      # iGPU
      - sysctl.kernel.kexec_load_disabled=1
      # Less security, faster puter
      - talos.auditd.disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s
    net.core.default_qdisc: fq
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 10Gb/s
    net.ipv4.tcp_congestion_control: bbr
    # Send and accept data in the opening SYN packet
    net.ipv4.tcp_fastopen: 3
    # 10Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    # 10Gb/s
    net.ipv4.tcp_rmem: 4096 87380 33554432
    # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432
    # 10Gb/s
    net.ipv4.tcp_window_scaling: 1
    # PostgreSQL
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:5q7WISYLkFaC5gRld2CBcu8jwO4fL1t/5MXt4hJ23fKYmmlcTzkrqLo/yoY=,iv:/yXsKAtLEK39FKkBkolbMamddxql2HlZaBbtC6/Lstk=,tag:ECLh+513boiEy6pSoi+Q6g==,type:str]
  secret: ENC[AES256_GCM,data:8ySaxp+v6fkuGUD+V2hBRzzRs4Z+Svj3ZYQC9gdHQbgKLJLp7/O7sxXYnG4=,iv:r73P7TMvcHeBsf0utR+Dov93ejTHU0tlsXeK/FRDg4Q=,tag:sxgIosg1/VjUwelVSQ/DaQ==,type:str]
  controlPlane:
    endpoint: https://192.168.1.200:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:LORogn0KGBx95a6PJ2LHfy1O40iWvIQ=,iv:mjfm7QszInh27ap4LRS3FhbgNpdsZ0DwF2GUjixCpcI=,tag:VUtjCntrBd3PvlORKq0JzQ==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:iVF9PPtvU+dptDTg8+pu9V5cjZA/Zz7T066PE93a3trBdCUuweV6ihDiVEA=,iv:UxbTD0GgM7uXuy569BBcTrrIfiCS+QXn4DapTREcF10=,tag:Kg/3rn56zg746ZAWoxcWsQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:67CR+S//LAtvlkF5N9rHQ1NQpmaHB7zVphPQsqEWAi0dKaEqOZpqS0xyW1RbP/PuvpqrMqmyhEAjFp4UKx9MoFOP2Y7+5TVa3KiMa9/mgLFAMUZWjSz+n8IYoQ/yxSuhR8apl4frKWhELuY4BEvbV75vsnkqzNikpfBUbSNsVfQh8zrhEGcqd05DgVy8xjMJ/rP1SuxXc+iIJqsLf48DVCuk02g5BVkJRK84qimyZzUvzG9LigeWvhZslGIhZFP7F1CmSeVqI5LsjUQPs7Ix/jhjFRfnlrireakzspE9nX8GJXyur3YZCJrRdCQ01O3Wr+iotZHf1O+QRJkQqpsdxrO2yueMnXyXI35KCmZlEsyaw+FN//BN3agMQ9+OwxnLo6eB7elOVHXhEkwAiMBznQVG6Gua9ooKLFFdvu00tdnDC+Q6VJMUDIqbNZkpctH2GSnFJdSd/b98mt98+Wit7KeXwYStssm1sEsdkUWC+FX7joZbqv6AQKjDKuZjHTjCOfXG42U5jbZMD7XBmxazaJP7PtO7H+BWUrAEex2cQ7uE6dyCewJc28KweAT6V7ZVp9kb6ykGjOJblzyxyqwUagZYOp6jHmoJFFtM8HLEI7om5IJ4lGEbRjmCkP3yAR06QyVQebxq+hl6TP1yWyCSK00+C1+Z4QrtBjVOy5QEp7wZtCk6MECiHFHh6sbVxSIwkTMBJbczDcBJ2cochskiJUQgDCNME+pUDaZih53lN6z1IFx61AdZki2SmeWMxyJWBpx9p6/Nanqa4islm/OYa9IZ48pqoiMVEAEN5jxfuqmtxVeMkHLVovfXuTHuRlTWwirfXyKdgovc6WdF5sR8coN9lo5Ujd9ojNVv1+aOivI2s5rbappB6evjJJSVkIL/+oCCrm5ZjE4TOu8LEappObq/ns9/TyPruhZKNaRgQDXHoT4z5xfJiINU2L95g36vvc1vuzF36UsPWhp4WfdByoRIpTsGkOynF+7wTBDCNzgvkFvwJjAoOqEpNTMigwXhM7ewhEjO7+Q32mIWTZasv+0MZvMpkLxe+JFFaQ==,iv:f3PzbxlvrFtTKxCZ/jeLbMg6hUBI0rvhkmPtUxBTK28=,tag:xTxqpthj5r9kl0Njpf/H+A==,type:str]
    key: ENC[AES256_GCM,data:I0G3Oz3RvoOOQGsDBHalN7lVj25RK/QDgbB48mjvhjnoFpMjbTM+sv4HpYlgVN4ahJVq0ujf1Etw2frrMW8WZs4JiqaJ8Kv9ip2XnLcJynlh/rjc6/2MyM2kWP7mCLAuKbtIOhTxbSsXfvrZUOnUhkxa8iG3gZrGz6Vmo8mEZxc4iRxBav4Yxn2SfI3yGhDb0u68UKHfxTFCZNAQU2drGE0H6Nb+YgrzI6OO7prYqOOGBmsCJpEQoC8DAouj7wyq82XQRZjxrh2wn5zCNwzGna8o9ZldhpwJvySSSvGDwbMrxL3TGjdIjph5fh9HrwBMU4C5rcASjTGaTnWbTWRcRxiX/Jj1iVh9okfv8su8tnOG9t5ip4lNW6tqIpilnzcRuI+mSMHKVz4I/+DcHkOGBQ==,iv:8EWWt8x01x+tL5IJuyyDK7nk1gBsK0k3cStQ2wwtTng=,tag:XYXC75cCPgyFWXV3I/iB8A==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:svp0BIOUzDl0yZgQJzsmMPIJDTuyh5BFgKG8ZeLxvVIFG1ji14gqAZEq3vMp6T1auUOdAen1gqwyXvuTedbHRT7v3KqkF3u+c4A8AMhZB4dwTp57d7O33fHOfH7jLAqMtAYADDvt4Gw1cKy6k3pPnRROFeF+E+wgxKKgvrTbltr1cPuce18TmCoMJWiriLb/H31aZ9AJKW4RcjbOSBdWsMz63ZGif8C5oKWtzwkTcKg9YTQeRcFEYceFi6niJy/4dRuXPbQSJk7ZOBFLNO55IDcgwZbWYuzO8ttJCKX+MFVyW2fx47jhWWFaxM7/2XM6862V3KG6/ozlkPDsZQKP8iLoNiO+QaHGokc8GUKItPHWnzZsD7ZP6NsXwD+Wv8TCvSY2bw1rESILYJo+CG5vhYt+cZ8c2YqCYTonaUP6ev5ezkZ8jJteP9J9Xy0s0Rfajs7NK0Hl1i30C1i15jx3b4cqBF1BcRwLELXYlHhsFdteccqIMF3up2tXD4CWVAcw4I2BlMalt+dbVpVUez+nxOBG+LZc1GJffscy88BuiJm8s0Wkgq6SfEumYoz81BLxmFZqgB4WyFxA1JXoNV7nvgDLGD0DTsm3dVaA/xpv88jgEJgvFGnjyHfjW6FiG45KWPg8fVPGOT/qpr06nrQGzy++47Hm/Ny2iRTpqmIH4YucZSf16k/xKYNqzD1jknZDaQfDp2MGx0U5jxh48pV1IhQ9EOFY/pyy5NVYzfLgMGQgoiKwR/I8nWolN00R6pqvJ0/ttR8tjowElskLnWk6nK9TXmIgWueHKZXqiuoMJ1lgo5KiEJppm45Fzln52PNqdhoh0yPCK/MrT/ss5j/AZqikgsYFI6SKrZ1d6FPv0Qa+alU9Q/r5HIQERMhRsDWN+TiWR3RF5afnw/9n5ScOLkgRG+zDNZFWznGtCQaimXq1okQoKWy1nt7a8pcnmy2z,iv:rJD5Q1+GYcsCiQOI5iHu0LZHoulWqsp5//VYVtsvG+c=,tag:OPHt4zmdRG50eURbVkx5KQ==,type:str]
    key: ENC[AES256_GCM,data:QztIP+GrCTmd42GokOAbwlNBJFKaLr3ske2stLPMakHH8HjquigWrfUIJs7/XfntrsFAlTlph5KCge6vH/Jzdby41slXdl0ynAlVxxT+VHTf4gbi6kP/but9cBEQHDk58g1dizcvCZW57iuqG9okstCuQ5olqKleQ6vWOHCrT1aOlwZiNPB9MlpKMYImHsMTe0+NuJlLiAFTrensNCHZBCv7TfMu1wSu4Sbq6Z+Cx5y8vS+RKTURllswdwixshbGe4j46Nizjvc3bmzuCvlIi49pQCcSNgpt3WT5UmhBx+yw7K8yHPC87PvQkIYJ1M5zErvbAGoHiXIGYw/KpS1ZKgGdEvlyM7asf8CcKywEAXkpOFHhPszsyWxOt5X5GBcxbpNqqrfefTZoHBiNxNfZrw==,iv:pV9lCB0G28TKwd1UoHhvn50wA3Pw8gw2TM/CliLNWYg=,tag:1MsMapFef3ED7msS3HtyDw==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:tH9fuX06ffPsoH50Tq+q1ACOz6NDyYLOUlOcIrXFpYU=,tag:LN3hG1ayaI9a7rRP9vUG8A==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
      feature-gates: MutatingAdmissionPolicy=true
    certSANs:
      - 127.0.0.1
      - 192.168.1.200
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:KW/1ZusD+MXY7ZvLe6xkYJ8QmHE1oTwk8bI/3odsbmE/Fl4ViLbV5BXetRuUMG96j65dAfCu4T6wHkI012MS2Peh8fIqXHToFFl3Q97irabTKLT2WU3zZqjMcVttQe3E5pghnjTWLaj1ltSev1DTxuXbzxG0YBToirkcq8ZYMSLvaviCAAZLkM053UB/XlXS4ThH4ZDJh1Vd25cDgFP56K+oRmARZ0nUqkQKbBP9b0ZGxg+Zah1CyRbHO7kYaARVxaAlo1fv/ZQQ2AYRBPjLVItT1cDxQ7zRj8kNfKln8iEWnAivqSdBjeyh7kijYexiRR/d7SAk+ukk+XtLHvIvdL4w8JfQJ+md/4VuQ/+PnVgPWOx7Vrang1X9mxc1wDa/DXI4tyhXLD5fETUSSpyUQ+XKdqWcm90nAEMAAj0eBSZBLm0BccUPmTOMQk9oTu5PBLcHPiTa0J9sdwtfY9/Cq04hj5Hhf/ZYrxUb9uDMSuanTctBWbFcZH3wgJogGAu5bR6pk6JEWCWgErY+zfMzoqeIEiBEyAd/of6AS7o+3nwwdv8n3y2jwc9LUcJME5BApDPakonYpY5WtGb+KXOj5UTeEmMi65P/16NlxOqCROWcv6g6HgSI2rojA1f1i3Vpas70ZTMBLl3ZUq9H8+N6hFP7VZrwLCZYWUQgFsG4HEDomOYO3emHDXkWxDW9LkWE4iXvEidTPK5dNbanWO0u5ZcpReBIxWth1EKel0IIY4SKsXqlxLzrDWR4TleTXaW2WYjd6aDUlgUsMejK1Zk6LIlfmUU6ULGzTCvB3k9e/PyzqoYGAIkyq+nH7iY6XuJ9tUQe6cbCaiYH3AVYy1/MIM7OU6PT/hfuIa3oDKeeMVChRUf65t1NoIitC7aJnLTuT2QEwq4nxXpi/1cJtdERyt8pkzX9dAsZQpeLqIfE93LAl2b8hMGiAPSuneJevhhPWNStytz56wcNe3PFbMIBygcrJDDk/4zcVgk6yvFWr4QJALD5/ujJksQoWlQFyVEM,iv:Rj4WAfLP9DQPrztnDTaeL8t6C4HKpArbMQI/NklDdoE=,tag:oxf2sEwdgT2SiIW7ru5W1w==,type:str]
      key: ENC[AES256_GCM,data:Dlb6c3Hc4xGTq5KcGj+qoNREv3O60XiKiXhSPBBxpk+kDFXj9ICzvs1Nv0UbFsviBuW7YUPjzjCduXBZGA6kQg08Re69WNV+lAeT9wu6rpWSr1/bAWnhFJgmzUVvVR3mPD7x0xi+TVljWFNY1PhVhWhNvlYiJDTywvmpObycUm26FMu1PmfGf2f3+nm5mXFQD0a5byCwrKc+ea1UlhfKSkEE3Llc0Y65oRNgP64ZRjwIXDe4yxdYy68I4BQRzvHXnwR7wJWuep0nlzV0S/MsCdLP/4BBcl/QzSiD//ADknztpD9j5i9jfsLmlD4OYA+4JYXC0Qe4Xb+WJKyToctGC4QeNo0xBtVk0grKI0DXwrSH3MvbheNyTuE6CMKNpxgzp2thy0Jgn3ggy1CowhQAnQ==,iv:ApkUtuBveI9VBYp/G1gZycUCOXJryEHoYV6HqXd/v+E=,tag:DFT0phMwq5zbztfBExOb5w==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.1.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBtQjVNY3JkVFY5WmNGMk84
        c2c4Y0tJdm1yRzRzampLbDN2alNza3BjYUFRCmQ4RmR1RXpTbzBENmorWFVEbnkv
        RXhtRDhZaG5ISytLV1VzODA1VlRZbzgKLS0tIEZPcmZkMXVJU3F2MkhzakpaMUZN
        TllZN2RxcGdwNzRzSFprNHh5SWt2MmsKV/iqX7UJQS/0g5tU0LKjrnWxCC1ihpf+
        jkDK4ohBs8morFEfASJkVHW0Y/BxntlIVGSo7xMC0UMr18smq+NmTQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-18T11:53:19Z"
  mac: ENC[AES256_GCM,data:+aIeOz0IVMBTGN0eTMy0xJJnDRyiGUGq4gTuNk30PDdcahN6uezlxC6Zd1tCCmF5M/k1pOY8vk4Kt5V/rceOn7B5P4umr7iyDAFRnxNZq4u6fW3Awe6CQo2VJeop+P2IFmKM65CG1IvlJQjahiyNCwt2g1RnfYKEChkMqKFdxzA=,iv:dtMnzPbAMQuuDqFkb6pIpnBfBfazrYYzpNQ2i14yUE4=,tag:GSOXaQSHwCVcu6JitB7gLg==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  version: 3.9.3
