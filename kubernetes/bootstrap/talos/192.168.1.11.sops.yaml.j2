version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:zFAMa8wlb5l+HlCl7I7s6cT9SEIFKzw=,iv:0ikColTA1zDUDxDrNGw1jEYjuVdlYlYv8+81dlIK6Lo=,tag:uLHo3xcdoiu1+VN7W9QCYg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:iZu2YXLh6o3BgMf4Cfh5ppwu57itEpv0pI6415ajRGLPDGrf7efbJvXNryYbyF4lF+10lqPvYzOA71nglPKVj8TG8MwDYxm5QZuIYRKP4cYo1Csj4ZnezLt6SNardomHWRbJZ9oQA7qkUC+7uCdebRmxcX82xXeOLp2zemd+QTqhRrDMG1Rk8uvcBYvbQPJFhsLuftUsHZYs3rQLcWSLocagBbDYKUMycFOCUGmY8o6mjA+ZLoI9Go193z3Q7UtSUde9MRoe0xgjLYw40hVb8ZSrD1hS7BTXcyhkiPGKQOSFF6eb7jtegULDZ5S10WDr9864dBfGNmoI5uv+5UBtdbbDyEmcpvfvfZLxna8sFgug/DnY+sfaKL/jtsslV0diRe930Sz7FVUiUS1bMKZbye+gI2rumJryKC0Yo/o++JmRIvinJurS8fRmq6ulvU8SuKylcZc/RZ5t/Mlpz5cVxeZZAAchBkExr4ROJ0iZUXIdWolKw/bCG/lyGgQbzXvvHeP4AUN/Zf+FIikZFOyoOTuK+FSzM+Ep/Eh3IGjAYjIrOlAXdUlb8lHkk1nXNmFlhzdUjqfE7jrorS3k6hIJSqDlb6ilSPXy4AoZublfJDuOwgXgQBifHzyZ7eR0n781bnu7LzSqWvRhniqxIc83M9/D9I8vbX0Qy2GNZNmgrELJEPNbbjjUhK1kcnvFPsNYjCl9oqxF8jiWCi3yDYBCY1pwoftSv5nZKbj8NxJkaxTXm1aUl/SJ6DzdYHHc0uO+i8ACAHN5EEFmDW+/HiCbs90dEFSQ2/sb4Etv42Q6Bw0AdiiGbC+vFUWMLBfrVS6tU9TJWjp2d3XrqX6NN4dvXUyZe/hqZSmyPJWDU0ddfs/pz3tN,iv:wPodavP6ArVZ3OOfV0wd5ius7Z7+NDbw8D8vaQq0x1A=,tag:2SsBUDy0r8WHl0dybAWeVQ==,type:str]
    key: ENC[AES256_GCM,data:nbmHH0EqGX3CGQHFKeYU7wdY0DNqrhA2lmKPqjlEqK1mCb6taT9iyHbhhhgL5SkdCu5w3hpXPjlGtN5XOhcZ4AdsVSeA83MX0DfYC2F1T7toLQs2dGGrKQwnRpegEw40ZA9CvDMsjN1SkbkN0qzoWYCyltxhD01SDCVrL7W4ulo0ouiZbUm7QHtC9KkdWQWfJqkg+dIaeg6wHUhfLb+WTQHgYQnHKz69ZYzZImtq88V1LGMh,iv:l6YuanEY2Gkpmg6XpZMdz640/dMlPDglzimcY+viH9Q=,tag:suvMrR+O+RziY4u/vDzl7w==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.1.120
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.1.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          physical: true
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.1.120
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      # Meteor Lake CPU / iGPU
      - i915.enable_guc=3
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Disable onboard NIC
      - module_blacklist=igc
      # Less security, faster puter
      - security=none
      # Meteor Lake CPU / iGPU
      - sysctl.kernel.kexec_load_disabled=1
      # Less security, faster puter
      - talos.auditd.disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    # Spegel
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s
    net.core.default_qdisc: fq
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 10Gb/s
    net.ipv4.tcp_congestion_control: bbr
    # Send and accept data in the opening SYN packet
    net.ipv4.tcp_fastopen: 3
    # 10Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    # 10Gb/s
    net.ipv4.tcp_rmem: 4096 87380 33554432
    # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432
    # 10Gb/s
    net.ipv4.tcp_window_scaling: 1
    # PostgreSQL
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:Kdr+XWnDdz8QE1KT2yccYJF8bT78vmgXRwdDGLroBYE7a7SsFH21Xn1DFZw=,iv:87zT85l6PhBGAOpZO7H/eTO9A5pIpjGE3prXdPQqXbI=,tag:G16bcAQ+km22QFvaEaUmqA==,type:str]
  secret: ENC[AES256_GCM,data:dmPkcseFW/3tS21GweM+NsS2StZLNIjdQ/zHR+AJGq0Jf2rmfM45WmebOkU=,iv:hQ6TxfZRIaEZe6Dvm8HBiKn7YU5lcEDHfBH+v/qlTRQ=,tag:b/De5UYStJiE8VjGjk1VQg==,type:str]
  controlPlane:
    endpoint: https://192.168.1.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:C/vRyTJZq9+7KZR6d4qCkJU7oEc82+8=,iv:+ztQ+zjHL0N6q6l/4n5XQZWytq2dqy3fsKmPd+ij/e0=,tag:aHccBZ4roz0/j7buQyZWlQ==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:HEiItnyftPr3dlhz8WCQWhs+XYk6+/KezkoIV3v5+HFlin4P/2SD7qmCOcc=,iv:lfLj1FTCUDHaJq0jgo8+padTQi3RkeqNqUyjBTZytDU=,tag:JtaU0aiMG2LQ4l0IBFV5tA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:YQ8tKTpyM/Q/Cp1Mmtzt9BnozIIsrLnxu890qceZIVHSExnFlzLdGmcLNI7fW1Ch86ia4pOqR221xunDCGP7UefprHq+YLRaiXKY3QGE9dny7E+mZr+l1CEXWiQ7KEbj2CREBo/mYru5GuqimJzAVSGPLf3skERiJ5FBq4hsXHHjwodTYb89iu70C2tzcy5nqhFHzMf0qkEwf2yeRRFE4s+zS9oY+H/dpdSFy2vNn++Lh8Kh2KuAGuFPcqcxETblOKsotaJTawlyG+gCd0KO49XP/GejElDIn5kLZ5AGh79lEwGf+9rxNCM3ID89OcSfosgDk7+WF6pPJHxxf687QQaCqLoMf7pgMB20Zpeb5qq5odDClke3+wx+AHhnRZ4CmgujpoPur3KY9gx4DvOf4zOx1zC6Rp4BU5i3LIM75RLY6Mkj1/hu6cxcBMBcu6GNjVB4MT5ZvTZ3Ie9dKoOedV3NtggWML0qBwhvyjElyRvguXISI0lkkwMho9ZpPXQC8/FFtkvvKZaSFQsNHmUbGJo9WZTLqkn8a9f+vzq1IoSS5wJD4ldb+YUz00LkPfEdL7WU8YtX8RYYHR/eM48a1UKYCgF1KUZcWpM1cA7GE0QJHxkYrZlbS1ck3QwvqaE2sfBOQ+FyWqiAKIZa51ndoQ8IfGD3BCJlt2bIRLYXq3/i8sJdkxQaxIsOgSCCKbvbj9cgd58XC3QxvUxm/oVXdeOXm3u4YSTlwT9MU2Iu3RwqKmvrqZ3TvtvzuKbevz81uaoXWXKYQFh8xdVGPjUzt0AD9Ytp+BvMnQTmwitJHx5CILYREvYHhI3PyGoDcaBF6ta/1ryLkL2hb8R7/f76rxH2OH0zFaE92Ea+d3X7kh9o9il3dUvGS+1D5xt/07usfg35YbXFYtyb7O/sGxBlHCOq2kRiRNy7eEUiTQVNhvp5a7D0PSgBmihuZfgY188Je77sQMmvw3KsD/rI5ZH6aeVJ+gDnlss5L4P1MAci7hZuCrcGL17d4oHE9dI9bhVn2cumf7mLIaTeqrtOnyMP+x1RXrDiAgZ47hnTnw==,iv:jJoKVrRjHMMvikB6PkxY+THLQeBFfJdWBUj/AhDe1CQ=,tag:flkKze4JJNWMS0Y2qss9bg==,type:str]
    key: ENC[AES256_GCM,data:gz+MgQEHSXJ0w4uM7RgW3kwOTj4CWW+hk2YpTC2AX+DAVlxulhxgU5at43wSg33w7vpBjcu1eWbrODzc6eypVwyqFVPhMr3whoUUJXzPZTtusToOu6lRrJcnOPzqEJOiT/oz3JQoXr79/zSLm85vWJiaUZ+mEMwvLcAmTVM6ljz3ojZTb89uY8HWG3Xz3adBB3TQYVEb8RIW7egva2xZGye6qTvUlZvjVJ3r/JeNIppretDSvct372HHZrfvRPTvo+qzGgLL9htl8Us1F9iuYvyhZLRi/78vS4ARm+kt7gzbHZGKB/hx1tN4IH9zZyCeWfo6xweTo/8jS2sQOP3jLzwEziYg5mnVBtJVsCLWN45L6Inuq0yg+f4X6ekfwMS50/Bbix+c1KKzMak2jcyk4Q==,iv:cxHVzQLTyRCx6e6Eh0QD+Vcs78R9v4i/97rnBunCHgU=,tag:OPaZAw3E8WPgFzbnCjpFHw==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:89oE2TXQ5IByGYBIgs32LmK4579s8IzRGxPU0dpjFgh52OazFuSbO6U3JiK6AkQDtZNSTL0KFP4tUY8rjTfS8cPQ4e908p0OG8vOwAdVSahM6/xn1VtAOnaRXhtp8GV7hhc7POKzyxY+RgNzu7VhaCy7/xqo8tnClgLKViFYrtgnqsURPyb7E29q9w/2jVGi9pDoEO+xG2wCT8LDkp88PNCKFsfgb+H+hKwicXvS5oS0hs1O/dACdZYPSDgQX/cU4AZBqpH4Luhp4pzeZKG0sdJdjdfLAX33E7xKBjcDN98u+NdPKx6xZK9+0O0rJKIZqxqilOdHlrO0buKWr2SELo/oiefxHRUEEV8MP6kcl8RlBKZblUT0K9ajs7nXaBaYtyCsXyZa58QaL0iW+OFBhRTqrYvVJ2TC9gJv/H5e8UlZgiXHtACeI1Xz/OHmW5h6nD18txwns47cd2bI7s+eoUVdLwcgw81wc7D67CkKg/UwW94Ujcnd1tXngAfLg+il1NSfXjOMJRA/BorVtHSXDZPrU6a/gzuVs+q7uq5tb+7/mH9cO0tYS3Uh4YPQp3JgPnF1mNkcSXjTcy6SGMc6c9YwstUd3NC8Pj0ROdjWx7mMdk6BrEXUKaos0Szy9TgIgFt404e3vtKboWLDHcsHv+o7q6gZcGrhNbhKd4FL2gsZLYcYDTrm/avudazcNXPvgZezz50kBOYuOhityiNa3gHKYuHCtFQC1+5FxmFG9Mo0TxdeJb4CFNDg63tMnd+eEXvmVkZ2etBlNVYE8Q9xzmbeOjUMtVC+T+U9EX/dNjZlPVEQEmJ2R8FlW7KFDjAGcjKyY+Jo2rTVQH+iFfleEr5mcZ2Qfc+OkZxlI9ZNYtEEUCYVa6D0PPF0rKkdulQKMjLis4AX+PTJI+Jatj1aFD0s0xFyJViXsHyLFx5ZGvSMoV6Z0devj4Wt3pYg4OJG,iv:Ab5WjD7PD72ttlL/c1HxNGyorLe9zOwI+VnRpwg+12o=,tag:/Etgz8ZTXDtpkckv29RTkg==,type:str]
    key: ENC[AES256_GCM,data:XQXCKR/sv1OTVGq++/XS4U18SRcuXG/U4rAEmkmsgnmfZmrjBh8g8dq6Rq7lZHQJZeHC/aa9SvtBGh/n25cwUBEunHQeKWsTZM16OpI7DETyWEOHrG7lcRoISp66LpQyBi2xCunLudVr8NgaqkQ21kvo4NsDJQuk3fUdw8HLH/adoX8Oe6DxuPUqQ8kfG7Xes57QmsAgkN34/7SAdSE/uqwDh9LM54oU1U4NgqJz84MkE3cmR81FIySDKC4Aoo2/X4x6b9T5pV9jozcwdP3QcuC2MkAFh4IZ7wJ1DAEF8gqejAtns2gQRr6itTzCCWdrYJcnloGeGiKHq3L656dfBwotpLbW5T11XCHW5XtDI76pF8y5P9kQNEKohZbqgD89CCGpYWmBez6DscQw5kvk5g==,iv:veXXel46MjR0RVyoS5IW/p1gfLSJwd1I+/t14DMT0VY=,tag:v+BG2fzc/siAjhg/uNKg3A==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:6Y0K0pJEx9/zChgMLmcOzP7g6R5NsiBxrUGUDVn1lnk=,tag:xWS3sNWKkHVXr5C57eEOBw==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
      feature-gates: MutatingAdmissionPolicy=true
    certSANs:
      - 127.0.0.1
      - 192.168.1.120
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          plugins:
            score:
              disabled:
                - name: ImageLocality
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:svP8hJEI3s7BLPS32oeMFKyv7/jbgpgANunrrKzJiFmhYF+Nt1uGn/P+woiAoajnQy2Q+oeY4zLHHgzYsLxcbxGzbFiG5VDgas4yGvEqKassYaTzX3+0wgHWSpyRi7Cap1XFH9tBQY6/6evGxxyiey5z6awV66T/rfiuDJwV2kciCNwlT/urrXGDF8Iy1UMMs7OdOeRjuxJt++R3W1GGJnRPIrtGxMBb6UgwD+1e62H8D3X8SG2WFke2eQT25FYyM+K6w1WAzquMgW6n2PyaQRdG5xmsXu2XggDNcXp3seBmSKvNF2k3mYbzGbTjW+/UBmvaOS04IvAUcmx55iMJK6yckD8mWR7FeGzqcywBNavX2ZkJU3cgfXE/dJQ1b/d9XKDACfvZkYLhbMDqz6MLM2inup0Vih+dNZgG6PD0PXbhFWY3KHkevW/G8crwbMI64AIPAs5dIgsyAUR41YajXNsfRaWL46wV8QWONATLX7bDW0JMykmY5JZFRBpIC2nbybapZVIK2BMwMYXqBMIQr2drlKy2FGmziP8mVjLbki3KpVXL6L9Fe6RpJqI4uYYof3Z0XVUEoguPCxFfnqHUdumcd9JvCVt2iYc/ghNw7V6GoDgPdyZNQbEMHURm4PoaYPbKeCLMPaSDU58zSdCnFCicTzMo1MejsNT6tcAkGuYFOYM6gjcmv+5zJHm7OjFaay1fNhELDQFptW64eiEjANEhfwVVCd7SuYt0euGTya8oTvjlPfnmcGagjgqAUdbehz+ePMfsjQHyxIROZ2WTrIGe2oU/orpx2wG/2lYIVkd3Kpci+ozRg/VSKA5G94N9e9hJ77g52UOjBs5YX1bw/oeqEcZgqZCAvRoCcw3Rw7F7Z7+41HJHWm/T6znfX7wr8RMG7AUSkNXEOAwLZnWGxF2VBgySSwkknHFMFEz/xLlWQee/li/GfmCfZBJ5H7MDMEcLA2hUDReEFUxpZu61Rh+iH+N2ZAgWs5eAXNZuKB/r90g/09VGYHttX/fghzHT,iv:DUS551jIZta63sjcn5uH5Z46OnVqzA8ZSl0yr4z/8u0=,tag:YDiHNeYTtFRGuFh9a83OOA==,type:str]
      key: ENC[AES256_GCM,data:+elbG5Wawd6YJ7Y3CRYoKrw+EwFXlH/QoLXMnW0Ea/RNd1cbg7TOvP3qp6LMwmdOmcuk5e6+TJ2chI7bSEVx0HxjkCLM5/zjMhvPgDuZDyTve3psyFKorZZrdkVH0vOnbx6x8/jghtmjdNB+wB1aFRsx/nLDPC9/VLLg5vGjJuuFS+pYbxiUPpSJjkZX5KQGfajFm5xG100OWw6OoFZA4pd2Dlc4Ix1CCKPFNm0EoYMv6qhRmrjrLXBd2Y//XfROI6qyxNluSzRZu3OL46d3adJGeTYiVyI+OXyYmB6k2lJ4tExxG4qWCa2JH+LBQWLTAA5RllMw+NB4h2c7Spx6cs7+g+Etdr8LeRgxx+Jmvqg5nS11lNpJ8OwiyO3xHJ9ZU7UacQQx3XsxYK01Zbz+SA==,iv:VVmmhyC9Yamw7hp9YKqwnEVk1AmTZcAlA+4G8nVedyE=,tag:+4yLHJuS3BNme//WB2bY1A==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.1.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBYSEpHdXlMZVFGSVd2aWhV
        ekoybWF0bkUvSTdQQWFDTGluSkljWmp2MUVRCi85Wll2WEJCaG53NHZiV0VRUFg3
        cUxya00vT3plN0p6aTNPRVRTWTlTemcKLS0tIEQ3N1pNQUE1dWk0d010U05Tdldi
        eExEZ1p2bTdrUGNkRVVzMXZ0SjZtVGcK8u7PMp6iESPn3uZJabDduryV9oEleg1B
        ZEqiin9SyBlXpYCgBzwlfF6Pg5OGq7khFulmYgGOylySJAcMsoSIPA==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-31T08:05:43Z"
  mac: ENC[AES256_GCM,data:SmVYIXT0T9JOYkMKY8X79wlczvVoPyJUNbZ6LFd+IxhHA9cdS7HRBrGHqoqmi8kyeHi/pmvWP9KltBRjLF7Qk1ex1WGpqhTmpW4FnBFhusV6VxljeaPYyBZzZDkYMc/A8oAN/AgNQnGmVIPn40FLbMJ/95xJn4GFvcepcQFKpNk=,iv:8dmtaZ/AhhtxAS9B7agrQsmKXy/oz59NfkzsIzGby2I=,tag:mmqJHmC9/5XllFnu/eA+/w==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  version: 3.9.3
