version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:HqvH1Epjd7hKAh9VJPTDLxAyE7WqhRg=,iv:aJ/fFIUG4jpNnSgRRAD+DVDIE4AU0XPpsqxvX6x90Os=,tag:vvfG9OjprhmusSuUomnBXg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:RUEMp1tr7KuyszKql8sLKgkhQbM/3dL+JkD4b8m6Rv0R0yXXPr8N7iEqarOfYfsGIgFywKtMg9y7I76qhHzMD8do1vv8WcRaFr1InWUWj+aV0H6y435kfmx+zH7JDipVDWBKPIg6uoHTmU/gqpYQ8bBoyxPUoBQJ0RMvpC1GwR/C/qyKtfstaaK6lkF1OiUUg8xL/yTO6cbLkYdGJ9Esrt5A+vWi+9gGAzK1QckqKCET+Jcv14BWG7qM1XzJTZwpyNBFeMZmAEKyA4WKf0FA8oBIfW+k/I8lh1ALITDzIduDkwpcfPXcUd4nneKAFQYYxUOw1jnQvTLLQWWhfnhmW6xmmULYUfVUCqwStBR0sDuLk9vBhT3/AGQ+qkKjRub79wJoXDzXIcmgNnQXRuu5TRi1GwQd+qPc5cmjvMikMBZfGc2KxcBbO84Syw9NCeK+BLrnlX/KObI+bxzYCP/pLGgdE0JE9625sKn4WH/87JWREZwAv6q6XbVpLuEGnE2CG1+Hnysm5/6IcRYc++vLwv3UgCc8e71EGbG4BbEZJG8Rr0HH+SrDGSs4XvHf04mnIsC+qm5IkroeLkgIsMXUuDVjG3jhziFS2qkswYXTe3jQGbxQq2ldXWHQNpBZe5yZXADHbHt3WpzAyH0G0cPSMJlrEccpPH7MXlrmNL+QkEmq+QfDxYran90qyD/choOJucH42VyCg2rbU9/+1w6TQL101YxG/03VOmP4m2vR5j4zlrGVrkEmjryLGsu+I7HviLlI5jxHGgVUQTTPi4wa8PNWOUK/0A2U9zgGQUNf4Kr75PBXq4cmLpI7OqMPcRE6jO70pZ+73NNe63n2zMCim6JlbQntOCKLNUr+nDymTxvACwGp,iv:vsnQbqdiM61E/iQRWJtgXlaw0r0hPNe8n0E0azto7uo=,tag:G/SKMvIDX6F7BU+vAok9qA==,type:str]
    key: ENC[AES256_GCM,data:MuXbsdYzql18jdHk38cVjc06TgjRaMXicRzdmm3xqarKmuydr4QLQbIqFsVxCaBsEAloYUM4cz3NWNJdpTiCbZS6R3lnaXYrqEMNr0XliOKQ4C0Mgi5uQU9/ZaceQSAX4Za+wVgNUbbDFIfTBAa4dwi+FnhTqOxHx+Ex6tqsXCuanpsdvU549fNiyEuzfe+G+cc6CGiLlU+o3ymc2DJ87GwBzO51ANtjle14YLHsr7/9RLz0,iv:+TjDQA/NdE4VimOPvuf2s2+dTtxu/0WZnbZiY6S7VDc=,tag:qYYdKga3Hh2cezQUbpEwFg==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.1.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.1.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          physical: true
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.1.200
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      # iGPU
      - i915.enable_guc=3
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
      # iGPU
      - sysctl.kernel.kexec_load_disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s
    net.core.default_qdisc: fq
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 10Gb/s
    net.ipv4.tcp_congestion_control: bbr
    # Send and accept data in the opening SYN packet
    net.ipv4.tcp_fastopen: 3
    # 10Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    # 10Gb/s
    net.ipv4.tcp_rmem: 4096 87380 33554432
    # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432
    # 10Gb/s
    net.ipv4.tcp_window_scaling: 1
    # PostgreSQL
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:fMvdYzX/ahXvyHgH7hl8/JPQHuXev+IqbAhHQZjnmaiTYZNV3FF/Cj8g3cc=,iv:LmuDuDaK3OZTgbg5BBM4fftWCWf4B6jpiUYvPQeFZfI=,tag:yTJE5aysYN/0zTwt/3vZaw==,type:str]
  secret: ENC[AES256_GCM,data:qMGj2vmhl44P8p8VibFuFcenPgk/pVXcSDWU3eShiqX3itqNWfEqcgoqyj4=,iv:htHkNDDty+QJfkflfQTkZCR7vHh9LQm1+pcQr5iOu6w=,tag:q8sVOaqIeGYndsze1vwHyg==,type:str]
  controlPlane:
    endpoint: https://192.168.1.200:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:ehLM3aK2iEObEr44kJqseLNYxZS/V2w=,iv:ouVgEyGhJHuv6a+gHhdazWRv3iXqgimTP+3LJ6kvnUc=,tag:/5d1nFs+n0XIFhLBguK+hg==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:KPuAlqN73N8MBXTq53bqw4ScffYELJtPxkFRUSs2rnOkwuB86SOLRnpR18M=,iv:dIcDaA0+uJbMXWvan+jnPTje0TvgfdsglChay/FvGHY=,tag:bfeOQ+6OgyUgklV4/6NKYQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:vEoBzlL7dXhT0TwfFgk/IzB/M57Em/HhJyV0dQ1DZ3EI/7SYmXfaQ3efMMc4OOdk5tINubOX7VX7nfNftemq8J8HLB52kJR3aWJxaGACN4SQRIKNXLVqoSrJw35NthG3FWtpt9+NTvDDI8PMGUPO/mweWLQfV7qyuJ8SpaFwsZ2HFpdU8rxxfMnx59N8duQmRpIGRSppMXxkrV4a0h6NHNk9AOtBBtOeU1Qcbc+FjZwP+TRuhsdNM9pPBfJYkw2gHOnwBFonS+lTxosnf3MBci57O+FEpC1GOScAPjoO+p4/XDsWEzFWApaclp2R9T6lmIMwnETVR/jdRvbVtxqB3p1sthlv126AXJLixu3l0+jje/tXf9+iVrnJpCsxQMPVd+rEESeFVBiUe6vwaJ2dsKCtKVNxM8hmD1BXo6JBQh9+03haQrinBZYyM8S2PlksiDKmC6nNDJTWBwtChelQt2BBDL8J2exD/YpHFWnreCJzthhd1GDkdaDCPYDVDCauVR+qDHqszyX+PGllruybg0xC8rWnB1MjKtnu1ZhgYPu09EzX/GoFtf8YNXyYpFghlm/+3enCS4nwro60pAUXQBKzUNSVqT1PcG39h4xI1u0TMpm3Lw6TMW64ANNi6MFE2n6P6FX4zRPtHnC9nLlvK+TtyQ0qp0Rc6OePwHqJQZ3E9+RG75Q+RUjRJDx/K3FbtyW/pqjnAOaHx+4taNTY9TxmXiWlgWn4e5iJi5+SjDggM7hSz/8/57w5T1Y8D7jFTdKSfpXokwaBGRbPaI5CUI9es/pG6sTGswdN0vT4rDbnQc/b7p5er8AOCvEYwIa6UZNHS2B/ktMP/4PY8wlDqIVFnlnz3LAIC7ISFJPZ29/YYlxz47nLSIZ7V0hyg72vnY32SOU6lHzqv4J0JSZpQUBqYG8er2ZEPp5FOWYKCof0cVtOz3AjMfUQzwD90ek8r17VqCDtnpp6OeRvSINJoMiDhNlKbhNdJNWvv+do3w2eD7Kr1kbKonnyu/HH5N9r5N2LOMggzIoiA3c459dorSWXOKzchHzxs4NYeg==,iv:6eRpdeQ4D5fC/rAuNUKh+aLhu7n4Hf5DyzXfotLo4jA=,tag:PmIjNd/eH2wMZjp8rbBjXg==,type:str]
    key: ENC[AES256_GCM,data:4YvXs0NRgli2YAB79w7rlfEvpfSozpTvYC9N5n3H0dQlU85Pr88fIg2YIU3cAxeF4A5gotiGB8JY13hjuNcD0iTPQ1JF68FZUH0qCRPwWsndtPGd1o/OEXNy4lYLvcB4/G3KXVGid9CnZdMt+rjSL2//AhFIU9GTSNcFYCzYTPEgahINCX4BYGsssCK86qBnbu7gtBWGgxxPDVLsyzAHSwG95vxAcjM7YEsqLigxjUBaBNWOis/ykXjbl4ardJY94fB/ANP17YFqkBVa7YeTQF2KITYcBl8mJLO3X9tlKonyrSb/Y5BPEl9sEkfPMrnZCc2KL70JkjbeznhA5AsGABbBYiH/pwx/Yc/nokhgg1VJygKMxS5FX+IoD1N47RnfACF3aZVAr4IC6HceufSFjQ==,iv:Nnx27GMXMr7Det/+tagKjALTeOkFvc4jA6ky7RYBIE8=,tag:6yUL7mVWQF0HWdl2JAk6KA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:Oz/b6XW47zAUQDQxeEYS1noI0N2hszwDu/u8sQoEoPwSRA2A9qIlzmR4fC5n1fo7qH/HiRsjV8DLoIeFm+jzuJhoCfxCRjUzFrO02Ni+B/uZ8orcrXROwprZsX7casfiI4lTC1iUDbxgjfmxRICxNEK0NIm1RRQUmwiKNsaQBw4/nEHrW25z6R02St7H7B499MsUokEOvDzYnJ8uDaV1pdUd4MDNM+6nl0Lra41/Ul1/T3tJ+roQr53mUd0vhPUwq9bdF0Pytsqjn9RQDwo9fpzwvTdz3PlgWaQjMdlzk3au/P6K+Edz9Qa3rbZbyGMfKgh9+yfaPRoSftS/h3RDXnaGLiOsNc/sskTxkOHHdV4GgutZyWiJy1lLJZOXUtW+5TEGaI4XxIE1oUn2dAtWfldCyCqq3Erc3ptuLEFvmOzd7eHZ5k3fSfgMBSjdC3rD/oP+bQCjKGDaf6ZFX7WaI+epEW4AFAonow5k9eNAn2iyLH0Rd6baqfxAVwH+CDqdM+aQ7LScTOHpb9iS4vRCrPOuA/WNSCoR0Jv9kJAeqGvCIj/GvrOaJaRsd4JgBVx5FGaCt1V3yZBOcDfHgoSrLxCmtjS2qyiPQvWlfh+N+jC2GgyDAvo/o+RW6a5bSxl/rlh01MlRZ1/4IjBiCRsiMDkRI/ZYew8ToMPq0gmd9pZIBAnxx00YaPGyPdC2SGtIFf42gjt0dbX1bG/wWUBtAnbI/zMub1Hb2WxDWzx/YRF5qzLyzGV2VpjdS+KgwohU2+OVE3CIPSJXXvuqjstxm0I3tfko6oamWbcOB3EOe/H4QARCjXB7gXp17XcZ6uRwel6rImbwzd0F6r+3pWwUmFTonZ0ayrpf8KEAEfAksa2VDS0dzPspzvl0aXkwi5SPAzehFtW5YAjKK0z+Bj2VY2bTwwDPmDJulSz8f/KbsMvJuKO1O0VaDbBRwi5heI0j,iv:Z36fmTnMDo5s78oKbAsO3f8n7R4kXQYNEH1AsVSoUqI=,tag:yKxiR3pcZhYavXRL+WoZdg==,type:str]
    key: ENC[AES256_GCM,data:aR625pPnJtuvPqKci0gBlUwdczY0i7exyCK7tm2ddYZd4p9qUAVk6gbbUp/HDp1seFyqjljwFssmPw6XfXr5YVPxLHuqrTGlqQ6W0zs8NjyH1XIPiz7cCkS2VMzu6VpWqJEhdqbSEq29jw+hxBTZoV7ASW2qhglD5koTI7MtSyGSnsq+Ea6apMyyBcU+bBP1bIW1Cv2SlND7sBCkL27dy6gJUTg6+OBOmfejznqeNVDFkCgc/Qs2q0sAD+9CNuVHowgwAIQ2eCvHiWrXBqg143L8m7M9bE6u07SH4DKUOlYNXLR4yOPegVJpEyl8v6fddhCAA7OjJWxsWGbWw8lyoCgCye/AYdMOODD4tzmEjAbVdDOmhG0NCtOYQ8MO4x6VXx44ka1vyfxegCwhu/1/UA==,iv:VAvMH7UkyG2JnjqAkZNUQGbSG5kgSNDkLQlIL+9o66A=,tag:o02nmve8jxSziO3P7Hd03w==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:LDtihn2PxtFhHgdfSlSklm8SEfqWdmQXhx0Mmj8UwcI=,tag:YtRrY+7zhqmlrq9Nnu7PLA==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
      feature-gates: MutatingAdmissionPolicy=true
    certSANs:
      - 127.0.0.1
      - 192.168.1.200
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:nSoiU1gNDkWVGNk3Usiz2FsXvUIxRG6MuXbb8D1xntUeh0gK6Qu1UHI4qBiz9MFGwHjhnZrQuf4tqc1kYb5ZHJowC2NU9L2Jpn2Lrjp8XZHI2xXWMRYFwX/P2GRcKpnJvGmEe6gdKOCgsLP0ZuNlu1QwxBVmxh3SVxUW4Ih0sMvbXKBrh2FJKAUhnHdag2sBAc3DBs74QXiRKE8nvvCR2E3Pkk6/bLK7XSj0jeCNfRhxF0uv008USONxB/pnLyrA7srkRYe9MhASqc+3JQyj5NettKex06R7Q6w+DT+FaEduu3YU9kZiX6ZqZnNbwUvVlvcqFnk8fwIh+3kfP29UiHmTmvL63HkM+H9FK+jVQyMsCAWPRGVSm/iQPDqObQAleUkNXqHchlzClpKftx7T+/TYHreD8E5barLMAnC5xWuo00T9oM0Qc2ybZkSB9dPM4Cc22h3iZlx/pCcEW0QUl8RVv+chjlTrjAySzwxi3wXSxaUC9WxCkNunpvLI5TKvPZdzigaqSBrUM9CeNOh7SgV71ugGniKVHy4bjbz/Nc+kvghKgBdFP4C8Jf4up5LB1p3Z0boP7kE9IfhWc536HcjVNOK3czz9m2JAo5s4Gh+1pbeyZvb2jgMlZpfx+wfT3byWbmSqLpKXzI5mLqfnR3HnnK2LZMmGKAxnmI/Tq2kgIgvTMPrHxFQrPQMaS8+3/hJoR1F0yoCtEwjbzfARscd8AEJq5dNy1ghSaTfHe1LILhNw6CSEc31NhlgVZ5bWWEoqWpHhngeL78H9hC9+JE7ArXC2vpcIQ8onbhQhx795hEisyctoHaXzwMqP8o3ZYYcDaXc/jDrJFJs0faauuPNz3JK9pb2yNXoHGae1mEfoiB5bSJ7H5yyZeIIQy2pg9R8u8J6TJqI6GTMpOpg1oSSJwHDHyCT73dNWaZwxd4+vS7PnKLHq+CqkTQpzDClIR61ayIwga8u8ex9L96xET+EJr7EhNcANJ0u0rupoJZXI9M0gj3InblEWuBxloA6L,iv:cMW/A496I7VXfrAlWrp9rc62AO4huMyVz6EwXdNTmo0=,tag:EMq9okGo0vuQL1ZdgP0cYw==,type:str]
      key: ENC[AES256_GCM,data:UieggIfSnNeutiyTOyLZnFXzWZmsUn9ELUegqdp6C+DOOE3+M8QDHgbnTjyRNtzGMJMiwj7eiTkXdTcK/+u6wpz8SCYm5qUPVR6H5k1htprLCLB/9GpZN9xzaTAIagjx2hNPNabj5RvXYiWv9bCiey8406KMbXefyT5Vb0ve/Sw0sr3nodUYo3RpeVMDvFwWNys1slOe1d5FpVi9fUfn/B61cHRg59DK+o59xlnGFZXZC32xX1FflqbL+m0O6LdS5gp2IOAhS1e/GCvUE3c6r3af2dC2OTdUnxSS5FmCv7Wa7ryvFImtlz0poFQe+MfAOTJMcGGfztPV79W+SedkdA8K5yihFyU9RNa+etfyyN/hlNUSlrTTzMt8q0kcaC1P31dYWNgKZoR1B4pBI9Mj+Q==,iv:GQWqmbSfTaSy/tMtRL24VPtzvI69ACHEJgc231bAW8Q=,tag:Hm9vScwgNF6/h/wfRorajg==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.1.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB0TERLOU5HOXdGd2VBOE1Y
        S0NMM0dqMXM3WG9sVjhoMkl4ekNkS2crYUZjCk5iZXVvazU3Y3o2VjVockI3WHEz
        aXBxMUViM0FpSWhhVzRSVlVQdllubmsKLS0tIGFUVi9DVldnK3pXTEVvbWVodXha
        QTZ3WGdDSE1CaEJwbFAvdmFtcUlCamcKddJnm1MjSNk6Cgxl4v1bvrVrwPyLdMh2
        GYihaK0lzJXn8sUVH4rGfedzP/eYV9bKS15TG/8R3yuODC/scD1WFw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-16T08:04:43Z"
  mac: ENC[AES256_GCM,data:+umXKfMBKbE7wm1lk050KjMpQDlJ2VtkpXPmLMoBf8M4/FYQweSZOL5hEngpstj8t88ATLY0JDTs60uxWqQw8xlUw6IH4cQH48EgZCJ/ZwH+HFeaxf8VNgDKdfmt/FpXDyZtSAsgsLaxoWljfi1HFkcWnEceKC5InQsY5zUo744=,iv:XP/1Cj4CYjgILIriE3f4F+PrLaFNvzRVkWxMK1rIPJ0=,tag:MeJu1JAlxT9nwHdWYnwFzg==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  version: 3.9.3
