version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:Ykb7/+3HNMcn0dZUn1waq97a9jVjK5k=,iv:eATnFfabQT19GHNn7mG3+beu/yGJ7R1SjWPkWVNWQC4=,tag:YB+4r74x+JEvzH64J/R0XA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:zmfFUwhXYx1/2ktICnlB5DKJocCxaZnZKV8dSeWbzFc2b016fUbnGx/V3ojiIkV4CamyNQZ+6qMthTeKuqck0bYhe3IAgqhd/iaCBJAz7h+Y7y89Fp657+i/tdGzCl6y5yANh6pZlwTRqMwob8APuunV6EZuN+pOs1ZEpC/nCBwNHML5nTGLiMlw+CdrPUMzWk9ou2HhA6phEfi3vw6FaQ468iloRtOVEXgwMMGfiRwhvibXnnok47K9Dbmv2lcmmcAYkAs/z9bQNZpcNBs7rSx+/dDlMbBi1aVJRX8msKQH5y2JNusEENCuldg7/JaHHzi6uFezyNT41FnFH0If10BsAeu9oYoCawqt4h/aFbwBJw69jpuA2b1mbxsz5veXBvOSHiGKoRk0MFaYcPtUBEoLKWLlsdvFFrgQaWoXXeDh8zXwjYEp9HYsaS17vR9ELAcbrm4da4OiVv4qdK84AN4S2n1Nob9HqEsgJ4G5r1Ilfx9/khrNBbR2FtQ1fSohn9u3co1o6Xrc5E0fu3A3W7I6f36E3b3Cg+ZtHb74WRz+gFiw1Zop6x9p07VBJuxg/MdhjNrAzZfoYpsQH34tjkIl+TI6gInnmbvPMKXOUXx0IerbhNvcN59yDJfkhVPxhaX3cIY3XZM0D4diKMpE4SAJ2oatNVFkGNEyy4VwNPTiGIq4SSo7pNVxS0gfJ21ez6I1AHbaY86VUMsPaQOuLYMh9LX/VyMGFYw/Tg2414RzorNltva5/3yQOkA7Fr5gvqV5afh+9lu8RJ7BU6N6WRFwjE3ISJA+yUqaNvwaADkWb/9n8YgtDPZ9CBoftnHZT9PUanXWl+slJHKQrHXa7H94+/duRVzGnsPoXBgnazoeR66C,iv:l94iP/ysKEEfLMnc/L3p3tJPI+WxTxV0ZYxNKuJQKb4=,tag:/8U70QQD/vHDFmQiMyv6BQ==,type:str]
    key: ENC[AES256_GCM,data:CqSedOBi7jFmZCOWE8dmpRDa+Wd74t7S61NQD5RPdjccqgw7bGtXvRpEXV6/y3fmbaNxzK5Olm1bwxNiN3bZSVfX0bWbgUgp6bvHzt3efIt60u/zD2kLs92Xm/1d/hsIIQc4ZvUIlWtkSaSyPy1C0OUXD9ja2BrkMPSeguxuFntM4jesyeWVuEB8R6GiJo1xClF5rQ/Q0gdFGGUFKHZPS4usyRcqPaWY5FjCaUBXR8+S4bHa,iv:sXejprmTd9kwlAwKQtnQRr2T4UrGK5n3XZW49ieTBV8=,tag:YqX+F3gm8/3crRZ1BfnEBQ==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.1.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.1.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          physical: true
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.1.200
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      # iGPU
      - i915.enable_guc=3
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
      # iGPU
      - sysctl.kernel.kexec_load_disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s
    net.core.default_qdisc: fq
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 10Gb/s
    net.ipv4.tcp_congestion_control: bbr
    # Send and accept data in the opening SYN packet
    net.ipv4.tcp_fastopen: 3
    # 10Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    # 10Gb/s
    net.ipv4.tcp_rmem: 4096 87380 33554432
    # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432
    # 10Gb/s
    net.ipv4.tcp_window_scaling: 1
    # PostgreSQL
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:+OfFy9oUgTBhW2GZ/B0A2KxPfJI6GOUMiVIWakMYlTmMGgZsE1VQpsNKfHo=,iv:slaqaJVbVVui5H5okk03EeBV/8U4kAQiSN8UUjl2VTA=,tag:LG0jr0txdaVUdho9nicmpw==,type:str]
  secret: ENC[AES256_GCM,data:AqGN7fmYOD41LyCwmZyeKq2ZmxXf6L6B8cd9KkjLyA/m1tvk2V4OCwcJjeM=,iv:Yq382KRL7dQE3kF5xOePaHRWuExqvEzEIWyy3pG3MKE=,tag:zmcB05ju7eYSqa5/mvbkvg==,type:str]
  controlPlane:
    endpoint: https://192.168.1.200:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:0BMSAkWbkrVdk/6XadbZqwep3bQNIDk=,iv:VghTNz/4HbCpe+9JfI6u/igWFkhk3eegahkVI3yA4lk=,tag:DXdKIWVVFdO8SX3DDtHN/g==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:oct/ONcQPOlSztj8jVZjrLxkiU7IZZDM/W2MAf1KtkpkGHPQNZy9oeTxae0=,iv:oc54lbShS3hP7k1ZWpsvlnGUCmqtgXI3fTIGjgqSSSc=,tag:4jYDKlx5Aw2Jk0pVO1dMPA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:2z4Sd8NOJvxY9JL2C9F9VjqQMrwa+2t9TMX2OlOPx+iPjL1VS8NkcH3s9UHmbEoaU90+diI0LzWIod4AHlsZlZ8LvFww4O76SNbO8Aut4DjmG2qOZdSaoc7MxOZhy/260lz+QYTunWCbPnVJ2Mb909dar8AyCOki0LClHZ+Nt6pwUsj7vYPnr6r4UYOOWlIe3+QSehhmKiRZj1L4+4atkVFUdLJXzmkNwSPk8v+w1UqGOU2RNlwFp5mh0P8gGgyH+/M1VEPwHq+4i6cZW38/J/LYEUyv5UKBURKJbkUOR+nca/dyXQwMzd40nrxPkrI9WC+eKCVXr4ZKCTUO3+uy7CoTFWKCyqUg5xgPqbuQXwlfoD2UVD0wqgxKj9pVTVZRUcHW4+BH0BZeaEsG2+irjFOxZ84w76LiXUag0GTc4ekt1ZDtLBqoMp7zBcUSfZUHPxIvJHsplpnTU8OVNYnmgHFds0Kaygd22tucgoWT2Tv6SMuTtzSj++gnmvL6GzIcVyeJrAhDe8/F5AtsC2hG9BUrlinmMQLXgi3BR9cMHchVtWhj1RaH81wGIQ3HO6nCED71Dgz3tSdAOCw1r508VmIlzGEUVQoW2oYTkPztHO6Ia/xT+CftTZhBthxPdWyNGXDOzajAfkXI8stQisq/li0FrbStK8ImvBqm9fozE858XyC1XwpLl35oHRIqL1QgfiG0wYr1FVOfZA39GcnlYlSnrXwJtstmU0HQt5ij6IG+xeAStHGDXI9CLMLhKNvlwasriPT6FGpSmrAlN1qYrw/Wko6xldVyZwa9tE1N2dqgZTjvWrEtIlKVB5g1Hkg57Rz1VLDMNeg77lYx++8TkZpbdDbu3FCPpfPc81zwEIf+QsWd8P/+NK2NW24fx04OH/ovklqcGeU3LaVNWmKm0tAK7V3TuQqPnGHqa10bmBWo75QCpT+SUdJTzPSZS1+TaIfadzgKATmG7ZQXkSHnHJR+G49bNwJQeaqDbERUcUVcpJVrIOVqQ/wsjOXVCL3cQA6XkUCniJd1z9CN/A55IX5eDO0Zhyd03urcDQ==,iv:Ve3075xqLf1kqgeWs0VsOfdP7l5phVz4wGKsZKPuCrc=,tag:QVZ6VqahzeNf+AxR6KsJhw==,type:str]
    key: ENC[AES256_GCM,data:zRJSq8PHwdetZ+w1QmimBy6NUOtb+tBmk1v2+UF7nkmrqlGV5VeZZCU8gwyjoS4lxU2/OX+MUKgoREhBo1v+i95nkyKGxdkw5ALc7HwscSkoiDlBtWuAEbY0EQpFlS8ei21GCkbdBQrs85COzytLU4xxpkoGS5jYEohHIAsSPvYNyP6m2Uxisgrxc88Un+7S5QQ9cdJgH0pP5Qd9YweP4GpqYfrghnC23yEiE5mcXK0vpeMoq/Eio5Cx4bGRJyXES46M+gkVxZdWvzv508syyqw5mCoJCbLWjF1nB1oUiqc2yBmLPfMNJcsYhpshIBxx2S4omF+QVcH4Ryrr9MefD77AchEhn6yeLA6thjKjv01gnEoJwka9VOpOw20SKH0oRnOAxfV8rDxPqBOXIzGs1g==,iv:4JOX0ILoqdLFDa91NxN7sbTIQEwe5edtjy23Db9iYe4=,tag:lsFxaNNBcxKbwvec8k3VJg==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:G97cOQisXIhqHNAipnphwLiSvSr5FUZehhlHeeOg+14+0Vlive8pRWhpJObdKSvLo52XAfFj23TDFRG8cecVNmGFLa9vXAK/EMtbDTBZhurRM9KW1mbw/g4GzPZFtz8cDW1nYDY4juOqsNh5yK6iW1lcbLG5Ue1si54Ld/lpaFpHnSxISJq9u6Kb0zK1Wx//aJWRFSdizuPgdAsEdX70UXjneVszz/L8ZX/OGVsNbconplcnHvSFq4s5e3i4fUhqmzYdXGatJwibXKG1STiuVLm+kQAfsWl4eXYs+mcKELLJar6/ncaIASTfHyfzI8CR+abQ0vRPM3VvQfYO3+WFbfD2gufkvoclxfWJIJQFDABZHROC+euxHWBMKTN6PEopZZJAztbkkdi4XKXIS1GLAM5Zritt8Zwk9a2Nfw1NhcnRhS2k8CJIIplX153uNnjpWUuUPAs9D/pxbuea179bc0Fr5LLlM91hBxUgvFTjNDqu5wLnYBrZl16DRzmJFm2+KqfZmrVZ4UmmOFBAqRaMkPijXo2i1iuxbkE0ufdUawDTHSh4FvnUHk3XRQ6IlcbtYDZI+12dAM3atUgg1t4x88qLWqfPW9x32/UrbmlaU2G/9uxdjEdoGqb9KrE/1nXcwD+0zzz6+zbxLlN8lLmrxQFi7NTBo4yGzN+dFLD1m85e9MpWIdDTsjy9gXbnRyIBBRL+dxflkLWRLUe0DfqbKkXaOaFORzbAXuMO0xob2Db03hfS4At7drkG2jUSL9ZNzVzeXR+lZ7Eq7lcYExZVQat+FDFUXplS2Vb4o8SfYaA+TvzrJrGKeHYp9yDwNvE3m4l6hRXnSI+AjWYHVUBCV89GGps0iMiqZfEzleJP10Uppsn3h3QsAWM3vNetXDwHBdqKrCpEB6bSIarVryMEwxoM3VGisUyQoWP7b1sXlKGtcgpF7gulS8PbKV1BI1M0,iv:Oq7iTiiPQfd9hB+ZN8pjiGzuc9DORW3v5X6sdo0ko+Y=,tag:NgvzMFuc1UauK/fk0vJk1w==,type:str]
    key: ENC[AES256_GCM,data:c40IISD6Q3JyBYFzLUJMbuGhNMa2ekk8rCOsKazTMfJWUdN+1RUjdCfGClYpVmd7IJXiuhapryYnfp8BTXmnq6vYV/N1s81Cbuqtf4MHeqqAEAjrz2D9rER2Bl/KVwAsLy1pTiJKw4UWxktnvdO94CjnJd9mt8ElPhSzMQmB6P0gDLlAux/2D9FBcVZn0H+ssPBB2puE+bdkAm7mqBQUO6mHbvEvMLpMFvh4/dPUrBjanxFgKWs+qZYhAdKTrG+JTmggOuKheUR6tH0Q2IqT+GNhzmGafm4FaqcSM3V6HJscp2NRdVljybEa6jTyu0u2RDoQH0DKEjZjqD7RAmJM6u6v0ZtcqLrFQrulTfbp64ecS/FEAinFGjLSiwqdauhCCN1P5tbjubqxa5Hf8x8ixw==,iv:rVRFP2Fu6vpldtmwmYlrwcJG3wgZxbRLPwr8n1IGT1U=,tag:rfSwGYKDm9CExhISV1UtAw==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:ODm779O8+jZDK92dMoZEW4c8CB4ehqbKoEKNwJaMr1c=,tag:n6qNJK/i3gaBNUvWV4m2Dw==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      feature-gates: AuthorizeNodeWithSelectors=false
    certSANs:
      - 127.0.0.1
      - 192.168.1.200
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:m5esKesK7UxoIQdrxfouB8JCX8Kcz9QZ6r6j0O82vKx9UIjD5/SelxPBR8egXhAuKJ5Y0z9wFUCoqOlcIEGi+AeUAk4U9YHAWJiALu6oCqOlTSwx83ikrEqDQmSm2+R3cDKMzbIJD3xXUo7wMHj5dUGL4VO8xU0fRv25swWxOjqGzu3ZDp+5qdkQGggavCRWAim8zxiVXKkJdUuYIqDTO8+F7oG/tku7u/YkA2cX8t7wuLANdahxbnuKcSaNHkMPUeMjss4ZS6tVAbjj5JzwbUS7MRW0SKZ+TR4hADRBLu4qlh+gTMIt8M9q/DPqZqO18spV0uY+IYfZLnwqxPQgeskTtMCkTR4P5Ku0MIHr7wZkUId8/buGc/YbtTL+QCvpNyzh0RF/Pp/HGQZb+veSAm0FMwotY2kZt/g56P05XwzzVxS1KZS9U8AlDDfOMUSPtziopMuNlsoOcAL81p/Iv7ScEeAEvjJf3ZIy6xv3nMtHb2AbOq5KDqixnjDqUvujqtuNDAYRO9MGOaasTbGhjaKRxAmyVGGqw2pziRZ2SGj0edhVEjdXZCuqCvve9frdqZi9iLB3XR3LUarEXhX6elgzogR2TWQihZLCkNGDiuPS32Hl/2Ij++C/CuRovFukQ2lb07RhCA1DiSL6f52HLOB7DDp84Jp4ErJGEnZaA7cg1DQFAzuJBzLXqYdjOqcH5XBFtp9QSsePxESq392Qeov6DzSE2NnBeYbOwxOBVWyEWYyhAqVx6M0AD2o2hn2/GqnJjA1ag2O1bIVkLRNi1VaxEI5Dym9eI8Jz/Al0MjMi5s4rLdG3qVv9Q+8Bo0s5EFo4yX4Hl57L6BdYPHRxUfm4LISxeJ6fvjNmGLLEQUK5PJy5q5cHmRJ1CAH4em0SgcspzSuKNvGt96MKE3lqnMVybWtDQkTsoLmPrafFyzudtx3cPhWlpQf710l1lMRbwpHSnhcXk9dcDXlBPpXh0RJ/N2Kzva1nvA2cDspyMVwTgs2AXNGd67nY7cdsrZoD,iv:sdWMwF7icmZiH0IpodQ2uVFViht6974Gh6FvZ6CZWs0=,tag:0IKb1RRfPWhE8xwl+lprLw==,type:str]
      key: ENC[AES256_GCM,data:4VIb9m6IxO+hP26yGq3yuVo7YE8f09thJT4WsCQsECB1HwuDTl35NGcRiCszy1NwNU5Qjvw70LKqdquCYxHNHhYIEknBEKRoHb1E2A4OwNwSkoarrR/BeiMx87wOIdfvpcjkzfC9yrdXttfpGEhRjz3ro+ZhiEbZNVytfnYLVLfPVymEEry9nXuJlgtCnKcwsgot5HgKLUkrx9u4C81v2D0R+WXHap+lN7mmjLDJMZEfvFOk3Ud+hvL2H09O/EZMAIy8xYbYTXpxyLLV0BY4OonFW4bHmEeWeE81Re7zrEIGEsFQ9AT9EeZEQbRXWi2eGx5+rl6sA2aeSNmip1cdmTR18Y9sb5EoHcR+ikTtz8HLvRAwUoBrnFCPJSVCGhxFUyrj/fefdsY7CaZoTBVL2A==,iv:Z8VHR50L8xClvhxWu7kYKnmlD28l2R/FTmIhLI76V4Q=,tag:rlpM9s2dmrdybs9A93/RIw==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.1.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBwTDVnci9JZ05NR1pxdlJs
        S0o4d1RXSHZUVURHM1IwdnJ4dGtMdmRoK3pFCm1KcHdieHhZQnh5ZzlTd3pzOWN1
        Zll2NklaeE9RZVBGdHRaUDRnUjQrdTgKLS0tIEt6TmVoN1ZtaGVEU290SkRyaU92
        M1A3MmIxSHhhMWptQmFjREt5YXlpcTQKDSUuJwVppOmn9Lr7smljC5wlHWXxDpRt
        UtftMlbYKej2gHYiFvM6j6StQkCjcuU2UvsHytyhmOtjLzdtsNQOAA==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-11T10:01:31Z"
  mac: ENC[AES256_GCM,data:boCfiTqLgtLqrkGnMepAohuXL0FaHQmIYgPeYiGuNx9bYaIENpuCZfDe+E2J+Q/gVlYB0FVaj1AMNNMFPCEG4ONip2dDBbT8B4lxnqpf3tQfB8beiRQX5Bm0xE0u44Ong947g8Ysjq2RgtvX2HVeZ/3aMqStyRaEHotqgQCKZds=,iv:yFxqpMosQl0vJDUv+vTczGiQjkMTWMjMyZCZDyeWn9Y=,tag:SpVGJBrGPWwmIpkp4H422g==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  version: 3.9.3
