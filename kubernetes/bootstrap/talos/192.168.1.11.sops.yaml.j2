version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:JhcXtxak5yKSZCg4VZY8C1x5JELVxV0=,iv:0O76Lm/oKP22ztAHrx6RpC0x4ONJn289xvLyrhpRdSo=,tag:TZl2tOkT0NV2QsyscuYAcg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:LoTHu9rnUVlQDMhB8XsNz4UxXcaiQTq4WGI+tFi+TRHk94Z/BNGf7s6RD+7iTWnQKCS/iwatyRlbnEiZ1qp2XwiaKPtSnTe62psX/oqKd3Kf83IYiT2D1CLhMxMPdBW/NAGih+E1LgS85cCvI8Ux6e1jHvFP/7JTj3qxvDhdsRu9V6tB87TeTivMIdhJ/g54ccY84VfVktzWleNejsjuDVJ77469K7vy0X29YwF+o6wWGKSYXuro70kCn8H2ijbxjn8dTXzO3L8kfY29GN5wLVv6utzOUqM9IR7EBffNIPlfxmCdbCP0hf6jH4nRu4Fx/FTbwXHZ3b+pjB2uuVG1lO3ZwPa2E2bvqpfXwmyd8BUWBlmX7kAKNCp8hi/5hIi8v+kezPdbr349z9vQ+Y2zMY5cVYGd/6X1VOuB6T9zMuylfT+2FQCnwkz1cWM1kJG4IGn5pQbXIp+FXw8fz9nMIP9rsU1nqp65Oi0Ht3LX6yp5fWYB/GHgut0LozDvZSD8G4yWdfRhArOtNPegw9MszEZwVG7k8jWMYpBZmhZXCr0ArAJKLESbCiN13LbWmesZQg9BNqggN1PL/hBIQ6A8Qt+bFGy6YeMOKtU8iGy+yd85x10rYdW7Ua+vhCKjoDNl6RGs4FAl1kDupX194ZVF/hux02j+dFGZnclKReTQ5+6OMC2jgGW8H1plkAWYxUqqYDfnL8FWNKdrFw3ScEll2x1ffV9nUz6JT8yGd43EYWqJqFxg0rutAnSvKt/f3Qr8VyAe8RgTvvLcCvbtRHLhcHC6j94TgNfX41qIzkv64wr14FqqHiogtSQT5zwleljydlL55E6fUCh6B17puZ5jHEKKv7bK3D/zY2OL4psf4b0xTSOc,iv:aiFUrBDZoN2hcHTd1VAqF0LH0CY7U1zkYOhz3S9YUtI=,tag:b279zpaDzzBMNaC+S2AHYg==,type:str]
    key: ENC[AES256_GCM,data:bWzGkrH9t0KjORy/0HfAaK8in5e2kz/egdzQ6vZHIcZdi9YtEYDSpDklTXQgjKGOUTTXCdlpGRMqlHL1etHbmSsPjJS/Sd/HOAW6US0hTCkYUhkKMeXTZeKRBX+2U119s+hOIDYLfD7jcF0rB3ehQrKN+lzcQxLp3IL4J+isBvBFCHM3ErkuR8Ru4Gm4QUmjBqYnO/haOMOLISCqWgvTfEzJfTI/IAKsDAQ4A/thEeA80LMZ,iv:R/CULPNnOFTwhaa1zQqGZPtVHtw2e1oGWmZUC7y0e6M=,tag:OMby1wrYG06aMKB6V+jc/g==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.1.120
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.1.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          hardwareAddr: b8:85:84:a2:*
          driver: e1000e
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.1.120
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - mitigations=off
      - security=none
      - talos.auditd.disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    # Spegel
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    fs.inotify.max_user_watches: 1048576
    fs.inotify.max_user_instances: 8192
    net.core.default_qdisc: fq
    net.core.rmem_max: 67108864
    net.core.wmem_max: 67108864
    net.ipv4.tcp_congestion_control: bbr
    net.ipv4.tcp_fastopen: 3
    net.ipv4.tcp_mtu_probing: 1
    net.ipv4.tcp_rmem: 4096 87380 33554432
    net.ipv4.tcp_wmem: 4096 65536 33554432
    net.ipv4.tcp_window_scaling: 1
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
        - ml-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:8x1oX160MPCJZTtTN4AHYFTL99wnDocK7sAcWVcx3HJ5lDjBD2KRnm00bBQ=,iv:0NwEYAkCiWXaHvaFZemGhJqZsRsRlUKysN99s1t9xco=,tag:aTV0JgAXmXVUBUn6af2jEQ==,type:str]
  secret: ENC[AES256_GCM,data:RwRaD78xBRriNZCQC6Jmgwkh1xr95BFdsAgj10MOH64hSM1KScfLShwAY+o=,iv:J63IomEuHtfz9aNChA3z6tvopcrCBfLvph5Ch5Q1c7Q=,tag:Lfson/LEJHF2AGUNZ0MgzA==,type:str]
  controlPlane:
    endpoint: https://192.168.1.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:IaLsjSidE9XhQAqkxX7OnfWWPXyZ/M4=,iv:ZIuH0p4C0iY8Jk+xoehpkbeA/KrYck2Zv1p5rQKun5k=,tag:deAElB8jpGRgiNoaUiwhzw==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:p0RhoPevZjfdOvOEYnv7Ov+cSfQ2Za7vtGH0XhXqrXrR7h+gf4mKPk3JXlg=,iv:KorHdJhNCLPi6+L+yvKZhNyI06qTYAuVGLqPVvxb0/0=,tag:vgbLvoZMURloh8mEIA6ktw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:8Asrytymv6hTrU8ikoXgUeNbF2QlJ7Rt/vhdEA7/mMPq8OdMgE0QScm4capMMOuo6QAJzTMOsW8nmhJR2enLWB3IGItouv5ewo0zUWjq6udS6Eeuj3xo6GaUyYNO6SXdb8+v94CPsLKvE71gtGM3lStWQt8VA25NfBd+6cYXu3Fl8XHlpG93VAR6/2z7OueX/wq3wviOh/f0AFhbxfj/N6ZPP0TQsi361jeN5Ld57Zcpkbb0cShPh2lE+EELvRcVIFub6+ztQtx2kzZ8k5nZM9oqJ+SSM/tas7PNqvgudhkeHC/JYHzari+KXKVZKbq0o7qyMnb9Uskcq/Gxj7UGQa86sXL9kmvDdDhG7MozZMOVP2F5SOvVmWktKyegEhlyGLuqWcY9L/8k/ORGMa5ZEYAlA/XZZTMSPTyOg5I/w+3Oe1zaeNuNgZMTWMMXnSGxBj90sboz0vmOVhdyxpH4YG5X7U20GApRivAy5R2MrJ7kMGuxkvzCXXVu5Ee23ufPtLQ6lZIdyJ011Bwh4AM0jkloyVnRYugZpYwg8cQpMr/qTV0xohr7lon/s3vKoQCFHXKPQNX31HrXGZS9JM9YZgGx1dOr8a3iIygcEb4lmjiHfQgZ5/OuRrOrwrDJEqis7pQrmjIM3TV3O6eVZNmQ+k32c/gFgP61EHO2Qe7dzdHWObh8i5R86Y2StHyzFWaMN4hpb8UU12cmkmxL1HVI2q1sywQQFFwivMmHZLnMkUoGz7BKUPYBK44ey05UgJ16s6mhhX4Uvxj7fbgFZ6Ot3aq2GsR7z9v3I6tWjAtbietKfgzfvS3jJESYlVxVNvsyPbDo1/cT6iUwgzd1jct9LVhi79MrPuI3OqDjLQrOpVSQJ779pl81dv4Ni2goPxbViNOklEdcOApXaHmitj/7Bk2t6xhoQQNHm5zlU3JfQMFbUNNYiVMXOr/zGQE7S4L7jswRyG6jvKXIvMTjD7QrynxftQoRlr2G2nh/iGDp/f8+TD8eKMdXXEuOuGft60FvYdLO4FwH/57Qn2GfRglNWtfjDnkd86x0aepvDQ==,iv:Bw3tOKZEReS9dze1FJil+dgWmovt2PVObwexo1rWYbA=,tag:QI+yFX9ba7FvsK0X6O8ZoQ==,type:str]
    key: ENC[AES256_GCM,data:ekHd8w3ga+SuXxofDByIC9O7fwe3mjFkfNfgqwJvw7lxXd7zHd7u9DvCE5otstfNha2VYUGAKmfRp0JqYUfyghsv/XDNu3jZzpnrAQAdW+NQkzZ81X49z989S8HyOYK4mbcUIZS3wbKkzRYSEgypFdKee+mAzr2mM0RTsDKVSvf1Rtax9Ym+bU1yASa4dcrXzw6uPTlTRHKOkSM4fzElIVtpHDIbwahgOI3WX+BHypG6gBJ5Kty/NICGq/1wXSFCwW8JiTQXtqsdNHzTEsKTYfEhss3wSOTmOCkHGsf0vjUzOf/tVqinHqeSCmtMtIbCBq14uomikfaKFsp0GPprAe/ChZQJrROJFJf0M9tz6duuiKOt4Nx7XaHys2C/Eqv9FiyrxaOym0l+sv06Rm1/fg==,iv:yfnF2Ikt8DZIT3RQgZDp2uyUUdZFgy/BSxPlCPPZ6AA=,tag:XeDjuIlCZHlOaACJpN01bw==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:IVWkKTfO5pPzUr8AulgoeQOc4LqhmZuALRODy/fHgidqnvYsQ+z85o33FluX/6WGazwIZ7zFUI81B7rNYs0wTy8hB9+FBS3AEVJhbRSrrdLkzfPo8NQTOrVrsAzSD4g+MzEOsXtIYyqqLuBJH+ebqsB0DU+JxiWBwJSjnXrUzel3AsJJLk6aFdiR/hB2oG98LsdDfvDDbbvQvT/lHMZ3ZyqkJl53hjBtlXSbomneMKDgK26zsGN65+aKwBGF5v7pWba0wMs891M4nhwQFbiP05U6avdb8aU8cCZkMmkQVLkT9niqO/QkYLQ/uRnXKczJ4DoLujaSRySk9+JUAZWFGGf3TNO4d6oXOv4lPfULr2w2vBSz2VGWJwieVxMuvJ+CYCP0lJwxcTVCH1xtxL8ALTxHgpZ+Z02//JhcNNYF7XwY6loSiE0BeDqywgWmv8/8i7zer5BKlcOXL++XePU6zS2j8bDIWno+8rAPJJ5lhN2pTnDpwHBHIYnyG7VprZZwhNhfFidUWrEb6SNugCZgIYhqGubWaKnka1vTe/5EB2NfNW6BSs8ZKGiboYTOq9PJFo+gJbpW6g8zlJTWoh0+G1EWikZApKrDADs89gE/RD2+3DTJMtezH594w15BXXE/8AW1MumqueJCgf9RVPiJX27dScmvCp87Z1v/Pd8CeQHKcFaDAp/wvpF98+7bnkAV5kJezlIWakmJ4OqWii6XgOf3Byigq1O0lhGTaoafpYdul74Vi2so4UknCqOmyjHDT3eK8+5DkFE8Lul11f/XK8T8JwNWyL2TcCDLX8Z6PPeAmHoXohNwuCcj+wRwx/UARsuvGvRH4lJQeDGQZ4iaMhh1O3lj1fupKa396BGMFNIaZCe1P7Obypg5J35U9ctgaTU7W5Ry8ntnOfp0KGK0OVmTTImzx+q6jOmYCxC0XJ5oKU516fkUkUt4AEX4mrh1,iv:Pyt5AoW4ud9LT+r/L9RRPavlYHfZ+mqPiM+CiZR6Zmw=,tag:y8ZGn2O2nmcEZLYXPh+ojQ==,type:str]
    key: ENC[AES256_GCM,data:ds/SuoMMUi8NJtU71l0GsMYX3GAUuiYpdo0a7sl84hFlaB8qFYlEeSKjPI463FD1ZoiUN3IlojZmTdVYx+86COw1nyikLjzGICjwtW41cD6+70IyP+888eA2hxqTxhB9oepD0JP5Z0jeyZg5zePQCGM7jLb+38/If+iQvsajMM7P/NNVX6BrTRMbk43vFgIl8utR8gUPpCtvC5jcw1DpB1r+C4SqRob6MUBfcMeGxaYGSb475fgbsK4KOR3Cp4ENTSA65CiB9J7HXOIM67dFVJtaAmHNGH5Gsyno3+JdQNhF4KFUrFtr+mvrvdCkBWqK+J+v+F6xDqB7dR467Hu+C9x5BHHyyrsGx1QLIAkc2M5mO3vBzjjqB5ylmlfxQQcaEOcLqABtVA5RHjvcWmIsiQ==,iv:HfKSJXgKI4DkCxwW4NzWBzwEaGPlQcdK/1BfGy6Lwwk=,tag:OUadqHpbHpKUjLS5N52FjQ==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:xAMdut4lQg+GZr98T3D775Ul21xzf0Qi4trlxk2TsWI=,tag:w9rZKf2dxP4henjeyTaHOA==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      enable-aggregator-routing: true
      feature-gates: MutatingAdmissionPolicy=true
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
    certSANs:
      - 127.0.0.1
      - 192.168.1.120
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          plugins:
            score:
              disabled:
                - name: ImageLocality
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:bgqdrRL3mL6OEw0wv39VrvN1kAOg7YSVEZ9S/9M+Q4IFVBvfjIX8eIdZhg9X8K8VyXKazmm634rnnIPlVU6aEuNUkf2ZDfJL60Hk8EwM8z1/xAbg8toLAWk4boy54n+U3tDS/l1xv9phjCFXrC1JuINyO/Ev8UH+/kGTpWTxcnRX9pL8xbYierJFXs752fY4q9+qBwrUSSt3L+WFEfvubL7zFzDVFtR7lYC4Glv8TqVhvmNi345ZFZS/JAYIQkyngaeaPqvgqVPzktI2ORN/ENdAxyEBFBATNH1x5ctmxzXbyjd0ScnktUOeSHGuVCwWA3wOL3UGE6oqJkzdoFe9+kMsQuUUFvJlz2o0S0wQKxmw66F0LR6amBdnuTv5YW5kRPbcY0/HemH75YN4aIN8WgJY9i7GtvtlyHJ0/7qB1+B0S7zJzdbixYllU2GaOBmA9O5BpUx9AHw77xAZpSvx0GXUCj9aVuKgAGZjCPj4rGVEKSGu+oNKFFRSXIHXN6Isp+atqRLMZO5uj5XB1mdDAA5I6w6dIpBOnWWFD5ZqsjxBg2H7a9bs928zdJakT+cSLoqy7zh6ykq9T5oSr57yYtV7i3ByuNBzkcojKoiqiMAN61ECNz9KLk83UaTfmW5EsZH9X0S22oKagl2VSvJ4xk6AIvFA81Gww0fZQ0+vqtpWykNx59ia+8Fj5IRz0bOrnaQEFKD8GjofPfWEAIjqgPxycDHhyZqshMwlN++4L4eucdoNpY02Qe3ZPfu75jrFsjtsED+2pOD1aIFG3Cgk8ucBFm+ZIJOtKctOTLS4r+lJnTA0QGFuQ2DxUGHOHXg95x8hQsY/FvpwhRLQFGfW6e6tPYkqVPFkgp3etRex/12FzLWCERuMTz4CixRl0tujObrMzCwTlGHCyFi4WNzL4IfAXmut188PKJBuieuMLQXZLMe2tXG5r7sUaZEaBBIyoL/YY6ClfVMB+AgqGPGyp0sU4rW6WaoVusFiC6anzyZwuLW3h8B4fjveAJD966rM,iv:t75RFvlg8s2jirnDaHwpaRV0xoMAnYwTCMc2Pi12eoI=,tag:zmPRgxeBtDWr2Y7MrD0OLA==,type:str]
      key: ENC[AES256_GCM,data:/U+Hyf9UM6HwPSGSipo6j+SYXZD5WA9uZaWJi3zZs4Et4UgZLKu3QhQlcbR6Go0WqVSjcrzW98uqCt8VSLSzb40del9a5SSOX7gQI1gc2Bk6MjkogqnMb0NFYH+X74QW+QS8DfHwylSn0ByEATdfegF5EZxiOicQ+3MU1KNbD6fGY6o6F3J3EHnuOwCX2OGYe88L25BpRqEk1JLQCnhxvLfLWpzn1Q0Uii+kcSGWSBXqumeTiQ/D0ZjnQq4BGYL6oXHuToneNSlsVehXSm4MZDpcU5xxBVdllq52HMFzxBoBwU7BdmIOcOnIgMJf2M7/yPSWj09zpGhk6nuxXADpN73rmk6i+3B1weF5woWlCKpqsW+f7+7wzqxU+lRoXXF4jxnQ4zP/Nm6YAFVZY4NVMA==,iv:MbOB3xK84xCMNJcF20bhXsmyPQ6vGJYpuT6I6x1984M=,tag:vn4Tl5V6RzXBbuuwMuBehw==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.1.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBiZnpBd0I3bXlqbzN0OXhU
        YjdOWjJncTFreTBBSUNqc1IrVWpJOW1qdUJrClZNRkhtUWJ0bTE3azM2cFMrQWRX
        ZVBpMnVKTjhPVWtUb3BRVndNc1Roam8KLS0tIGdrSURQZnBzWUZnYXo5R1NkeWlp
        bTEwcjlOL09UTDRJczJ3TGhZR25TWlkK0IvoMaNp8lzRgSFRhu4ULU0l1IjN/LA2
        Q4OLnEq0LrAiPP2n9+WM8OBarSlmkh8slYCZ532HCP3PqT7VEzzIHg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-02-12T13:02:38Z"
  mac: ENC[AES256_GCM,data:KPHQ3azbJUOLByJEKyoepgL+9tEPDnak+oAyHPuF9hT+bZBqlOx4M1zArc78MLbyyaHab60qBSN57xIkmT2TiJBCRgEwgpqQzmHABgUi7WAPeNUWf+eME85kq7zaqt7vBsoyXWLM8bms5wb33D954BRsoU1RvpzfwBlQ0XL9J9c=,iv:VGBxzhXHegX6H5xIX7zTILvOHFsfyF63rvdGt0xHkpc=,tag:ZofhOb4YVfm/dqu4zbR81Q==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.4
