version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:DHXrCMl4mmhO4OkH+xo5lC7vVEpWqCE=,iv:6KM360SvzcRAo1r50WWnGpKqjCxDV3/CqE8O6GLac1k=,tag:1fkVGx34IUYxAV8wbmHbbw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:VWnyEkgKRPV9bQe1IgagSV2w9vYMR85KLOol7DDUQev1GNlnimtO3/FDU0KShYdajlO0jTVrKINi6umZfO3mBIptBUj7bU7s1Qk53D1V/I5sQqDY/pcqvJgq5UtgVxOUVHKkdqnbN2wSv7RsuqoHP3R/ZI0W7bmZWJYJ9aZ730krTAoPEVNLjE/9VlNWCvBVuathL5/rRZyGT/s/Ja3i+jQclUpujXJQIGAahkE2W6UyqdMhf7g9uJt/iqHe2/GhwuGk6XM9S+Hveg0apevj36/GUC61BJRS28DqWHI4GvaDguxf3fsHeaUwyxH8NtfxiyuRxQ1uzEY9F6h/Uu+AtVJywm1RjC5ptmrqa6FZTs7cRQYooDnyRaNYKCbVWcH5t/99cHdjFc9i0SSSvD6OngIQIW7AgBZkB1+Gl7dNDitOuPH01havQgMPRkxcwVvXex5qCOHU+5G3EX3cByNyBiRXK6gut6e2Xp9WMYLuFmj9SR5K9FWyLb1S3izS9GoY6P4AdqLJzTkaRX6DkOUo6nUCFpaTMvbjdIfDFiFllNU4ciAx6r0oWeA/6cCV3K3f0uKfyIMl0DQPMdD4N1bCSgm/ZH+Dvrx8BU5t6RYLP7NyVdif/eZRlFlpo3P1aG3RvMN0wUAOE780gHU/w+qwdLXH8h4lGBxOzs9l4DVkdBZcGW1Po0E+wgspwCs/jx1fPTtqrf+H1C9nQGsSXUMLGV/qjBFgNG0pPfvsO1WG6RY5Lg9J/59iVaUy1uypwX0xznPHUcWq7Vbjk5a04xRphRKMffIMh9pnIrz/0NC2OuBs8Q/1uQugefoeqyND5yq1Wvh8U67c28EpUirr5Qh23c9b6OcciM8oVt7IonkXBiLgChZX,iv:QDktVK/HoCesW79rkPi1eOv1qS9Pm6bw/fWjS//7sT0=,tag:bJsDHzxEvOKoe82w7X6i2Q==,type:str]
    key: ENC[AES256_GCM,data:u0MYiYA7JCeQNwNPLwGLXYexu2JhulSKm53R8QoXh3wMr+GrMDdMgl+QjkrL/8L0O2Mqr2k/kEspJoLCsY6EymtikDSXSj/DnQoz67jIhUjXVwx5d13lcKjUbpTTh5irfhRy4/svdyCl/AFVXP4YjL/rAdDnSQB2atnrNLCcGlM3aH93bQe4L6eOQfCHeQv2cP8LiSWyGkXWP4FgAPwxl2cxjDdu92plq0E+RR2Qc4iCNIy8,iv:FjkOoYV/cVtYnFdcKcexbULtCt5bMBd366ZLe+MKHEk=,tag:SBd8HE8QJXlq5OEtj+xLgw==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.1.120
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.1.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          hardwareAddr: b8:85:84:a2:*
          driver: e1000e
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.1.120
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - mitigations=off
      - security=none
      - talos.auditd.disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    # Spegel
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    fs.inotify.max_user_watches: 1048576
    fs.inotify.max_user_instances: 8192
    net.core.default_qdisc: fq
    net.core.rmem_max: 67108864
    net.core.wmem_max: 67108864
    net.ipv4.tcp_congestion_control: bbr
    net.ipv4.tcp_fastopen: 3
    net.ipv4.tcp_mtu_probing: 1
    net.ipv4.tcp_rmem: 4096 87380 33554432
    net.ipv4.tcp_wmem: 4096 65536 33554432
    net.ipv4.tcp_window_scaling: 1
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:pxy/zT0NnQ1BM2lNlQuRcCLutCuMs5o0iNyV1ZvaKdqxi3a9Qffs5/6cepQ=,iv:Uh81YK1i5PuFfYMw4SNCYmdcXh3nF+SEiWIdrGPYSMY=,tag:9+4xcnaVOldM2kZUhmd6TQ==,type:str]
  secret: ENC[AES256_GCM,data:i/C9xYh6COkvdRo8RsNYybWymhUvPVkKgH5JmVkvDstX06gdgh1/eRhg7Yw=,iv:Z6AT6BfQ8YK1SKcgGZhahzkgO9yUfJkEEr3wvA1it00=,tag:+rBLM77zHLU3QxGp4KYTNg==,type:str]
  controlPlane:
    endpoint: https://192.168.1.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:gSKjC9prML3yrMz4upWwGK2ocMHEUKE=,iv:d353COyntQOUjPxxsG76zNAj55Y+yAN1wofe76nhCkI=,tag:zM1ODXFWRn5BFYWnDoGU3w==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:K1JrFKjntpAhcZrkcugK99JIGiEiySrA9QGJhthrgbj2qfk5ScXHGrYQdFw=,iv:jPgvaPal2iz1l81VBKqpaUsbvcNT3Mheb7b/M1QVT3E=,tag:6DNmOdrZDO2sY1AmnvHilg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:qkUJHzyDcMV53rBe38eWb9Xbf9jxfIWz+h44zZ3pPSBG+zzFNDUdScWx6UysBDb1phQhvbLHtVl/5bnoj+8ZLEgj1VhC0FbNM9V6/I5iuOklXNDoYErWiBS9BIYYWOnQL7tVajTXtJ7B59/zFUR4pmq/ThSpqhdvD6mHP5S2FpctXvvH8VSzvWg9B+1NWqVVbr2SAO3HhICKs6JeRtB8cNszimpkyq3r8XjhkUQygPeF2w4/M44rW3aqG5Bbzoy5Hpjbc7STEUMJU+ZsO290gle2wTw3HDIg7H1XUEQiuE+hVkYqY5R6obbrVIrRmlQyhbgv9muVFD+zO9Bfmy9Ea7qB3F/LU6qE0SYsYxzuVecI0QNzjqicwb2UY5zl6W41FSWIUOoLRsd3DolMqwpkOX4T147MlI5rk2mUhFS61sK8E31xkROOuhLaFwMwNOv0aRglrLYjg6hPsnNJ3Ye8UKyfoqs0RLeHehfTh5VmHzpv+9jmKhmarBB0WgKjKhPAnW81inaQZI7oc3XKujw7gZj/+b7hguqYQz3MtlYr34LfuJc7K6dsyiNYeJtzoy0+DPgCZo/v4C3y6/CjBTmYYB6NyL04+B9dZps3qSxFqYsKEN/wRJV9fRB9PWlXNYnkE20CXiczSNGiFzxEEK1hHUhGkqo7vtMYXjzuKRbX/Sq96fS4is4QgSuAmpsmZuT0qfc2uxDHz5UdZA2TjYzFmNG2mDaDHmBXsLLwA+eZlt+09xTHZP1/E8JYSq6qxXlGpThkR3BvEprdulBDzi/aR7JXUX8PuHHP/6srYjbDYjuMCENxMonHenUkohPcYoVuob+taPr81M1AIGnNSBuwsqCfpK9OyZ5V17xZ6MBuQ7mZpIH9k0tNplbiCTRYk/vnG37nsUdZfRfHcSbBHUt5jXAClzMpjAHxUa88heovjxoU8E3tf7VF9Kguig4a91GQJ4o2jd9ZATDfNlNXTCp+Ue8aMzXW08/lFBEB/fc3FS9zJ6DtdFbrjQwqNy3XQlT9OWPdvVx8+nWzy7eBJEbLiBx8Ncd2Z9htiMFAaw==,iv:4P3qqYT8Qj7sCvz9i85stJ8jkblSxisreKA64kt0BRA=,tag:OtoCA2uNqc4NWKoDbGshdw==,type:str]
    key: ENC[AES256_GCM,data:KMp6PY0RkLH0MoKCjgjbvb8UaTW1CwY4bWbeEXfERs9Fz7MlpOfwKiySsU68UdmoG5tq/LjG8A1F9WTJBrBHaJUwtz87xb5PHTP8YguDCepJw8q8M9IGArYF+tC7wSXmbuKXcC573yFmbyVtBeYjsAfkAd9l4tLhyQ+2XkQFppBTb+FtIMK6XHPUJV4SaS/eMFrsDACqnn/lXispotQbYR8zPLZusoPijvoOVKiK4SpWPH7MXxMjBd0qytyGSmC+x+AZjS6C6U/tGJf8QNOI7YlLAGTzRqhph9ABv7nv0ZucKgAV+D74JrSKoa2HE4yhX1c25H9WMKQ8nlnNcs9rlGFmkzmDocTWIs93lk0E0JHexgq+W95cf8teHtEAbP/HWiG/jmbgg33Y1zNpvbM1mw==,iv:TqZpSuEZdwA2wBdj8y0OZUwU+60npt9xU27YCK5eA0o=,tag:z8LmjpHracXOdpfzYXATCw==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:2hcNH763mkrpsp1JXD2LsEu4XDHwNF34EWgz4D5KT7x6r7ruQlXfQ0q/VWOHy/tiwx/RfzgwSMaTf+GVjzXKIehd+/FSo9XrBhY9i+ZCwxScyDhH3Utsm7woRW/M1CNKU9r+s1/fINUNsBprtlRtk6/4VBTvp0+Pxbw2n3rnoN+PWyZLAGg9npME9B81Iz5eXT1Kyjko/X5z8VGxfOLoW+mNChshYJAl8KmFaGqaXqd2/5TyTRSp4CrmoT4SAK+7pNfNijoqyGXFr+2SCx33riUEYpU1IUR83Fuzn4+w3/yq08gOpnK8QisXSOV0OZ/O1JfJMjjL/XRuOtDHoNLEuOzpSyVn/G85N7bGSyjEjKszVWSJ3II4FH7OZCRLDvyLd8vxQoVzD+DmXrx+osPmTzylNaIzqTppbf2/w1H9vlcLxMaOO+dZmPEpSoW7d1n5SJaCnptsWkgC1QKGXQjWOFkP8gimhSbv3NsMSUw0GEtlLeEOYecYGcqUBK8OkUcGV+EqQxwJGmkQJQJdtuNkKLyzGG3Lom6os4goz6Y2DxZxS7GestpObBGy+CIvhLu19eBjvKs9fZbM4mB5dzRkRp5j4tEUc4h4FQaOH8ed/7+xXSJWHSV8LiRlfST6Rg49jKc06+lIkKYfVQijmqA9BnxN5p7Svcwc1anbV4bIWiuU8ciL2GmCtZfO8Jj6aYL2S6NKfxzjhzgyRhdyAExDvLl87NzdEvi7Pyx7INB332ONMEw06KIHRMzq5F5COm8RuH+PRApCSUpCcAVsSdXYDBYHwKuujLQyd3JhMmumfLLbGchbsTpZR1i8XK8tkZT24KWo4MqJV0Xn8blg7I9iZtw2eeA1UKJNyA6jcUEPGDzA0x+MmJcPTLPBD7rAEtIhvVk8evCP6LMwnTEfWq19Ji/AzV+G0Inpdqi0hqJavbaYTu6pgSAlZQ/K9HhHyYrX,iv:HM3N+/iLESpIVw5IGnK8A95kFomafkyAsxfDuXyMbXM=,tag:sgFfsThb6mHaiy1LwbIUgg==,type:str]
    key: ENC[AES256_GCM,data:nnUuzfh+hCOUqM8+XYn+m+hzPjnioa433wkSX5B3s62JEX2Tr9eedcvkPTwhLpeTa/Em6OgZdh9P9j17oLKkDd+Yc5h7GcXlyJvs0YmqQf9NgG8fDO97f0khUgLslkL3GTGi+tF+wa0Hr95/6iDxQTEBcgwIPcmkK0TtOBnpuNrxkJYygT/Dp8iYy1XS26kXKQ+OfRE7p4dTDQ/aXET1YNP2E+Yhiat7f4fjNGWA2j3iwusrd/FI/DvM6IlARO/k34rVTNdWKLy4k/u/3d5iIOVXZ+1Lv/MxyDLH1N20aC63ierf4izC3Ps0tptoIJWrFrc7pE4TF8fGq11xgm5YBbvf1t2R0A6aOKK2uTDmJWZ5tZgU3y/tbO9z4H5S8Qx78XqpQK+zMbPWXSaegmk7KQ==,iv:O/3pqUsOyHq91ONc59g2XOmGZfGlX0cA4x17QdrH7G0=,tag:ZDmuBOwtJR66EtA8V70Qkw==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data:WcWCt9cs+o8N9hPy6oDf3T5EGRgb6ktsJ9EUnEWb7XWTmZmRBUanWLsnP9tcbwHgi4tLKI2o2OILjFh/ZbvPGKXskEHxGkbYZ875wH3n3QYoL8hPfViNZYOv7ld6MZhh2TR2LOgEIWILAyYecQAibqABpkiQd8fdXaIMiHvI2kZElp33+ZbJrEnTvlY8rjfdrJdmqsqZSDrRqLYm9Ea/oLMpn4wmbEvW+19AKDYhA9ITltNcztJk+pdtigRS8ri60rYpn3RARE7A6ckx1o1kE4KDt1XYMDd9iw6Yu4IUE+Sots6J/5S+PzD0qBgZ+cPzapmuXqQ5LCaI7+fl/kw6u0fXikQMC7kHfUdcW3BLnIDSDdlwPQcMMaTViGqJkZYCuDJASZxhNEoccgL6T2WqFyJcYFLrazA/xQPjsRnqiXs9MErUEZQvJvWhzbK0NU+TYmTmfB/lw4B7tgCEHbpeMFVxv5BWOKpZfcWltc2yhnMVlvqanbeBQM2NB5rUyTyPROa4GhHNhwEEfCBi8K/6nRyNJIxsIFgxfoxVxgphnYU4xFuEkQwWI41lTjzYsS0ffBwToipT1zzzsU3bFQ/vOOSPYMv9EE33LwLiMu0CC+jDG4i3p741w7orl6yb/ytOh0NNAy7XOUCqUvJJ9jRSrO0bZn0SnHv84nxemD7x6zOugKILfO/uuszIWWqjAtoa7PMK4dThpojPnH/4rYg7qNbl7BzdcCB73ebZxox1TVb+LDOGHp5bwmxOhJPvBv263zI2kmzULMRswsiSbSAqrXBzPACzuV3aFnXYEVDXDTsPpLUNx2a/sjI/3xbC4v5gbR2kOSzf6QjYU4l1HHnfhN4AU8WPBWbEOR+xRht65m7MfItRqsJseCD6TIhRBaykMFG12hPlCs1+BTQwbMqBr65VsSns0z8AmIu03gxxBcBgVaW30F4KRCzY21VMtNzEi0SYXOkmch/U1wBJJ5/GNy4YtC9Riueliig+O8b9zI1aSQT/88FseQP3cQXmVkH/UraOuqvJJTPwM14Hu2d52/xSitt/TmjhCRbR5zxkWS5uo4wmxVZXZ0NLUDa8kTaDMDHYeiAEh/6cBY+MB32yr5ndjWARZrcgkfcoPxMDjktkruMUZGQlcnnj/79f2iDQGRophR7MqUGO5DmNk8Poo3aMpYhtOllZ84OmAj9uQ/8EekmJ6XaRAh/qfxaPY0ZeN9VxNMCsCgnPH9kENapq7aE7eWZhUl1nIbntcwnV2pMyJxl3Ly4ao3eBrZYNDXYVWy5iFuI7siArYN7EtIvxvu7vwjDh+4pOPhvfH7CEVzlGylBtESBxV1pPaJszCT1cCopSBxFSp/HSxJaLrzA1qrTlRfubza25wr4D24zt+146MPx9qDK+AUidfwZGQ4sKR1DnnctRi5/KXo5HabO4i9IUqq+yL20/wm0LWtWNgBWcfe8eu9JlgVp59XwXSPiVvT+1ihRzSsDErGHEwVdnAZFFEyixHX97Hfal74eHtJip62JnSx+LQouGMCLjoq38pOqL1WosRGsYqUdfpiO1kJcsPc5riGNPuffhDXE+1jXYE8N/nJJON9s2c+/OiWPK/iYQ1mDui9jp2haDEP+Uh6aUky4AVJWEpvhW+c+eUTbwgiy0gNQvx/q1/obQ19EIZQQBlXxAOfHyE9hWYGI0C+JIPVmQu6UnBCYu6SdUxLejAr1OM7q1egqgWaKdm/TwPvl+UNmhQzbwiXsWNVMcUVP9WppOicc0p/IP8aCGbKtWWK5FMmI27diiKd+WDA9jgyqwxuyL5KFIdsb07CZ0v0RoluVHDu7v32/pq2HaXiRRVg4kd7KdI6/OsH2Zg61votr+VNlA+PdDOR1vzGh3zybcTKUioACzaym8oWOuglqc/wvAA5Q4Sq1RQI/SDmdcmuCYIJR56argNfXOWH8F5ppmogeIsa7gG6DcDiat5e+wBgMFt9iQMP/UtR0eDQ96BebEGciTME7085I+1st4V2t008R8DRzN+Uz10FBrdC9HQ+DyqBChYJ0Qn1iOmyVClH2y6H87uMrD/Q+SLhXXUroHgGBnyXMwRBzUm06slyVwO02pGl3VLRzoWhNKMYhUgDJMwnCLnijR5UeX+YptWI7If8IG0UZRPaRY7xV5+FWU6D67f8BzHIR8NdKSsIaTahE+/hQC7/6UyIYITJt69mZZM+ePRFlS8y5Y1XnFPAFZP/87saE0yrS+nWM6zLlnlnQ6PdTPKKVD06a0Go3+mXd+Rgfab638P5ud3/6SZtCCyqPQByQn6/mZuigb6WKa4v+qzzAwq8Eac9Sg5g4wBYzoWPz5ZvyPHrA7W1/Z9m+gPMe44wScSeFrhWU8OVbVmbou0f1q1XcTbpLA5tFJ0Wk6EOg58Y82jopimRaB9nVV5ax1wFZt0Xpx22S+bfUffTLL3m8Qm9lvngoR7+UECjbG+irj5LQHVtRJphJxemedI8vw0QcAnrCP+shJ7jZBAq7ED0fiAKGSZYSLfvKKgWVAzGtNOI3LVc9GtB50lUdh4KYgQgtEI24UVSSAMlkxitFRUJs3FH71H+T73Hj4dVhLh8QadXmodjqoY6PWpzsbytcFiHR8VLqhI6SIECMQF8zHAWmE1k6Z+tl6uDOJMHHuJgLDebvA/kbMBbjfqTj5ljJs4Ex0i/hXyTlzrsr9ybplz0Chlha0BOVo8b3xzERcLBY4zJNOETyzmANUfs+Ob4qSYBmHUBE7tK0h75sELVoxiXHmhXAGHW4yPDa6E/HRno4wZj969sXbKiDZeJYi2MP93cNyy6+GJlsYQBMTcbJAeoiOvwc7C7ot+54eI/TbADfAjf8P/fStbncyW3WyBrqCmeu/rivFB7JDkM7Qdr5LzT/+5iT8p9v5OufHc88GZOSfpPnN13+NTXxDwItbHX/8S+t366ZOPt93YrBWQ2rnBgTPmvl1JU2egkIciwc1PTmKhPKcI0+bnyFrxguT+nkwWZGLk1x7u5xDdLh+U12kadq4sBVDS9XwvPw9jkH5ScgpKSfmWYhWBhEz2mDtw11Oa9e8/9cAKNNhhK0jNIRQljxy3xs8w+5CTXorCSK7TIK+bu6uD5VuD3Bx5Aa8BUWvzUFR8dB87/o8zAnpJWnQbOKtOJu3zX9EEJMNsBA0WIYZln+yoyNGqYuOj4n41S7JMyP5uYcq17bV5eCx/MaDVPM5tnGgGpF9xg4iK1lYv+TufgBrSWDdo+sQvPoXaygYl+k/ioSzejs+I+fDOUab4+SbwtraE9LwB+9hyTxB3FXVXvpfxLYZSC2DCwLqEC0LPldHiRRt6K5abkW6A2oJ5E73uVdPUwMtNPseGdk/H4sRZmmuMalXAPnNevxHKyXwtxkIAXVVBmXr1jtO21k2uznKqpVGoBtTS9tBOP/4ZzrVfCtk/uJ+jdIrQQ8fiiw2/GKA0SkJbd1dWi3YqqWhfGKEeN4InDC4Cb6dO7cGBePXWHOXcetI5yjjtBbREfYVUaljzD7qEXPvvpeFyssPHT2kzm5x4Xzaq9Wm6hrzJZup4TohVZqBfP8lTOHmVEUPFfQy12orj/Fk/KJNbYMkB6V7h0+iNZ5nOP85aJXXT6Nao4h5vEX4DPk4DiT5hPcY80SFVhRvgeo/+kslZLg5u2yl4Ultn7pdly9BUc1TDAHWPFb1tjkxRowWurrai0usVPGdW9Masj0mPbBDD4uEBNwcOPAFEN86qIpSvL3SO4b/bKzsPNFORbROk8b9v72EKpG5TS+rj6EaamvH6oB6bm8Nd080NDFDxveBBZBc5wl2gblYWKnaTjC6J/XaL2MlUOAZxnm6S+X0XWtVtKG1kfxXyJHxK1gty9vFu1KqmLI79xrXC7FooB8Ab94Q7KyxshzxtzakXVu1c34838TOqttTT/4DxvEC7naHV+u0KkWah28RPM++OT3VgektKhtLQOCfhkpCOPyFoGcuJLeQdLs3d/yERncv+T5IG+ljL9mgCDo/tsi7/av/2XGBMDkPnAcp25DaY4pMFdWTL+58KzJoxY+OWmJvDUCi45vlRjr9w1jDwgsUdRwute0FWyBxFqoHL+7EI6euA06nebo7oswZaYX3lvzzu5QEwwDZAe5x85vdQSByloExyoYsECpjzdhMVS1RA9RxM66k8eZAIpRYxDyElJnax6EAtNpgtznihlcr+9DXKLDlYPkVq++u52bHQqhle0YPnnIJsuq0nM4z6kfpFtwApQ0cIfa317x+UgXV7yrhdYgIa5+iocsxXhgwY/bxWXCYHPoY0BXIfsRfZ4K8B62k3WTNOJfpZ7NSguXQYr2ayDVE3AoJ2do47v/EBCG3XW4CxX3az5/50Ok5Kpf5NKtrrCwj9/+Wjv5POjtgZwa8bLD+XEMxsuwO7e/8BrZwV7QtGBIyCD8HSH2JuHxDz3lEm150tFVY9mMGeD96HbbSJMS2J+aBPbDUndEmixzTo62cSgf4gf0NPrFkOgVMmoPRPynV2l2hCsl69V7r7Y9/u+X+TMgqpTxfm8oS/IVQ4WTGd+tI6NhK5Gr2FDKoyKSyzw1pW+A6oQcwkD+taKna2b4qFZc9MACvtrSkw83QH/5iF/2zsbb34xTTIN6EjflTjtVuU0MGdQGb1zSeQfrspaeiFwVs5kH5MdTmhp74/NPfjSx+VZWAKEOd2/y2n323vBYto/G8xzUwSEykbB6Af5NTHdgrXkjfdrAwHuXzO2S7lsRqSZf/mnwMBEo8b+aZ06pSqTmgwtWQsUSrQp/kq4S62DQTMFNXG2pau3YXCc+x/Pqg7nyEJhpyc+j2Kesm7N5WCyGwovbA0ACP3UzOME+ivMGnO4N2Ws+GpbUTiY8muRl0+tQfw2xFeLc5MoEprp4fJngelyoI7DW8PegxrxuGFewPYBopS/1xSzVKJzyJEufTbfsRjLTnirp1tyTWsmi2usYfrUpLsbC4BZ0vHrkYFDaxE3ARFp+5gqUohm6NcORaDx2xMfs4YSC6BTAj7ltN/B5y6I8x93zgKGBh7havQzFQqUpo/E0lEJdVopb4Y0cTfYF4bMJ9KH3pjx/CneckQNGuJOKybzj7flXTO0VpgyqHjZ0TvKwcsdH+d+IWe8dOy7/utaarukjcY/DUfy/aCVWj3pRt99hd6uffsHZJyxz1JypRnW8VIRBRD1J0QZDCyWZEb85HVdMBGTV1FbRBcnUdiErDg/9BytkxRNYBkYJQ51RtLmWrpTqjbFapBbC5vI4FFx2Gxrla3a5Yrexs1ukknZMfPod9UM5Thi77m7h25i1ig4ohjA8PVGGeJTwwYThi1xYQHaKvWj3NBK7dCtmIaa8HTdbayPbn77t3uARVnQr8rtartP641dZ9Q0wke/XgpGq8SVOvQf2rkIvnmeYRuDaVB8j0s0CM9nqBQn1XMEW2cSG6r9ni5xAnP+fHzsowMYRbN9z5yYtmTt/StdsO8X/EorL8WSZCM6yVHspLL6KZdfij3qW1fjvg52j1Dk/FNdSAFl17vqYCfloYg2jF+Pl5QR0sIVJTFQrGYMWJex0HUvf3uF6UJJEAYNDa2uqoLLV7YzPUeY0vhXOZw6a3QMGZnAQW11PEmLkUQo77ehXgpFfPIeqEU/y4VL5qGmMNwJqjqMFs9Ekmjs9z2KeGsHIyr1H8TOYNL03RHCIWbSbkmHehg0matJ9f7uE6g1AeYDJRzUpJpOvndWp0a6D1aJkzdITpzVD5Tbch4GLQ5CSF+Ih/6v18f6+DxvIb2EeZKA==,iv:rBQg2QGsT0nl2YQvT+3Egdyw9a40mfDG4HtHtut1GA8=,tag:x3nLgYP/70yxTmFiNXqoBA==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      enable-aggregator-routing: true
      feature-gates: MutatingAdmissionPolicy=true
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
    certSANs:
      - 127.0.0.1
      - 192.168.1.120
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          plugins:
            score:
              disabled:
                - name: ImageLocality
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:kFtzrrsDDQ/q/aWRuXJRvinAlxKQF2F/ndAiNjZXeubG+oVwyHMuqiZ3E+nnUMv5aFczDKbOWRSjHmppb3bS1yo6XN4ji21BSgsppyEvSTUWl90Dj79OcSJ0UsKQjF633nsRwotQptoKqilgsPJpMv3EcAqzfc2Uq54FsV8WugF1YxdR9MZSAmpeA3blwB6hC6PZ1xrNJ1evWAYeGc5pUtWKlKAVfmfYOd7G/wUHBY1B5ajXopIuTudoaIgfUMw8itIJjUaFXsr6tLlJyk5w1MPOZ17DBOIF4ZvFzFUxSfejbzDD0CcvBbWRHU51KlyhnlRUsVAjFg36u3rogQQunuCNj9HIRZNdNuMoP3ud5RJPPrfKCvkourNHtTS4jSLWlrg+TPx/eDKQ/CBU9dPkyz1Ygl6ZGdcB0lCNRsoTnQQqZF5bGBN5vC1UC3eB4I9zuO6cto9apIfnMl/H18qLaovI6pCmETXLVJzYYubB/7tDlvWOFZaspdMSEigdnz2ni9O4H32n7+q1Fut9DJe5x8zvwLVIiP1kPfFurnTyKTDf95XUTLfIEKnJTKphxUg/uQItuMVjyW/XEPTnSmeOf9Qsw+dUl0Eh/0CQUJRcbmljXK72Y4Ap6Y5Fj6NCBMArCXZezYPZBcxriXUGHVC5cKQzuAV4GmkhulSibedQr/jDD9/49dNkjXkzn6K1YiecwRBI9N+oQhhnUA0ki1WdaBVdZxamHI5BtzA3UZlyQmGEo+weweZzK3oIkYp376YFq4oF6KTsVdlRwldhATjfLw62sNx++8psAG135cv47j/UcZS4nCqm3MqhGiPp++MZSKeCQmyihZ2vGIWhFpC5c5t63NnxUcXlmv267peducVjXZP6q570IXCDF60vtmyG+fFZXNQodm25RdU+A/+NbPTzaBAPUDEE6nym3tAVLkJCdHwkYxOTDzSY8m2ZrjsTAnn9kIltVP6FwF9aki6DRHl1wINLZuj15ObrlEUPd1lmVSjmucPrgKqGTQduGUs1,iv:XWmFkEfy8QE/L69YvSgv232lCvXLz6ev5caE8ePXLqw=,tag:2Flo7p0rloUJz7ADqiU0Vw==,type:str]
      key: ENC[AES256_GCM,data:OlfodLO1qe2Bg6ilYYNk5ktCZS7gim8Ol9ll9vylBDmvO1Vz9XRGV8Wd1IXTptsht/oryMgfKcedl7IBDK3Cx00EncGwjQrZKU9Cr2+eY42JKvPDN8szBf733wnI4LN7qYqYXh/kja7Bh1p0i8NXQL+/TJ2yWenx9XVbYwEN9+5tVi+8CtQrUv9AA3fviUmbtqcIowIW31ADSJRzVJPt1pGbRvlSetNZ1jOTibojVhHbfHbMKudoWpv+Gv/cCEQ13mouxqDJ2n4PsS94JQ7tKr6tSIs8wooeJ5Or5O1rkTquckd731oI4mPpkvXhTGk9WZAZVvY3QdjLicpDUOVf/ak0JeZn9Af8Q7igyfsEnaOb+II0qRCsJ4fJ/ZQPZ7y/v2WjprfbNvxgi841FC/gpA==,iv:5LhPUbRvMrLnAeKzthRzgOqr7slC66cOK8xPKLdbjHI=,tag:f+ynJrzJo8MUjELozWgPBA==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.1.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBUdlVUQlJpRjUyVU0remxF
        a29nNXVXbHkzZGRUMmpJVzlJcVQrWXpGSUV3CnZxanF6T2VWNVA4R1l4czZWbUFF
        b3J6cXFBY0l6eHhZT2tvbmJTL0FHdDQKLS0tIEdiSHJxZWpPOERxRGpvdXVaSDB3
        bS9GUzJIU2RGV3hLN0p4NWNmd210ckEKHKLUyT73fmvVkN6exnUyPFjb2GmdfFrT
        LzxyuY/NGmCCH5/0/GbdO4oC2nDJXkt1GD7dfBuDoz8hfQwQK/u6Wg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-02-12T13:46:05Z"
  mac: ENC[AES256_GCM,data:fjcnUrUVjTM8QPmORIchGE7LBzVYE23tjhYWiMGddkN6xYOcxkpCwSK5VspTHyu9/S8GsnBWUoYtzSwtQnKVT3h2PF0D515NUEGpXj8bWP8GIPCuy96R6hVAvNBDP6mjQ3tADVHzTBQZbbfOXTQNBIcR68U8M0zwkIYzwZehAEE=,iv:B1bQCB1JFMT5pCv0ASgVZpQCmA4LPy1RCDaFGSI9OrQ=,tag:TA1geL77dP4OJIrr6WDpyQ==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.4
