version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:IoyuZvpL7ek+bLmBrfW0KKyZRD5BaDA=,iv:5tZbS1002OMClFBuG02JZrLsKHpCiM6eQ/w4GFhPRUU=,tag:8VCL/GHUflkt1OvNUN8DTQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:FdlyOGlGh1PcA/gGAHDQfWnmOghtoGY5LDxjYl4Jb8X6pAtf9KM5QyTladoSpTaPJH5to4hrbRYfDgu75A5jG5EZwmYAnHCszfpjWFZW2HwbwhK6/maDKrsJM4mPvQe52BLXhdScDG/VB5xQONhhQR5uWRb+OkTae7VYOjinRSPy4Vmx03uFQ1BW0jrRKFfEZIHIZKeifcn1hhaWWvdxGaht0D50ARUGee56Kqqglxj951PK3N/TLvPyCp1UoYCFCyryuAtv7y7SG45wOvAuTPcle16UP1FxyY5e8VKXZOMd7MJrrSfgAYlUWR2cEMZeXKQC6o6nWUvRflHSvrvHPv3HqVfeXkE3N4ZmIAtt5jgqy1p5nvYiQT+UX47Z5ga9PnXkX7pgM7jPdSqyV5PLRu0g2A22LvJADL8Duh+Buhrm4ik7d8/JGH+Ohbo0lR2+KRP6ACacwKkBpIpXqMMvzSl0S+CTOg41kLtF9AeeTwHudqi/yeZw6G7Isjo45W5miAUiSsnrHIJi5PJc/QtIVJsMCTG8B8HgR8n0iErN/4AT8LgsfdQuUs7zNBaBFt49E1regD0B8jyOGrNDCGCdyPPT9rWu9r/ZozmPVKYnSU0Jwq09MaYMsVBZpjjrS6ymfudCJBR22aAKCUtXp1mOLmIxvPefLp3F/+B1WyuCgbJeZ8vVmHy8uPjTJOfR6BK0TXtv+7NKgrMN1+n5oRioLLAmPFEiiMJUcwMMfzQsqcwZOKhDiSnAw7nSP/uGe3AOK6Ji1V0tvuZk1NoqCgQJ5gZulq1ZxzsgYhbtVSxbfLS1jmBqa0B1hQwnK9pK5UXzm0fav8xJKp/0r8bWLL1Rbv8Azi/LifuPl0+r4gia3VXDTvAb,iv:b2G6jQtMVmKDYl0ADqgLPRymVvSJwnaqErlD7VTcMVM=,tag:sfRdtvvKc281puLsHsSD9Q==,type:str]
    key: ENC[AES256_GCM,data:sFdqskMnAVt8vyiY8oPUOD1cy8BXJc+hQpn89E5SPm0bCEFQBm3frmHqoi+hpbNf26GuLaEkSzI4Qs0LGQIvRp3LAPLNC/mRy4lvcGKmlZu2SSF9g2kydHSzs4z538FeicEbMuFo1zB6Ay4onPhkLOnbDxbhTRl4HXOkCWMQDIw3LBMqLv8Qc8svBeiEu0FiA9lqPIBoKH/oBamPtGxvnZHAGzfOziWgG90qNwoU+xRMpuik,iv:QV6BoajRakPjKdhQYJryi8iZ1wzOxIY2vcN9T99qjjc=,tag:hDSiNjs6WZBofMXoQKEWLA==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.1.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.1.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          physical: true
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.1.200
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      # iGPU
      - i915.enable_guc=3
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
      # iGPU
      - sysctl.kernel.kexec_load_disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s
    net.core.default_qdisc: fq
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 10Gb/s
    net.ipv4.tcp_congestion_control: bbr
    # Send and accept data in the opening SYN packet
    net.ipv4.tcp_fastopen: 3
    # 10Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    # 10Gb/s
    net.ipv4.tcp_rmem: 4096 87380 33554432
    # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432
    # 10Gb/s
    net.ipv4.tcp_window_scaling: 1
    # PostgreSQL
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:f7+3HOIFHFJugsfqHl+H9+NvOQJ3nLOJf2lzN4hVv7YYdarlpjFRHXLi8oQ=,iv:26/qfeGtAABKangDEsz5q588UpORMAriBG7iOeTF28k=,tag:rzGNkW5AxPhuyJhWn2pF/Q==,type:str]
  secret: ENC[AES256_GCM,data:s2NJe0t3Vrx+vFDvnSXMVSeI+F0qxSEv2+pCa9qOrsD/ZEL36mzIDSbxAgU=,iv:U7EFnOe/2Mj++gNzS8rP66hm1tk5PzsrCx12zTv6Hz8=,tag:Caw0sEIdRcthGtHK3BDOwQ==,type:str]
  controlPlane:
    endpoint: https://192.168.1.200:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:3pIXvNfed59tXFYrbzVyV9hZoWbrggI=,iv:2+S7KNyvv0RVR3tzeK9N4L4u5D08S8+Kz7kEH16iqkQ=,tag:JCoULWlf9eZWEEQW93Ikdw==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:MfpcFHlaMGdQhC6zCcdC0bAgtiVDTSxmd4D11sP7FL9SRr6GSIB+8vC/gkY=,iv:3GCCCJX9Nr1+YAp/XT/lDq4fXfjVpwkxUq0fmuJJcm8=,tag:WRBGgkTXNCjZtrF/eDx1PA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:YnEX9zyCLILQJlplneaGf5WTUeQMNjrFDrYFTkPf5eEoOUkRvDZGY7Sc1iiCrog08FrB8NMfsp+4VcNlqPGbnW4eWjajfsSeLgNkmMDcWuF+Pk8H3T6Vn1ilaTKMvpLs4If1P1XjPqhn5nHnV/bqrZ4nmbIpN0IiKsL/wppIOi4kw2PmW84PyCYgq8VLqLZZCFRE9VBzA4nETDCYsMmbGiI1jKjf3l9qeI/AsCkDx6baLyty4nX4PTATfYDY2Wg1HBjhDM4WRpx0emqw9zBt4ZXefzRhOEf/AjtyLjIANUyhMIEJ8WMc58lYB5ZrmgGQP2pG3dSXamQmqe3v/9vJTT8Li+SMD0f3sDPxEqO4ypsLxIhrM5uO/WYz248SXiAhYt1EcU0UWVSQj4whAimycyQl1la8unsPRAUoxtKQyLr1jyFwdLaRhYgY4qXIXyDAp1IzM//j9oHv3w3oB4PosO2EWye3ii5mriJ4Zibp9c0UJzl1zDGwmWcuWjavMyaCoOJX0Oc/9ns3rwlTkpLh8A9a/snPzNHy2MS49HxlRYhH7ZI+EL2/QB2KfZF/H9UbVuoKxbG5yKQVf2EQ+kHV3LBAaQZp26pCcd+PtPf4C/r/ADAuXKtOSNNlnXepkIWyKy9y0EHuF6Gm/hd6NYBHHpdm16FAkKUwT0CODSuzzenIxPVjSsj6hGvr4FdCk2NyLLqj2PTWc9Ay1M99L5NApiCXzuJy/PRPkzTfVymrOeIdtIrzKKCmxJEvFxO7Bf7jwWYLaeaWV/dHDTdWl+WBXwAQsCoq1QYgDMnVVYDHTucvzXAq7UBV+YbUfVCar7ZLVPuyB2LY4IA+REDqmBwN4Qo2izVnyO/rhUMD+o8nPVnA2Bh9X8k9OUr18tE9ywmlt+QmnVPAdDTwhng64dLLfLMSQkVNz5voZR6Thu4LGjS/ODlFKAZHw7lRg9hyFUUmJ6+SkoosnkVdgrTX8TfwFMglw+Kh5l7MGegO5mCKHDF0A+PcSEC5yNDydLYSts++X+Ug+XujT1nE0+Ec2JmDQNXuc22cTaSZBq6v5w==,iv:BTTdYNbJK6VZrxiMklM3pI9eSiHefnCrgVlMrStP8gc=,tag:eV0tnKi4vxTw8JCvsHOKig==,type:str]
    key: ENC[AES256_GCM,data:ulcQ6EvzGLD7Q1yIGBm/kExb5laDXlptCHBYBR1twStRDlfYdTlYDJ/Ls79jgF5wyiwGXdAmpmOPuazZZXTM6f5jFLPFtJjgezWWf0/Xs5latKzKZJT80X++hcH4Qjtnt36ge9OU6XYAKkjp3mdp2rfheru5+NKoIzy5ogtCoWhDXDyEdvH8pZO0hRisoHgYqlsTdQc87Blk6/RI2jX+E0lLbQzJ1gFOQl9RGttAHpRp/juTQmM3g2UNDtyqweQqOXMcAn/3hy0t57sXj0K9ajeWOsdVvN6Ou36NvA2T8NPiC8paBdqDEWY0p1Ea1LnpWlEAPjL5ixxCuvHSLiPLluEHvsGQAkWfl8xfYlPgyXeeoXRZcF+NerPyrwSxnZ24cteIkbFrPosFUtKmWR3NVA==,iv:/M7WZzsBnLmJf+6V0eo5QbLkZoa576w2WFzgu2XuhGo=,tag:XWOqq9xoufv6EFXwX/h3nA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:8lPI0H61wLtAgU2xeIHIik93zopRi3NcEqlTmTvE/uzuNCvQ6SeScNayKJxeil2W0wzjrh/6gGWZDZ6GF5ECt4+3jUucRlDR7WxZwojddYONAPVCPHDDbK+vjRiwVjQV2NnlvLGY7Dg6MrdUxT3Uw/T4YTUZ1ni8qAzLcXzs/Yrc2Ybmvrz/EMaR1kMcnfoG8fXQdFlw9R+stKfzJKObr6QtevFCZ/VLduEGul67HtdePyPiUrw0z26ODPPc0XWJ6TjSRUUTAkag8j7Gi5fxy7YC3o5FhH8ar07KO2OLILi7fPVjwomgD4x919TDaTrsdEApfuDMav89iBmj5ZDO+zzRELUATyar1g5jZwiaMQ7VFxdI71dTuE7Gem6Znq9OWv/J/6FVd2bpnKAaEl1CpxsF+17DD4sorvIQohtTxQh+rUEJF8qYNPm/brETlHjjkMiEc7WgGm41XS1KlAlkZb8pgI0zWiO9c3xQw86lG8Om1YCGvTx3ociSpAj5XrEv9zoj15d+uNEV6x+iUYcI4kdeEs8i5oegEJDuTSRJEGw9VsAzecNTLAcoJ0dfONl1wcMk+XuTWQN0J0rJt/aCoVT9HZLoEGT8Wr1XRF8KEPqSaXQhwW026MJ8tA1alGbCiJKtdIq5Br5gwmB8RHlJ9KcJuz3jZzi4vA+CDJuIyNb1+y8lajowbYvz69XFSNBLrZiuOIQtxsRQLkH79OkDGsN3pDJFccsUDKzV96YgvqhlkzvaOk36yQEEPJuuzHWCOypZumzxFdTu0iBcOR2ASl4VJwntPyHBgNlgnbnkYNJm/25H9doJvTSv1RA/jdLzTUHqwVXZTl3GxKPvr5D2P9twxz6JGnr6PxfQEvzacyK+AciUYDymrfrjAdlGTfW5nbDVihY0RtDdlbPWhj2T3iI39WQT5UyGvidh/t/n2at8aN/BK/YKK87IBFLELzom,iv:Tx/1+FqoqE9kf9tQzYgHXPZh2asgOq9zOnvSTEbZK2o=,tag:DYrXSbmkc522kACamAyOMQ==,type:str]
    key: ENC[AES256_GCM,data:tq/NWjAbSOYmmq/0GYoulfWKl16lPNZyH1ZM0zp6lcbPZSORdygYFFXoiWuNhKBSAccsFR3gUbbR8mC/h82cKshvtwCAjJxzGPDdwojc4nCdvcdg3JGDF+f5srN3iRGq8ZvpF216QPtw7ntHrrelRtCFVh0/WA6yzNCEPke/lCD0WZEtTGQQAad7TEvbGMaw0JijhyxwiVY59I3RAshCbG1AysKlzH6Dl9cyLIgpar0JLWyGGjJGg/4wZxTGJCW9RVuX5Xh946KtvfSCa/oc8CZVGQIwho+dj+Nub6cpZ8CqTqyykDHMufZNu53a9k2juX1SBOr6vW6M2qo6rpdeXTp2Y6VfxOkZ62LPAnoh63lUakF9tXHq/MuFrQ4rqkUzCVXh63U31yLRgtLgc8EduA==,iv:IJ5opk5LePmav5+uLN1baw0u93S5Uxi5zikpdVlSkNw=,tag:962bzqrKCTMIb1N16pHH0A==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data:mT4vteJxm9+c5ORncnSE6V7bQwH7RV8yY7z87KxneDHmiHvoVHchBr/qHEZ59EBxdrP2C0XcVKafht2mnoAWoPythPXesjfb7QCf5dQB+cHUNUfDuQAArGyeOzU9/V2ZTJcj6PXUvijJi1auDbLC0+sO2Lbdmp1kiBwjZwjmPrkC5302KmfoIklddM45RE5/yhUEVfXOrrOuDOLsExQ8ZdmI3GZEADbkbw+GjEaha4FZRYEgPeHb+6QkOgSSci/ujVgSQwSf2TdTGe9TlcMsJ7rxwa6VyAFScvdAaSIrAzHaXDgcHgxAy6pejyz/kL6S7JzX9QTlLi+vYYs7en4maOxnnA62Rf6Oi0/gX0+Ss2jDunVJCQkZ3UfayE2wBwCVGD3HLUs4wSXG67Z7NRMMKhXqOKR4DGaFKDzsj7xfE0zkQL+lN6N9GSAHrjd74D8CREr486snZHqWICFKoM1hnKpY2RQcIWBcQ54o4qnlElYaqplyGusKCj2l0SQ8zGkhZHRUrTbSJCsBU2VD1z9qNo3uZ29waTw7ySL9MAH+yUGwvJX2uuoIzYDmTk5ggJkwrO5KJkKSGMd2uuroZvIj9XvOZ1Pq+fOO1HL/9IN/efis133y100rpASzea8zlEO8j+q1gHn/MKP/T2Xptehvj7dxtE1o7iqhZWKYU1jb+Cu1HYtZn+8MwkCv3fO6P6Slti6MyC1T8dER5wG+HIzkJdnjiO8ZinlKuNhS1vkH9I8nyjY3/SNo5tC0d9wO4CvkTYnSw0JCBH2h8F6TIOsNOyxHJog+E07xLIwrjs/vua6ATe6KPcdNflRX+g2xikqOHodxm7IefQdB786/H4PqeOwVxHd465kjPC21qoA5G+FCSdJvPFuPt82JI14qIkLCsek+Ii5J+qgrcjGeef8Ryh8vn/4kjmUxBySzk6clX679k+/6GLJ0JJqYCj+WpjeeEoTG2REhM3vUIR4YDc6tAzzg5p7liWGSZnUlzhWtWoSIKu6Bn7Pf2Xf2RidMHUC06JmpX6Tr0RNe/32cbCv4cGstjHuzdoWSF8U234ZebnlF3hXQqn64pwX4f6fSZUeQuQhyp5+U7h+3DcfX9yknuqjkEPFZA5KCNYtk/VfAQrucOqAoGxgJXJOs6uYnQltwdL1yHz2X/7PD0EbSrKGLNm0JuN3EtYPStEixUTLyHxTtoNFZ8Z21RQsGYGiIiI6Y6JcAjKESkWg76EfhRQebUzkspGchSfMNMp6BO0oZ9eBegx7UL0rVkKg776j+ild2VEyAyL2318g1/6tgZaOPmwkKcId2C1Wm6CZ/AiB/3MgYn/xjWPKJQDaHblBNTE3o3M07ZTz8fB0YGH8Z04DYx3sXCjHsd6xdVN24BdO+MRCvGwKqmHJrYYav3WElRpITiJNMh8wS555+LmWOmMSPhTbeoRy0E9ysxAwlemO/UP0BxzQsVWGT1cw9jQB8J6qJ1s3X4flPXHqW7nGaXdskLGECOfZm4WIEbcsdrExiRlKCs/JgPcHGOlgm/zFlIECPAG+jtSsmPXcsHghfLfrVYT6031/XPJG5Qvg01W8/wuKMaRGr2DdiGW0rUwogHwkJqsa/sSyDkH1EdvadjsgQP6gwbvjmguNA0zAafdZTQDVAJgBoqQ9bDSnExP+sYfSeWbGNoLJNpEQPZATXuT5yWlGvnobdioEvqYzgmo/6bAwNvwypOr72LS8o279EA5MJeIZG3UMP0WkVi70rqDvE1H0xBoVU+5JWY6BcI24NkHjZaRfwRlr+pIoqOUgVmVjhQmQNKp5LD1oWrmWljdrUEGIT+b3Pfoj4sACwebx+nFu3R7DRq0Z37kjec3f6gi6tkK6zmW7+omfdhD05FbenAJeMPNJBG/ftyj9UMcR7DdmglEWnpf4WIHIBzZ1GGW05GD4oMmSnPVeosUDOCXZexYevWtRmrD2Gfp/jCRPLZcNqQHzZaeyRQ5XgzCVmNzWbj0zbfyVz9A3KqJf5gDYKw557WlioUR7olZxqhpxxHhgEc5W32I0K+vXJrlKRw5BUX6mGv1fx1g4b+Qg/1h9pk+IhAofSxgUEJJOWuleoBn3epOpOSuz399TG0xWnm4X0lV2CnF2grD1JbOV0k9emcb8x4gDdfr69CUGB9XMnX+EfoeJtvElvyH5VzMne2dTo1eV/eVf2jmgoj3T6V4qbx/ELNIblIGHsiH3AhtwznZOxTD8We1BLS5zpXountNRvUYqrNR7mkQdGK0PVJOsReHjQ5WD0I53uzRv2JV/qJWAyf5UcaP+76bjRp+3IXU/nnKPXlkVQnUMudpiCaA1asWN46+YSTouALBJKu3UwHLg567qBfwvNFqYEibwMDpV5SX6aG4yrfQWsbMmfFG7REwMTx4+dcFkbE85wAYb83NXg66XA6NTNeHgrFrqxiXW3pIn05aTO3dNjLvehDaZkJX0bQrAYCV6u/pKUtZfkEuWcIo/7qoV8blvPYTKp9Ttx7zKYAkPe6+zVPSay2sQw8tDyLP18o3lDxQ1E4PBwpiXfrPj7bJapPP4cBcUsSb/J+0TvA9rOC6PXroIGG7p1BDuUquA3IcfNP2+2iczcIr6yJltHqnGGXkcJiJnkF45OF8HCALFlPtWpHcGwAF43h1xrGN2V1iFyyamoAq9zhqa8MAjt7lh7BK7zU14AtmIGrba3T/CtZ3RQi06RtqMmM7tUkIH6GLL7xLdsCF4xbo9r0KWVHZwViuS71aWNB/ct0hVFuCt/hcHm70i3TsPwF00RVE3XudTRN1N94PKirTdFtsQshk2hznUEuz6IUBFAa+j2vbtaNQSPnwbfhquX7P1vb0t/1Xtg7mYBHL9CqjU5rVGufwS0LOO0dQjFMqeQwPew1z+X0R7pG+tOljJlBmNG2Hsue5FS/BiN0nCgM7P82xPE3dMgqK6BrM4e3ifHXZ1G2Ujq8EErhOVKXmf+XXMt9oOfSqz25arcQ2hYT2YpOKMpapFywCcT0XsHkdYyX43iQZW3mWsGvv06k31gtM+n/FwuCZvkq6PCrc4yJp2O+cRb/i+riCbxCrLGbdofHTKNFpe/SYuHqWyqUWiYJMlRm9rFHMVupPZVir0qYxjnJ4YD/J1t/v9dmCGic+1bVe1UBmexFkPPS9u0snC21co4yEtaPmNqDEqXOkUBf70cactvVVnNrhbndUjHprJ1K49QJXxc/GzrtdbmWhUVW13iKYexoDU9yOEJtLHblt5CpEjBiNF9f4CMo7oSrn52Fc//o24P8gNOZDwAxlEynte83HeO4O5ElxJjFoDVXaGicKpNHGDHHLiE5gQuOgf655v1hbQDYnDakeddUqVT0LRdoQkGcBxX6DC30oHd2fZz8iY+3RdyTaqPBidBhiCajYCqqSs6u0+JGGNucND+//JGvXZyvPj0GS95PGArTUEICSkjrset8NPee4iqH9gjtNROBHGgrqV3YArcaTs71knXFXtQMR14hIVYNgmgRX6pn/Mgb1WSDeqmLnaWP+Ws2UsDJEMDQjRuQRbK1WHnwdKJ9b8ZScK3o+FleyGD4YgQT0s0pnUOusDNp/LfZxxxwQGLtq6VWimQOjCwrfSg8LyO5x8lZZMQ8YtuRTxriQCu/Ek+5vbbbcR5ha6T+JoUdDNDciM15/AQZNuzpkZ2q3gywekkx4k+wyrlFTtGQPMztv5Yf293acqLG0nakC8A9y1qENIqu0RUsDm0TudC1YYL56ZDsUPXjjEQjNNbz4O1iJRer8NweFGnyy9jEjyMFHzTz1IQ4/bZpAOvXHE4zv+FW7+wWi8k9iNgY0qyCeaAT4Xki3o+Jcz1nRgK3oA+0FZw7QShPYYsZAwOVinQE/2eMzjcVdII05TwsHsgtV3N8bYCwgBqFgpYP3rNWiSvtupcRaxQn+aaOEwX3VKW9RU0obKH1hOTMl+3vCoyR78vEqvf5E/v/u4Fpdj+GkKHojD0jsjLq4pW1eRe6dZynwrOSkVm9rh6NqZ1109MV74wkcTP5Vhyt25HuDxy5czrn3i2s2fpoeADHFncHwpiGww7S592Zy/G8WFAPCv5IH+GFUOIac2YZdFFAYtle5ThCV49tAuedDpOd3sID7Y6cHLpXx2RKxPnACafgrtt4+hRiUUG9nMU8IHp3EQt3cP5oYmD2Qbt/CGngzTkeSBYbpeWpZOpQEBzd01HFMsx5PLLchKfZeHIXH1p90+MgqklmfB5GOJpND6iw4oEf+0FDlLg08zfQW3jJtfn7fsGW4tjSKSLi5jpSNaCeSwVo/ORsfvpuRmiHOfWHf58Q1vqEYzGktg3rhqIn21m38jubR/mrei2+m5M6UBxAyTLWe9VU6D9oYhHoS4I5bhA9QCwCzXlUumSl9p3I1i3c0jGBhfZdNmKHuqrX9YjYdMXp6mIE93XHzzh3B6+jcJUoqHyRgkQXVm+XAe0vdMJoTXHYwhr519O2jKsYg9SBENE0f5pXdxEKG6fsk2efkSbOLjUZskydu0DeN9+hZQFQcgYCYJrOBI0XnUxYa2FXOmTrf+X3chzzvwfSIyHf+aiv5YVL/g2YmtZSax6E277rA52vEYMNZ98SMClNgvjiDdW0EHK1e75XCY7j0sld2ML8ziz/lJC5mHqvTwZzyhn1KEEly2x90XraoOHVwntDW17/pgMtS8/3j7U66z2fDc+Eu7mTUdnXJV0HhkOyJJGuthuzPxP80kbR1suerovb1X2K27QC6zvXtKWaqmfPl/kOndZCkulnEhNjrAfRx+nhDP4o9JjnX71Qz2Olbd9L0FFOlKqbQAZCqUWKnRuXSH6+wHotysoSvNd9SMQUhGzg8LlU9sZiUHUGNB9wA71Kf9eCBrKjc01qtYp7KUFhYbcTiZLl44+uEgpUXsjVuKmmxDVqHmrxV4w9iY2jTRQY1g591crBdodTznzo96OiycrmhWtQXniFxcaCM0n9Rx9xxoiG5flibUh7MLPK4VngdNnzq27Agos4fBWetznp52j+y99GQ5ljGmPfwDh12A4awfUYxCVfqTp5z79Rs/Yr7Grt8r3bTYnbHtXhYh90FLmjRHDy6RuUk4bg0FmorCnUjN54YJ0jmniSgx4j0cu+PThnQOw7iZBhOMQ9rgXww3cegUe2oNYCC5rYFv7+PvIMPdspmHThW3+ep4hCIpq9bUxsTqMyFAAzs4Druy9miU9H0kDwNQTzW09Z3GT7TaEj+DBYIHb1rE1AF8lWYyqENtLDh/BhQ3Ighn1Yrjq+VSt33QODnksayI1dyXB0Kphvdvpj6D+sFIzSiasruFq7zxZOQWl86T/+BmvNgDi2dZvdOiKPpR8/MgEaGLTERb8SdllgrUPAE0AsrnkUaFHUEj3LJcSMSW+a1M1325pC1K7k5Egc/AqdqOHfPFeUzfTW+RNKrtURm2XtIwvA7UiNzOwctC0IUndgzC8Olccv7Tv3BUmgQ8oNldU8F0q98F2wn5qCaHjgC4yb04ex1HdR/RtWNZfRmGiU0jWO5H9XQMAsN3mY1MBnTRprK8n4cZ6Nf7Nx8V0FPvtnqpxWSogY6x36t9nyFwzNcTKvZvOxdgsOKVzGhhnbh4ILPLPa0ZECsqUxb53wyIOHTNVWSwRh/BSywyxDlcP/5AOPAsKZaWmjZVuK36ciSFXIYLDC3SSpIE5IO6AC5nOLXAsey6dKMoDHOtgB8FjaeYZ2QgrGuCsQpjE480OB6bJPWG17mTZtMY305Iq/Su28BfEnMWd8V2DMJedQ/mhLA==,iv:aKS8b/k/tmxoWKKONcGQ091NKlswBjW89UYf3b5nXDM=,tag:ioLBykXPgTm+ZsSyhYPALw==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
      feature-gates: MutatingAdmissionPolicy=true
    certSANs:
      - 127.0.0.1
      - 192.168.1.200
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:Ivq/lZ45KmjaMHXVwlmIdWRtppXpgXgdoiJ6EoShXGWl0BM5sxCHSDRedfKQCOU/qMQ+d210iKezU3eV+5zvkg9OJvpUlIQVNS/4H2h4R1n6ERKJJWtb/aArCv+og+Klr0EkJ0kiD5ck0ZisPzDkRcbjzLFM9icSR8LUTDZVd9Th6Va7ucoDHtSKKUdWBVSDT911A7Ne4SR/hCGJkjAGkMN9Ge7q09XdQaEGcM5QqDnN8tievwAe/UcURrH/lO79JoKXZz7xVf+44UzyYsqap5X/BO/yA1XiRt/+sPAR4rttvu+z7how3WzdO0wa7rRXBZJZC5r4EfwM5rgpRGesXhLFQotknwOoqy66pPDn9Izq3Hv40MJBILWT9D4NlBcHgVwx00Jkk1mnTs3umnJ07hf9BOMv1KxZVAc9MYpF+7dlkmGAGbDmcPAhZHYGmvDHebCDwP7el/0YJrlD+sR5fXzANVb5PHXNLvBLcLudaTBtzfsGeed2he4jUcYopYVozm/iqIQXTcY0Q/Z7+gx2a9XrbNdLJJ8ERU5EPJDhmkq55LtfUBkddLT+dY1mXx32Nq4rMhZHL0z9EoG3mZMSKpUHwJCQ+zH7yWHAZpdXpx2ktlRiAlq8A8MdghVaFSTUTiQ8Y+Tc9jGL66qKwvqh+PjAIJyRnyIFwbE0M4FrIaoPViCnNmy2feR/GaDs7JlArrQhVX5MLFuJihRJWh5L1yDAw1kOiakaRP3dk2IAfn3zxtLGGYSFWHwzHej2c9YSJHfQz7+UYQjLCAYhH1L7JsRoQaZJR/WIaeEbU/A5uoUub8OnIwjW3mbwqpc1BPGFxsMgnocTn9U/KxE28q/FGLrUiOQRVvEilkLRwMQFJo8IC7RtikBLtNuzoNrZ6RymgpTgAWzkPd43eOCiE0Q+uC4O5cLdIzCNwzDbT0piQrLTRRlOsU9hori6ko+rM1zA9Ud9X9oMqupx82KJ1nX8gn1bXYjnDZI0e9b3P0JmAt+Lg3gW8EQvnfCYgfd3uGKS,iv:beV5dcHHFZs0d9y0qhgchlQQvRrE7oHuiNW1GrWenEA=,tag:7wSLGktYSlv8JWkbAYov6Q==,type:str]
      key: ENC[AES256_GCM,data:x29KS0IgzZwhzLqZbfI3xSOkO56/rNLv773JqvR+mMmLqBYs5sJdTFmvWVEN652mUOD3D6TVuNCREtZIbVa3qLQLjtQtYDO9WMPunPN8i8PlPI7yqkGSNJl/7Ctz+6urWuoLbtGw2hNvXLkdySQD3Qguvqoz0iGqtL3cUtjqdds7BS1wGeJnaNz+AcjYSoQu7067gaTcxEWzkube9wn2lRUDz1yPAWOH1Ovp9Dsf9iJO9G6ZgcpOtiJyB1XARKvNesk9xhJd3bg8OtaccdoinZg2a9mhvEoglHp5hnMJtLiswnpYs871ikIrkYeD+fwHcdtLjif4YmXu3pUDrP745N8whJLRc2J3uJkUBFqQM/fqjU851vseSyAPouRrc3jx+BCs+NRTke5J2pGb7Ttulg==,iv:kbJMq4kcCRC3q9OXP/I+8kRLSJHK0nIPBu2GCpoh+DQ=,tag:ji43ES/F3UUKlzgn18U3JQ==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.1.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBncGFwMDVDUVNoZG5oM1Zz
        SXNYQ0tDL0x6eEtiWHYvdkQzR3dqalBVVmo0CndReGNESFB2SWV4Q0E0WHo2Q0U1
        M3RXRytGdkVZaWlXcEpwMkF0OUxCejgKLS0tIGt3b1h6VHd3clBoZjdHOUp5R2Zj
        VGEyUjNRTHBxZGgyaW5qaytmeFlpNTQKpE0Dved/7ZhhFC2CsVCY1REhiLarCY7J
        XG+BXu4SbPYxSJHM97kb4GXNG9vPvcjvSSxsMguC73w/7sJ96FZXCQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-16T13:53:30Z"
  mac: ENC[AES256_GCM,data:MPspNQWssSULbYSJyMgnwrBUZObhPrCF00S47k/7sNVglFUCUN5lXKhe9FVdGfYIJI+6iMDogGG+yjtXxV75VecVl+7EfCO/CrptqIn7u5XD5CqGh7vRE91IZc0yahTOm6A6u5IO18wBHEZiyPPMNJhZM5jIslJLmh5UCVSRv/o=,iv:s1537etCv22zUT098Gei5UHFoPaLTPKSZrnYP23G+7s=,tag:sOJyj5TDRcNWEQWpdiON8g==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  version: 3.9.3
