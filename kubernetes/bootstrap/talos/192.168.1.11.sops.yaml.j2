version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:ywva69wd6S06JcFIJ6fSDGG1bg9xX8A=,iv:FMJ8zDmP2pkhudck05ZznY8Lj2/AKCWb4IVW8+3KZag=,tag:MeemKnBmcV/ddx9QO3fDww==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:/uys3Dkvy92s3G2JGe6M2Uo6Gyp9bqbeG2SvoeOEwIcjUyCGlwIH4ZO0/8b4uu1IdgPXoku3x+wPi5N+PVSCprd8j7ctD/gmRPh/nS6Mfgk3UAVRknF477HyT5Z7sfqW49e7iEuG92BFFKl03HTquodnx4VExpd9LrrJDdQwOc3CVhc+C7ixeV0rakSuHoEmnVdp4zRAfUkNByYlEzVBko2jxNv01iaWWI1i8ClnHcznVpZro3m9RfTVjKuEg4NJYgKFOgNAy54iCZuMFiiI+0pW3q8BDO9kW93KP/FmovljWSWk4XaBPsYUfIm62bIj0aayU4zoEDiR1qVfxYBggssO9Z3DgzA3+qUC3/noaO65OssxbEocCSLe3EApQKuJAGRi1AoB7LQuG96Ja61YSmQ2BYeG4dzXkJp4lrTEDRDECv2GYc0C8nyRfkKpM5wsFemQfocHmFlvzctZrhRPFu46AFLvr37n8FUtmQMEuGhcDSAr7EbhTUZorCswbZiaPVGNguOCQFEJ8cePUbJxkC3fWd8V2mcMB6aoZSrsCx062Jl3bwVrEYIxoWLCnEUULuk2ibBiZcDnGZ1R+IYfujNlZD81XqOAwhLg1ZZwIasarAG/BIKk2FJNrkn31NVf0bKaMw8V5TPMweOV/jzEx1kGOVvBEhbgOx6hxqivCtc9nVXIVm0dOq/Etc0VDmawxVzbtolzUoFHGNNbWPQmfciZPchsyjZ/myf107cezpkvHiDFtz1jB3yBVzBjPVDRwTk3zmSZ+BtIu5tcGuhUz5Ere2fMprFy7OTyMaImwm7Sf/VFDmzteZJPZsze4YGvccank5/jHIoWJ24X/NOV+oBSsDPvcJSltv10OgCdM4RzSHTp,iv:sLyuM8adGTX93D8pSnLeeOnwJsIEBImZMQ1mzAP2Zcg=,tag:yQJxBMdz7XHV9+kfx5ZrGw==,type:str]
    key: ENC[AES256_GCM,data:ggvvCyAOX9JPEh5B2+nKvA7l7n7ZeRbEP7q7WcDvsmvxDdk9hU3GDYJuI4fyTsXI4tjyfTFkDxyiOhLOJpqHKurb6laNJh9yZ4ZT35VVqB/aP4HU/St2dWw+NpKDle3FDgiCpJGngysR/53n+u0ZnJLzUfHvqnW9svgXfo2I/h0kGIN6TG7atgueZicIpt0StJnsdZSIxwooyOAJGqcNkmP3YJQswHISi0FsO0l2yAQmzXQ7,iv:/Kik0eHa66gKNVpiSJtQRRyWfKdGsSVI1E2so0l/rr8=,tag:UtZ5i50I6QhvdkKyXn3nBA==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.1.120
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.1.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          hardwareAddr: b8:85:84:a2:*
          driver: e1000e
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.1.120
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - mitigations=off
      - security=none
      - talos.auditd.disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    # Spegel
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    fs.inotify.max_user_watches: 1048576
    fs.inotify.max_user_instances: 8192
    net.core.default_qdisc: fq
    net.core.rmem_max: 67108864
    net.core.wmem_max: 67108864
    net.ipv4.tcp_congestion_control: bbr
    net.ipv4.tcp_fastopen: 3
    net.ipv4.tcp_mtu_probing: 1
    net.ipv4.tcp_rmem: 4096 87380 33554432
    net.ipv4.tcp_wmem: 4096 65536 33554432
    net.ipv4.tcp_window_scaling: 1
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:Km1ZwrJcQ8vn9BEgUu9ts9fYOXg595ltQf+/Ch3C25JG0JqZoBqtmQZmOaE=,iv:X83gKNXpC8j96r5r0nvSRHfXVCkjJRHyxFJOM3FoENg=,tag:eCFzsWRgnjj6GcK2KBkaFQ==,type:str]
  secret: ENC[AES256_GCM,data:dMnchvbK9NevQSbKn2K+VV2wb19yuLg0lcn7QMF2nDzTRpsQ7y/hLf+cdsM=,iv:FIz3mvlj71YivZMKPABtQ8yzwNVq6g/nrr8eF9zi2TQ=,tag:Prif1knZv86P3xyFPbmxcQ==,type:str]
  controlPlane:
    endpoint: https://192.168.1.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:A6t+C7yyY9LBkMgb2SsrBEDTJtZwgb8=,iv:/udU940Tyq2zQmh3sHfI1DHegGPiKAvFkpRMkscApps=,tag:z4YWYeUiEhxJUZEYhOifrQ==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:0Zkm+jDaPsUClcq5/GPv5DZZG3JQowXW8G75mCxzmMy+dBI5FSZZebHUNgw=,iv:vO7ks6PVTQvLQ5dhere5ayOv+At9qT7Z0lhfgFL4Kfg=,tag:NA7e2JfOdHt7FrTWwMYF9g==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:IxCfPYiFw79M7Rz5k4tRTmSi5Hsue1OunGxmZhfQjVUtw+3XuIYkAA3mH/JJBkO3kkbGyFQACEAUMfxkwBTSXj0dcISu75HEK+xg5sfiw1QAuLH+q0pooFzxhyP9I1WSawjI2JsgjHuf0xwlQyO4MExPhdfEqIvV7tq5pbyIwy5xqvF5SURXor+gzijZ28KitwtIKJF3Wsbhxia0SFJBZjkTGS0uzWDAUTg1K8ivFKEfI51xD6NbBZKBzliT5hGElAhJIjnB7rW8nIad9blS3kmPGXaTVciwvaVG/Sh9nBDT56IXDvwsy60vyq4FGkFC6Nra6CZtC8zjPqC6CmjsXg6kPuxZQLm5aK1Te3HAZ/rM+hX8JzqSH0rG4POIlVjN0OALP/Q4iV8Laz1RqL1tF/05Tcd5vEJWL+aPUjyA4GNaQiyuQUDmYO6Rrc5uGRAUcj0FPDc17eR2JtO+8Ib1TCtYBeK4Q/ZlIlFXg7tGgSArInzR1YjvW5jFqiepEhtXLxEoYW02INxpihAbeyCqfLGsm6nM45MFqsKvGr0KotEH4YpE5GGWla5hBZ4Jx1lik6KK8HfD+izizDxTrR5ux7rtzE831BRjuAjzNd350B/w9py0AZxHqX0CCEOzUI6HM1dDLRuQ9OStGYA8RYk4pokZuCg1ZKrC93iP2dolkcBNwIg3qhV3/oocAuEeWFxaGhUYguyTTHoe0LVagRxxAPewIlGfqlpvC63u4vwqaTEPUZOaDCEpM6pGaV3CEDhWiqctD+FxIgwockplsRb5wOj3aXdc81Mo7wVTqz+DZXOeIhuhXQ1GgldpAcH+Uh+49Qk1TOTNC8cAjOgxCb3F+ga/rdBxgF/VdkVhSyw/zwbnZ7INQHjRfwKoADR9K0VN1us+lgSJFGn79rdeScj+qrTtPAcltPVbGmQgBq0TgDD2HIkFwY740n1FKTnDATHeBCC0jkRHto7XdLTInuBGaDKfXkqPv169yuj2Ov1iddiYT4pg5n+9P1VCdmGZ77/Fww0gWAEEfmm9mUuAxFEarsGG5J0jSzvXrd86qA==,iv:L6HN4rYzeQMr0UGNybubrNOhIiFkS/UdSPWTTR8u5nA=,tag:VO2Gkh/mz9XarIE7joiiZQ==,type:str]
    key: ENC[AES256_GCM,data:vxRiyQTvYvyoQlWQ+zNAhKHowmH/FU/PlkxLGXdrSaIPzs13Z3hAbV89K/yVojOGyTbcruUJ7sa8KQREuiga/82reeVt6YPZ51qScOC6s+LUDtqX7P2bDkoNnMan0BOqdZtHbal7diIhNFQ7pUzjIrjAO1X22e12eNAwtxAYgX+7W9YqCiTwWnsVyFN10JJV1dJhiga1srBo0yrCUuQqfGorYtqhmeO8PpuKX5s+ThjuVirvtNmlzzJJwHu16Ieuu8Dq5zjPr2wlIyfAu9w5EzjxCobQd9vst8k6qqpq5T51IInUlKBAEwe1vUDSL4ceiTsTsoDk6oE6IwZo4BjdAXAWrHQkcbRqTxeu5k1OQ7FIDcWP/NK5cmlwV2zsyQKag8u77zg4lwY+9oLtro3LbQ==,iv:fSqluFa8zUwYMnnlu7BEIU/RDBQgoenSSRXfE03GMRg=,tag:/0VQV+IXn/ZpoTaD58VVkw==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:czPbprgUT1/BFDZnWto+3HnMKR7xnqXCIfM6zAj8CsQCB6O+bYSJ0PkkZ2REPQuooQk05QG7CyXqbelWyg40GIl6P2hvAN98zxbUBUtEiN8zCfVVOiRa4iQjA8UO8CbpfQUWTrkxixnYxqRs6jpmnuOjsb2G+Rl5cjQ9AsaIJ7SNWgqUYVCujMIu9slIlm73bDIM6riKLdN9ck6B/pm6cxpfQiOlfVgkP8xwObacHfVQTt8xCq68vbplgtqUUFOd61J+H0KUBvqbCoriB7dW44o31JqLDFHUVF5AAziYXXn4XpQ0aqt4g+8t8q1FkdVbR/gGaMepDFB1rd0zbKSCdDRb6X9nztpSlOSFu7KsnExSd6CaLT62Ii15eQcm1kFjelr+XRchXsvryy9ZUv91CG7zEdvT+OusxwyS/ZtdPgG983rC9zg2aDNbnMDLNrLJC+uf0/H16XE4j13Qq15zmxEolmsrVB1k6kNBkBNZ/7n5pxX+T28fCbjr0yBi+b8UrUmZYExd818U3Yo3PUhzlmGQvxjUjW5nGF5j8pnYOqznM/RgIAi07UbL/pUa1lA1IXbjAV6Acmtg/QxcZ29EbJOFQ9+GzaoqroGcnCcq0r1sxxqGYfpEuPeXzTbPdg0jxN64UsKN7Bp8d3vDY1q1sC37qw+8yaKZgZxw7CC90nFkue3vyMpnv05pKtVhhIx7i9juqT10w+vA9QzA2owf20k+s98k3+77v9rGU3gPNA8OJCmxMYXjChe9Btfnc3SlVaOMZbFF+W24+37jrBlTxAEbwGINzkO8s/cztkDxQ92nXrLY/ZnwHL6Dg/anYiGLKMmnQuVmmRlqSP0xoXYPjBdnunScPbVtK1wKOtYlOoTNgNeB/GGWcaZW+07m8qsijXEJOLJ5DJbqT/LQaLe+JW1vCN5KUOqzOfaw0SGdNLV5Klcv0mxtMgEADr4LUdyi,iv:w6UjUOwzEztFxR7HkkNOcuHuAsW5Nyh79FVFSjfdACQ=,tag:b+iEAuQ+zkNMxStlsK18tg==,type:str]
    key: ENC[AES256_GCM,data:U2vxig4xk4rskbDwETmUQH9JO8FZQvzghviVG67vbwclkjW+dy+HQaX6un6/EJM7K67hpnVBn5ViNs2jFQ55yh6WKUon7yc4fe41UPwdFG4TbRU696x8F8RBtwCmqCZ+H1+xrDwbGwyvcKx/0+CY3G7EKzxna2+ZxvqLSqrNMSUOCO5O9U0YhWd03aqrh5btqflpXUvwFLePkRA+x09KatM10vXeImRbTynbfx7obV0x2EMHexF6fr/rAY/+cIc/gX7ZUgBIrFqdczHwcYX34eLd9j22p34+O2CBtbl8+yd6wMGQVLHIKqwEqwk+iVUvv9pQS92EPDvEsyHY53he0tSDGickjZKmG/apySy0wHCO7M4VgVqvSo32UycoiUUwmOZptssAXtBVAlK3I5eFZA==,iv:C3F3HcB86e57H97M+hZd/pChpZ0TmbYFhN5GQEY+ZK4=,tag:lk3SrCfyG5FtG7E9N4Ugrw==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:2RlIPH6/IkUClzFfUpuTZRucZtHfnvwmpEUbxROrRo8=,tag:ju+9KiHq8nJy9IsABdmQpg==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      enable-aggregator-routing: true
      feature-gates: MutatingAdmissionPolicy=true
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
    certSANs:
      - 127.0.0.1
      - 192.168.1.120
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          plugins:
            score:
              disabled:
                - name: ImageLocality
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:9C8hqcyP5NJPLGkaqJ7P0CBxF2P8zVKLCsVcVhQDRjnTow1fgEaugnZo9gZvgoeym5zqVMR4XW82H3YlEUSOyYGa4ZpgQaDSc5azeQpRVmOpFVB9YdWfaP4O960rfzfZTPOTzzHwuQbecjbTT/S9QjSX60do5TR7DAZ4OpDy8ONfPqx7pVzxAvtmEBLSYv42RYABwsKSGNGZtMmnyZ5bLIs9/Emm6IlCanncgoPXdSS875wOCbMNwjm5lJQNZdMAIaxk4PhB5SIMN0s/s6Bqv1plEzLuEU7qMy2tsTAbkgW31bj00046D/Q30Pl2IoYpa04eEeLFt245qnO082F8Jrmye8Uyrifeb0Lo4nbt6PHLzxZbSOdYjX+QAN/zt4D5Z2laaHDRJNvL2tX8XW4+gJVfFRNRgqhUs/5kEWFA+1rDUJ3hrNFQwnB5tDLTvLj45LWvO5pOBcGMWakJjhc3CJQs6wNV9mktmJsvzlXzlN8LiF1lMsWatLTfBPN1mZGDtG9vEZq6vwEwrHRTe5w6ochHtG5auHyxdhaa/wm0GDVKkuOvzLI14pWSizEi7IyG0vCQMiVIG8KbkfnItetfJjokZT5xyka/LqVRVh3xOBHEUZyTt12ypPIPbEM+jj82j92yaKt6LlAAfMkyUO+xsMAccYei8Dej/AzIy4UPjOL9fWrKd3JFGO9HWTo3sbbPP3XtWab1MFnpKd/Yxob+Oc1+8gCZGUUS3+ufFs+DWqDpVsWcOSbdq3GiInYvC/ZOvKKwRcQ7o/2sSRpRfoUyCrt+7JKFqfPXq299OTC+an95XA9ErDH6LvK7ZoqDkRCyMoRHfIWNeUryQvG0o0wO7Qb6mqpPYkT7GcKZd3WVxrHZ5BhxHNCiOC189W5He6maTe14jWYpL1DY1X7LAkmb9k9yUboam0TTE6BKCkD3IehQguqs15OOxz6Y2iDaM4PwEZYIbEIcgl56bYLnE6fyyHInnD+Jw/Ujm87+7hyZtKRfWtpeklKwVzBHQMIjafeK,iv:W9IETdwRxenTvzF0UJ31zbZrkZt4eHe2z9h7Ap9HrUY=,tag:a7UqtLjH2XUqttwb3C8dVw==,type:str]
      key: ENC[AES256_GCM,data:zZ3XY0ykpMkyq5PT+CCXCN0m7Mxov6EowA14qXw2JSMAPQp02oInRLlZzyEAqsLeMsty97t68rrP8x1qrucK1TET/Vi+3fmBbp1vbmrhxRjOG5hbVryxu1+jSmDpd80lAGOCauWyl3+BHmZDdtD/piFJnF+53veBA3zuUQaRt6EcNMwBBvMP+lcn3/jr7wGxcwacsaSYiHAEbp2ssi0JJFYJl9BReZK5gRbdUZ4ydSe03ERiT/B5LvNgUHt9tmeumd/Qh0x0vgh4o/ZbyengwZOLV8XnjjiuKHULPYw0XRc3SmrPtFK0BOQVqY+YcvLnEbPkgUPmPCdc4MAi7uZIG6uctwnOmJyvD8VcFDtNGS+AA4puP1SCLoOLVHhojIegrqJ0uDpqiWSZwrdHwpkz5g==,iv:J2b+rRKXWQ/6Vs0PLPdKftduAtQtaDUZZniFrmvcNjA=,tag:GRNQ6dSACIVV7fJOBTp/3A==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.1.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBuN1ROK0dCUk80L1owTzVY
        cnNPTjVOY05HcUpUcHFCUFRudlhocUpjMzBjCjQvZlJva015L2tmYzZmMVJldmo4
        SXNxU0FCeUJWZTMrYi83VU9nZUphREUKLS0tIHVsdG5adjExSlYvc1NSNE5ESVZK
        L1dLZ28wN2d0bitTdnU4b1JpcTVuQm8K7GEAY8wPMw9VW2P45xOeTy/mOL5kdTn+
        vn4Y4od1b+GSoSGkI4MV5IdZ4F8zyZH/WljpDPjGaPNPk3f0dMdeCw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-02-06T12:41:46Z"
  mac: ENC[AES256_GCM,data:vxBLgdTKCmpfPjWPeCcMJEOSQVemaAsdBQU6Ik/qG3gZpL0liT4Xt9SH8WitIA7HjgCeQAMNlRG7ORHBM0F6FAJFP9w022OindAO5Um5Jf4EL1VFwyzedcj6sAHJq/wgmHmPqLvO13U7d3+33ZcMYnqyQ17uVebTSPS8AyGp0PA=,iv:8+au9ccNQ5C6RePpjFRdGUEALO/J/lbJi3OhIt9F4Qk=,tag:t9UAJ1r2FBZiCb/8HR0fNA==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.4
