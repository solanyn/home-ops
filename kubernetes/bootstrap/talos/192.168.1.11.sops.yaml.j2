version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:25N1q+xS1Ed93zg2JKbN1FV0G1yZWy0=,iv:sRbGL/tPLyoJbakgk8cE6Q2xclU1t4mP6G8y7Q4jz+Y=,tag:5+XdVZpBiyBAF48ySwANJw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:u8/PU5ULjCl8XBamXsOIIruswKVW/rfvUnZS3bOV5qQA+JGHZIrSHEfBKtYy6DKaRwmWp0zyO/5WROrD1/ZnAewvTjQO0jSVYJDuFiI56/3tinJdwsVXZZsgQkJCgMDxWzPZ+XoftHxOoGZHNk7LC4t8bfN/zXivCdxzKP+tDvrGyJZja+nWZpqhr/3SrdbFb8HpaLDMUNftNXmgB8+oxNGFyy35VTf8yccQZwJj2TFew5wtAL7/FIvVi22KkZnq5CtabQBFOU3FJp2g3nA213Q7BNeUNCuF5V84x5coxE0SZgNbZL32A2NJgVQaVt7d9JQ0+EbNrPvrZiTnU8/4MPiHAvWqFvUW+LuiYscjbzi2ocWYwVcnX/inanFgqp6FlwHKfOgN51UM90a4BwtqWQgNIiLZ/2mvvk4Rev9h64dqzF6X4PbMfSXeMd/II8jKugkWWhGAFzSy5dR5OqAiNbD+hXsnVxA/jGMHAJiNO4xagXFw4lbtGd7gECtbOVJAJRvKsqUNqukxP9yCP54Hre9LUnp0dp+iNzBAxW1mdkC7gXyd5EWE1MlGmqzq1c7en1feMDwO68Cq8h8v3FUkMDlA2Lj1bKcXyaGdyDAmEEgwMxn5a+JnFwCCStUkK5U2r31YwP9aU4ifkqOgy0OSdWUoiPL34afs502RdosOM6Vvp48reOT+d6cvUXR/CvnOjioT0e7JvI6Mq0yxdOnka9Er8mHIFH5mcXkW9TFsVyv8hCXYQEqSsmRITDOaayvhA06r/PTml0BSdQEgWOTM/VQWEkQnhTeD38S/4kRvM4sf6uCXWUY8w78pzAg5tMt01oOUC6MOB9+u8Xw4NdhckQwl2Wxgd/WqlVC0n6hXIHcvTbT4,iv:A35BmdTdMhod0ji+1i9Lx046rqtxWy2FuGoCkoXXLRY=,tag:LP34iq6Y/sVbdWkQinP4ZQ==,type:str]
    key: ENC[AES256_GCM,data:topg0SepOT402SbQQnNyrQyUvrMZ0dyv0CrUkoB+Ss+WaYU2UvwOjXufHkWitIfqgAzkzogkH8S2QlsPtEPVeVkskIrb55jwYvFLRgyt2VE/xu1IaPmSLKcq69ITamLU4r8haOwbGMuzP1Z3ZD7XsFsQF6HfGt2yws/qDVxU2tF9+PyjEyoHKx2PFqPVP93GvNQ9fbQY8jMbYWlWhu/y0vllFJ1q7tfhDTnrd8G0i9/eKnE6,iv:fgNF43OBUM6P9LUaUcDq5afaYSEOcvJsO/JPDJPrYi8=,tag:dRJu/RrPxDTxfeR9HP7iMQ==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.1.120
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.1.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          physical: true
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.1.120
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      # Meteor Lake CPU / iGPU
      - i915.enable_guc=3
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Disable onboard NIC
      - module_blacklist=igc
      # Less security, faster puter
      - security=none
      # Meteor Lake CPU / iGPU
      - sysctl.kernel.kexec_load_disabled=1
      # Less security, faster puter
      - talos.auditd.disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    # Spegel
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s
    net.core.default_qdisc: fq
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 10Gb/s
    net.ipv4.tcp_congestion_control: bbr
    # Send and accept data in the opening SYN packet
    net.ipv4.tcp_fastopen: 3
    # 10Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    # 10Gb/s
    net.ipv4.tcp_rmem: 4096 87380 33554432
    # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432
    # 10Gb/s
    net.ipv4.tcp_window_scaling: 1
    # PostgreSQL
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: main
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:kiJJpBKOEVij1JyEtkzE+d9mbc5+WooDKqwtwmK8lTUkQJVtCxKBKUVAa1I=,iv:LtwE19e3VO6ZfBCMT2ptddgvplFAj4fpg8IThOxdF6s=,tag:t8OUoRqdiMgzE1umagjtEQ==,type:str]
  secret: ENC[AES256_GCM,data:jAyE5VaB4Ovf79fYqoW9CtiJZ3zzfkKNMCEe3dhM4Ppht8S+EgGoZW2mW1U=,iv:UMNVoHgvzz+tTsCZ2U5XVQZK8iShmCRC1RtbZaw55po=,tag:2/4rXz7eEY9xYWWSeZxWAg==,type:str]
  controlPlane:
    endpoint: https://192.168.1.120:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:PGNVAZyQgE6P94MHYasL52YxJKogemM=,iv:4pWJs240JU15cRmxM3QGwx/epZI+COi3sPDZV5DmTRk=,tag:K+WQ8dtsCLbTaHf17ogcSw==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:m1YNUgZ+UZU4TmiBIrjwv9k3wecKKiimoXmFZaLoHeFR3+DooyLBdv4fUNY=,iv:lzKhdEr9LFdWa6gxogEwWVeiFvh1ttAQwil2WnWSqR4=,tag:b312Hn9dJTt9ThVa6Lde1w==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:dTRrfTI6WjcfVaQJagQZ1SG0Dujo7Cu3hAIX6pYjmbM7ZsSuKHQg3por5JCUCr0ocB2IU+3X9nRLTDg5S6nJ+LHGnBKas+sJEO40qonmZNGhTFzTPpTcBG9o4e8Gu98BlQ22YR+ignuO8mvYYnWTXMpWi0TZHS0ARWsD8ppOae+7ErmglUEZX/w7pgK8NtZE1+ylm5IEpI+iPcqOw95BQj/Ni2494oPb3wC6bpJW/jaPdiHRyIM5P0IPR1MZbjZLSNJfKgaj4fIMTSyy722LntVsMsJWf/bMOTNEvLWAjz4tIb5klA1L7uD3pxQX/V1VYS05wgv0q+1bGP6I+arePK2XQ1SGB33fxo2xIAEcJlBQTer1EWtKdRiVR5tJjiK7whjfyPuQPdMZb+u/G4lr8BCMI2NYfVP8ThUKv7BB1pLw4bj8XvF4L71aVx5BmeYVvc57l/o69A0e1d4hZ4+JHuQinJA9gkAw35WVHuwg8xzrbe/CR823FHdVVVD2gNAcAMbTL1ihSJhVVgEfASc8tBXOi7iGixQ63JFfvc7BjBxuiojtO425GmGGuJbiOZZXqCAOuMAsbCm512ZfY1J46ML5we8jsB0vgwAYuvVe9ZV8h9U9SaTfMgI4NF7BrXBRR7UuJFgU6HzmfludOc4192yFB/McQtNLgwCI434+Qte1E3uEbioycAsBUxqaN32msnWYE4cUXhevvLmfIquHGKCuHhShk1RvLUNw0CGX+TDFZ6JeXra10CLGgQAwyhp+CltVjiGC4SK6Uyl0Hi4ZNI+7pGh2fVcofadQ1TvYFLIe2BJv6tziFlmopQ0iLanq0zJAjipWx7bE5zUUJNwY4+Ome02l7DE1Isv2tvQJZACDouH3GVJSwzhL3alhnPqKjG1qbGxSofO41LV8wWVlIPVrJ8/DvFHOV0CSIP2V6Wwk3UZasw4Rl5nUCGd2Br43izevfHGNCBbmsikXgfE/0WBCiWXfwlXVewCLH8sr+PwLooxkJ8WiH5BCJEsUtdqij5HVz02hrF3bTiGhrlpu0nJcPmAirws5Kv2vGw==,iv:UOhhtD1RXzb/1KKVKO4Ier0k+H9ddPzY4SiBaORWdlo=,tag:lTi1KGcEDziKsd/aPZe3Lw==,type:str]
    key: ENC[AES256_GCM,data:GSg0XeYKwFRHoSQrmDQq2ZSJWQMc9MOSgTyWNIMxOui5FZVxrJ8CCn1lMi7S7hnqRadHDHym4YsoIy+Qebmr3cG3MhMTqlu/z8b99FyoktdXoqyasHk0acHKxrWNKCePAb1gVGfIjbnl0LJHf4ZbRR610LEc0+H3oN+UG4EPSnsReqEYav7siE4cktEqw6uGBZCRmUIs5/Vc1PuXRc7Z57+12c3Zz7EN00fXiM6G49bkKiKsVzb8+EWwWkv5lOffvbbSY17UPxI4vWeTPKRLdPuWt4BDyMN3/G22/iPllLfLfc5Fp5pz0DHNA9NyfW3/1RmPlw2AI7BtHp4oAiuKPrCoxOjNJSPNWXn5FiAXsI4OGGahK8t6VGXSKn+LDOWqVdBxOD8XZ+emnQ5Ybg8XjA==,iv:Gx6sG2ybq7S7SlV718+rajWqmKODWjtWV5z7wzwHwc8=,tag:ZJfiJxigY8zWDjddmIeXyg==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:K7qnLcCkLpbePgohs6qk7Qf7QxT/vfH0nt15+H6mnU+642ssKLrD/r2ZtMHMRyCBAWsqVJ/K0wF93WpYDljmPHv7zRshd/4KnqX26VseKStLuERmRvwW3gO6859MMWDE8dCLde0gOp5mkNWkvvZLeOdUnh2lTpG+i16hCToXOY6yWz6iA5HFWirRl6BWL/bfcEBRYh/6oHBxAVvDNNnkwrTufW9HWLqYhhi2v3xLaWFl7jaL89IVFNhq74ag/BGA/3mzPkt/obcZfmy7sqxMMjA019wPneqIY7gIzjqmlsbD8wwRbo6/31f7ridCoZfUQcqdBQgMH38CNBwBO0aTFVRgFc+7pAiPmYe/xrTCQ/EqHTyjUr773YyeWT9UpCtAVpk8xB5qXL1D753Nfv8ih/9Uv+5zzPfV3Z3NF/iSSKcV2lzHqETQwjLbtTjdM0i2rjCOUCyWmTawTKemJ8rDyNB5GeyZR/F2hyDSW5wBvQ6mPE3AggDa1Ww1X9vCmsqz19y4IOrubN7jNsfde9N5OPLtbo+44SpxRaCxm8w+2MOyse0agiNGCFpgYB7p6mi4UEQ6DsuBxAWVY8GubDRNgVxSfhiW5sTwZVFE7pQ6mn62U2QvZrBFqbvyu3gIo/2Pum6COz8ZNTd+QOZYjPz1b57MOjRc6HwMqGXdOqCP9iEPV/G/Z2xmGoJLcVheQgOLbvZmwMeCzQHyjcLkaN9GGZCQd41yGKcNrxOXX7beQdX2KIfCGF4eDDEYVfz6vEjK7fbr8ngs0dZIPlfXQrOo8k2zgQc6i9qK6qQ+8IEIHgJt/6Wzm7Sc+O6yLxLaQgox1se6Xvg10qpJwLEpG1AQdC9ky5U5HWDbpbgB1OLehxuM5BTpq8/qSif73uWXsY9CJP5aR2HJJfzkVehlOhGTG/gfOKBCeSIiRGf7iaAb3zYN7fxTd8z4YLbFflszbCKx,iv:lJQ+JkXopI6HoUqPP/MTYD4w/ZWuhDeh6wpqTovvIEk=,tag:C2f/FhfGI6RBEQdMtR+Y/w==,type:str]
    key: ENC[AES256_GCM,data:nPdXR4r2iNcGkoiHIQOwjGc4LApdRt3WcdO/rdqZ/9qqw5aWy3j8Rl+NfKBGQSNbkcclrbmbaJ1gPxteCtUiYLjgASgJ+GAncAg5cPPeKryXL9wp5mBbXlDvTaLnf6H6ZLykMAFG0I52a1KFbnVETbhH28dMcvRzRyv0Bqed1ft2JLkmoz+JgwqoFE5rLB2pYCf0EGKvuQO0Wlf9b3QUBWtB0PQjngZy68MAngH6TGSTj3MXapetr1BA/uDr4T4nZMj9Dvj9TEYKKBerDxByI11PZwMo8CKBxxRVStMRyou6MrPtd5dBXnLVzU8nfXO6CMFlsxLgh7r1g9MpDhq7FDuqhhOIGOxz3Gj6kVJGYoLYhH2ixgDaXZg5d8OmXtYlvuv8ozdyPoQG7LXygHd97g==,iv:tckTX2YnTCsJ9jQ7r3XIMoPR0WBY/y7KiLsaSZUWPM4=,tag:pf7cu0KRB4dJpsO0e6i7qg==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:uoFVS/7/sDcTw3dDmEllBJrG5QrPpGZPCKG3eiL1XPw=,tag:w8uslr/p2uFw7+CHJwJr2g==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      runtime-config: admissionregistration.k8s.io/v1alpha1=true
      feature-gates: MutatingAdmissionPolicy=true
    certSANs:
      - 127.0.0.1
      - 192.168.1.120
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          plugins:
            score:
              disabled:
                - name: ImageLocality
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:HVFp3Qcml2OYN0G4xVZMsrTuCdL8HJ9dLGvqSVFFpHywpH1WrhLaJQ51ZfocWreU6kCEJuxgUJlTMf7B4MEfjUxJ7vOjxvB2wiFR1CUnGHDc5lEepdR25lnTU/f5XAk28XsC/OdXc77gBnvhkKq8P8jsYG5Uk6N8saubQYcQBv+hzkZuMUVJm7D+EylW9AZkPQ5g68h+Nmuo+2c0V9F1s/x2HgVCS7urIfeLlK+7L8t3Zaio/lBR7IgMYSUrMfJeC7FMutew2JT63l75tHTJpZyyHgeV5BTqjxPqpHHAvycD5RQwljch+cXo9RGewhiRUFylH5uUaKmeWr+oZ9eWo3Vt+pORsmcB4lR6v5m1S4j7BFUk0PpHxd/BZy2nZ45O3fzQyeoyXKPG3LtRVcYj7rJ2vR617gr7X/H5upXDTKDvU/gbiCSIzs7ijJt3OThCzDSHK10S7y8JjJWcBZ0AikMJ0bAjFDkNkGPP4LVie2PRcQXzqr2POyOwWPEzOZlFzVzSB1qqhX6wpt3R0LIQC46IHYj39C87LPP3q3c9l+8nSjMTJemaqjnVGsYizAEgrucu3BAu41vRIeGDs4/kk/JPuRMky7R+Z3zRBH+8UlGEJKxEkEQJE5fn/baOV6a1GVytoV7rJlrGrZszVZPatSMLlgsPjnIg6JGKW0XL65sVPlIv0gnXr60cf53pZM7muKqSB/nkvjBnflZd/292pZS14XzG/DRuAkSiE8HzGom0wFoKC1LAAvjeB8E220C2Jm1xz3YRnnXcBiUnvoHp12cSaI3+s8DgExJVaR3obYLG7R0hMARHqdonCqbGMhHBEo1R1A2RKiuDEIthpnPUGHM3Ggts8MPHDUCXHj4K+COXAYOZVeL4gwUdikWJH8/zMcRIhN9Orjlv6WrA34zXVTLzXaW+hPIH8CSIl5eoVPQ7fmNfBUp5uEtsArlxjCb0hBs0huhFyXbab4nwrdw2uhdwQNV+aebMXbcUFDROQhjjjssLaLi1NaK3s3baph6H,iv:LkXY4cCiKk539xgCgXwS9ak0aGMOY9OvZasi5P1TPbE=,tag:/QTkb9o2ZGQh/9nPnXeHdA==,type:str]
      key: ENC[AES256_GCM,data:/UhlOsziMEiTesQcB5PRpswUKZ2zFO+OkhoLvhT8ET1kDbLuAc4yeSC2aYgdr40groN7iubfu6X1dE4fr3QkuY6kID9KtnPcMumPsqm/IaYa9rmyz2DzqQCNIKNlv3kyoE+JawjFG2oHdwqjJ2A1HfEVWu/JWyK+0EGXuOEB6iFQCj7l46xXSzZcXZaBNk+gi/x6ltqv/xjFJQ6O+3ohbtRrGB5/QxiGOHy1P/fI56XkH1jQ51XDaYEsFIm0cYJpACTTefTgtibX5i8N09lSWnt2eekIL+faK2yf9lXT13HHpTc1YDaslCIFKWuZ1lbej/am50H+90TNCbWmt4AP4fhBcH8eUaW8jOW5CAahm+rjTE6T9RpTgdFcr/bjXmTFXzZzRMHtHh15kchuCExgpQ==,iv:80fHIOvU3vubpRZF9L14GoJ9EGfJgMtQyG4g5DXm94k=,tag:hmOPp4YQRW29vpIZPQr72w==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.1.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBQLytqbStRd3c2ZVNxMmdP
        WjNCZUU2dkJodlh1cDBUbk1yMkd2YzdxbEhJCjZDWXptVjJXZ3FYQmlNcUJsdWJp
        eFhOZHpxSUlGN3BjSWNBcW0ralhIV1kKLS0tIGlzS2xrSU9Scjc3bzBURld0cTdk
        OXFTVTVZUmp5c0lETWxkNkRnVVZ6U1EKRFbCc3JNPfvyQHDEpcioTnYwGNu4Wi/D
        h5L1rmewKQCOopPbkmHNW62Be8KZHqYTne0uTgTiD6jZWcPvuUZ4Kw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-02-04T09:10:42Z"
  mac: ENC[AES256_GCM,data:ZYPf8bPzztOwn0UimK8FQbw8kZZ8HyAdRsahrMm8M0Dq66yXq4lnMzyjNNBZbn3Z1RVbl5wPpb6J5j5PT3emIwAWadKd5lmzPWBj1Cys6cviE76zq+kF2D20RTY/m7zrfDD/b58ntPtPrcwhk2/e3sw4SQncPVHihsjeBDsh1hM=,iv:rp+S6DyvOk58NTSWZuzY8QMXcU5OtF2JTfRcR8CZ4ow=,tag:TYrv6UU6NBWzveV4fXmuxQ==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.3
