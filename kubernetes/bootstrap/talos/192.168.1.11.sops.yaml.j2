version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:4oRjPgJMhlgCazkG4YA9Jhg7LCNHE6A=,iv:eUCqf1c8F8QC5LjkzvMmpP1+WBTAtUpKQ7wUlXlRRJQ=,tag:ZM4A4/IWtKwSKyen1Di0lg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:QGwf23gk7GdMXkaMAzLP+hd2C38trz8dnSE7yPQd1gLanQHDo2qmBL1p2gEmWuW8/U25h+asnU+DGaipXm1DJ2ub5Zi80dJmhNlXyoSWnxgzfYJA6McEY4zbBmtNjJxKSv1i1eYYKGD0T1JhGoZMEMfsZjoSsLAT+rHpyFl2tb6jwwdrMQviwbY419yn2TE2cJvKxPKfS5dz5H3O6yPKhFm+V4O9DMEbmMZSs5yxqnTlK9+b7dOKLssMQzIKiXp6VnlfAeAIVORak9jlgpNB6+5EPM70vlN69RL5mPdu8M9LfPjITsxERocfmnHBTsko1qJi1eT0UnoVvTvm/KT7TTykmd5ASQ6iBRza8B7NhNZlPG4PmTq9zjy3ucL4zmLr0tlyOM2BcSHta59/iwQZpSzRsPRofnk1IPRUPU3tbiLlMk5SVD0BvY1RDFdJrKvcVf8csuiJgXmXynAAZWVJbuPRsnXV3OgJ6dwGNJy+9SLeR6dDmHWRBensvQWKRp9SJBOuZpoWJ/KzrCRT1qF9QM/nTTsp4fgvltfXOG36T8qkUnxKcviyiSog0dkfvmv7uGF6vT0dhxmgVOZQosneBm8pvuEmkMb4esrmcvY860RDC3LhlrksClraXidj/IGMctQ+pHiUQKXVA0/toLZWruEyNv4Rpay2FeJCHF5puRURx8bcSSOC6f9r2KbVuWIuyGXOYLxRWwsB4k97iFGnm3lOcuyIZcgm431PeK51WP19T5fVdkKuMpdievNlkisKEzUp5IWVosiGbA/tR135sQmlCEl3WuY6FGGh6L8ljadlZITSlWXL2olhas+o8kuZlcOGmb/hSVdJdZqPcdNHJB+G2XOERapRfZpXe1/Lka+XbUEy,iv:uuB+Ejgt9KOFrihohO/p7rlKnQrr5ZeZHzxRuGybeSM=,tag:7iJDu1QF35u26u935CDWag==,type:str]
    key: ENC[AES256_GCM,data:+7rdpb7ybLw8HSZHq7+rwoXLYYlq2PVbDllTKRvZSiV9bQad7Piirw9YbxUXMdhsouWnInFxlHKOOV5p51XDM06TCMIipKzqwlBEvHJ26CWYPe1JHsLXZDKn3ySMWyocff2SOrqeQ+07aQqBqUBxXAJBZByEF88mSJwBAwhoagPG0ssF+Y18vJV4yOhXEahGc3xMwp0pbN0bqRMXqHomalD5zQ0KAWdxMHyKQPZp1miaP3GF,iv:0edP8mQnVuQfCQb2djaR24885YhGJQtDTpSiWhZ7pNM=,tag:Dcd5vtYbkVJ2kxIKdm0hRw==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.1.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.1.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          physical: true
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.1.200
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      # iGPU
      - i915.enable_guc=3
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
      # iGPU
      - sysctl.kernel.kexec_load_disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s
    net.core.default_qdisc: fq
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 10Gb/s
    net.ipv4.tcp_congestion_control: bbr
    # Send and accept data in the opening SYN packet
    net.ipv4.tcp_fastopen: 3
    # 10Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    # 10Gb/s
    net.ipv4.tcp_rmem: 4096 87380 33554432
    # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432
    # 10Gb/s
    net.ipv4.tcp_window_scaling: 1
    # PostgreSQL
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:CKxeYRrgYVWrs+Ae8AU8twNVciVfzTN4IfrPFDy/d7bNLPJPvgpaNoxMj8k=,iv:8RMNmA0BaduhwS37n3WEM8YeMGpS+4wGyj+22f4PBzU=,tag:TECZCsexj+bn4IDOb4f1EA==,type:str]
  secret: ENC[AES256_GCM,data:CLCcgH7yS7C8385V3tCyMpIKVGAjHWGyVsZsod0d62UPO8FxURWRwvzHGb0=,iv:ahCeG30S+2NyK50IcYQRvsY8X6UseLG1H7OsQWu2/Ig=,tag:uM84JKxEQcks7bbABEgN+Q==,type:str]
  controlPlane:
    endpoint: https://192.168.1.200:6443
  clustername: flux-system
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:R4niOM5klR62Xr+/F4KxS1lgTWZPwow=,iv:SBgCIgOm/Jyg8KHWvjPKwPFypdW/JJhvyaCcjRgaNN0=,tag:QvvqBus6vITmAJ5jEMgeeQ==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:2Mxge3Ij/7vpOENCtlZgepqSkGJ/YE0kPpTecG0m7VPGJbk8OrEUxEpEzw8=,iv:bb2fU9bAEe0N5D58i/5/v1YpLvH2bMKTsTQpqo8LaRI=,tag:iwQYscSeXkc1/oaVbtqtsw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:3pNg5baUZk0UMmHZ2ltuqu1H9GO1SVek0DlA/WU+d+T/51mYFjMQ1NRp8J/pvEg2Y2fcn3ImOKTYExHOLWYvBKR1kFVGyKME6S1Vpggf0cRU9zxd3hzqde34kUxRlomE4hjpAck5dhRtX4yS7tV30hclHD8v/nZrKk96IdRGDL8mkgS9iXNXedQ8XmtQ9PG7c4LzNDkuEoKhA/VfXbf82fS0FTOh12aZC9t6bbQrY+b/CtVZltBaVeJG6+FRX5BbfLyJWqUeZDXQrwWilKTxQwecP7BxK3lOehVFQbqyXEa0PzU/Ivaaw8c9/9mm2regFIRXJ9IvZ7w4oeO7EEP8ShTCjn4zacw6lAj+I7UUUBx27Oq0Jk9J/LtTLKyLnSmJuOQZICSopOTbYKt9yKWUdeBhtGcsuyrL59nyKgV+H2F8ThCIbDP2hF7Eroe0It44Ysq6ypHyasJCaG7ebhCtNVKORj4/alJL8cjvhZikvC3Tw7t/LJfbQUwFWdVa1sZXyFEsBSWAHfHCyr7qgUKqyFcuwAzVCAFA+G4K1N2tAzlVwf0R97G/OwHua7/LEUytXLaqpaa84F9xiDC2oRJik2wP9RLZ6V5cKXjyUv6dHjOg/NGnmqNnOrOmeUXiwDPEHaVrW7p5s8Lk8ZREqv/a3bDjWGeks2e3tu2FI8G2uvxFCf4QtN3w6x7O6iOSVl698ETC8f1+Iv76HZoOuO7yRldwv2fgaVjgYLdEEFRGGX83OdnI4H7uE2ArDDq7BHx3d3Cjssv/S1ZT/WYSZjXBuhKEvLDaZNPokbfztqi7IfRUpC7vX4Q2OU0oTSYmgS8U7AYulIgm65j8Aj9Oj4eNIVL9WeeUiDoe+m0dIpXyB/r2RFDAF7elXyc89x8Xb48g7Fp5q9lR4s6hf9Gc6gBsNmOfM0/BFZbOLO1aAPn/SZOPULHFdPbF0pwhTTDxTwSQYNqaLwuwu8s8qsunymRPHMfJTdnSDiqGI6eS07fM246CtmXfdsprWrtkMx3CYvgEwBRg0PSFFnY4tnubTni3kSfx1NB1NvFiIO2/HQ==,iv:GpyQLP6xXlUxu1f8rSVjUd8+ClUuvQOkul2Eg/qecbk=,tag:WdYkh4Q+ismYTCswQ+/QWg==,type:str]
    key: ENC[AES256_GCM,data:6096X0FfVhZLtu1AbWdWy8pnNUjhubPkZSKEzjmKdRrSEH+Q0R6WhF5MK0vRLJ2YMKBSnmocze1FTkjb4ZBjI9p2UxesnIhuaSsbPG5SCDl5FGyPWKKq9gx+EQfO0SBimlFXsuRDfXNkf6oFFktgDmZnWuOxt5o6ZP7w3AJGBwEqhCifHtpXL2oeRaK/Q6uZ3TYqAKtLed0NucvG7yKJGFTYOxQUAosXrcsaP4Fx+ldYLSbKMcVnfjY8OYDVlWfH+adlggJWacMFCknW5LKWlsvjG25eInPjJugH1SNHagWGTPPGw8Hogk15mHWe9gDmT8VmwWHlvjEakoxUhh1exCbpLyeXQDQNitr5s5b4uVXZeI5OJ42+8m2QgxxVzDfv54+g0AunnuKQsxrcsbVRpA==,iv:CAGzkYxY44ODS+9DcQ+h+HSjyDWjeMQDuRqEbDxUEV0=,tag:fT1pCR/U6AxxnDYlvnXb1w==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:buxdHXmaBjmt2ptFyxACrPRwWF/kDwG5t9yfOEedmJsO1On5g4p7n6eSCR5ddCNVTYaepvmtaThtyTAzeNp4Y7UDTtAW5+KvYkI0TJFlXUZxdeswb6mJhGBIZ3OtpzMTjVV+d2zDxzv6zoQWGWi7gOwTvoTl6Zktx+SFqvFB7eF9VYU4ic4l6RGkhg5HFlI30o2EQUqOLg3R0qU3s3Z1uZysuh4Wcqel7RfYnSUiJ64C9dN5tlaYOiXQvxqv13x6xtD7fI6l1EQZQwwwPR3yAQJqcpViIQgsAHz2CZl06OYgewrHGN1UQaN9XSZcrCs2j9TF/0lWP9gdNqFszGHqPAXJoI34iLdB8LSFwxj0EgEfCt7iH8SdAXSEhiLU09hwooNhW2nzqfGgOWjCy5yMpZYzv6oCNjTdlQJx8EVqkvZZhLqTCa6HRedySR8RgBj997deAB/rTWp9Xlaqw+l+zSX79+nGmWSaNKEx6D0pCMFDdIpLSf3WClPiRsrdcsnylShN/dqyQ0N1jO91l16HzAyHHNjYfRM+srUAZCwBtsksyQN/PBuBaLnokvdtZhjdyldfh7wjO69z36eb7chN8/t8RcwH8C4pe2CaqOpNk1fqeXrTUP8lTA3wGgzaSfyI8/yh7hd2GYOES9TrPpjOp2zCbXkbfRDcuvkTysqQzIemLE60FH/sjjz89jG3o6HlLHsS6XnhfswSMedB4TPLPotd4fBs90kiD0sOPscL7+E0cCduKwkldyD7bvDQIzEfW+IfjheIvZToGty/zm8utcGTOtOH27TnBqGl/RM5vI+hXAUKv99LksFuYKWhav7WIQ1Mb8u8ILzAZslCzgqbCo7lR5kVI/dLT7sjofe115zl6oGNDZoaqoJT+wJNI1JaNbmPTaxhxKoV7c1rRhbhLxazxrBidc4UcJ6yaxCHtJKxvjozDnbe+ZmYtbrRhD7s,iv:bG/h0tkf7I3hizRr1kKLmzYileJ2ERoixPUvlREFTwg=,tag:6idq52/wnBLYiPgRSC85Dg==,type:str]
    key: ENC[AES256_GCM,data:4PmMxoPMunO28QN9i290nQkjNxj8Ka+lxV71upGMlqTZRdmall3medk4lcbT3aoj2YZ0mQfJ06dZliKu48sD9iVX0D/egJbBArldEqi33iJxFy5sTn3/ps/VIQamo5J6MPEvfMT+NWITYnAa8el3uP++4qwGk3F2KhiH+yryU40F2z9Tq+8b0Zbi6PxbR0MLmNKqummnicKHliRKNnGXMmkfqPEB+XGUN+EOBDmG5Pu024iWyKIsHwGmmzd9s4RIWxi7clDseCYPsrhArZmZfGmdCBLi4aOAFgyXwPbb5YzMwbaq75b11j+wEbNKMlPeO89UfvRcXH07gRYhehIAJFttoCljH7s8oaEN7gk5OqAfeQoTonue5xhsd3s5nNbiU3J+5SJM2f8c8P4a27Xdtw==,iv:1Vms00sfwBxCNTL5rhdpqW4RmVrbzef0LN8Y+BcBa7k=,tag:EkxUUKK0X2dnaG83E6Subg==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:CGR0rn1/cUH7oZX+mgV5OGxq/6k7T8yEVMjrfS15RFg=,tag:zqnc1TTYM3vBCshgnMRzdw==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      feature-gates: AuthorizeNodeWithSelectors=false
    certSANs:
      - 127.0.0.1
      - 192.168.1.200
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:eO4zQ5Htmhaq3GEKLZJsjS5Z8VWCHs7gQ27z3WzDFItaLFHFQKjC8XZ+WU5xDO8iP8S30vbjR2S3AA6qDnF8aZDi4wHmuaw/5tp/yf13NqaiJyXG+O/Nbk59XFbCgrkv5EehnUls5joH+dHKOYBh1IE6YrSoX3/uA98lvdR+1euhFdZQc9qlQQOt5M3Q5l4+NGcuVpsh85UltVRy2ugDm6LsDO01l7VkSHEFQ0t7OYoYkGudmou2dnkOF30Wf/d6M1GgdXmZQrJS/sTaLXTfjylq8AS20Y5zGLS2J24b1tZLtFY9R6qLdsqpOX61IkfaF+oWnnr9mwjvMtlm+ERzHyNroqqyUV1OcXNOKBl4md5A1N/slsuKZupQVtr34I4dCB6fHQQ+IxSgV/N5Q1azW9PvIq0TsQj24HAZz0oEn1eYSpXu/KBkTWaAKb9BlnDGokTPBOyoBLT464yIowsDuNK8MkOEkiIlH90mZp8muuaVwAYO2HQNbDJWMaXDP4mMdFjUALbfYEm1jjhM/QhTTMlT8jkXVd8DR+/8Ok+OmQ9/6QFnXyPnDKQ3Ap/l4tPJRjiCOjMOITafO6iJw4Y2OQqtuGsUIG0wg1qNqDxCF+/aact+Pz2cYYhUKjqWU2uXDwbKqSNEV5v3V3AVIa0OkOcS9lMoXdLmRTVSueRoL5549Gu7/KRRUAz3g0BVysNa+5tKfkrE9u4JPMCrbUxS9W8H3QZh94+jdpr7cr0OJgf7jHJ+ry/DI3L7yBl3Ujxla/ArVxxvMy323VO06i30TC4Eiiyb5fkbTdQxFeVwZ7xoRcNGlOU0EbNqHqYKzmtr1KXI1Mtxunl+eRwToquDng9YLwV8X8fAjlQck3By0Wf/TpgEnsaBzmFyAw0PQp+EfJ9BBvrgMzV5LkXzGh3sRncJExt4kVLEVRasHLjEZkEeZ9twFmq+QiiYKhNQa3rVCreYGidiPlW5V/oCbu5BwwTS06xoukicxckGiFYOxuSdiAFqwTC/HMt6JASzPTYH,iv:C9JGL3PaxU16RnUR9L54L+pqImwtqxPAZOQiqoHF88o=,tag:FX0dmPfaOhy2f+S8DKBqaw==,type:str]
      key: ENC[AES256_GCM,data:koLSLvIYjl12pk3afQByMoal9urq04tXgiKrDKJ2IqHigFRokyI6y7PamcVJIpfDvuYPSIDvqeJkre56Irhty3p+HdVme5sI7TLcMEpv+DJg9dKFVuDKbZf+zgn+iety1ARTE5uPYOptsTlfQj1C+/KHvVfWAnizEdZKr7Mfp9wkPF6UDlb99VmR+lf5Gdau05j+LHXGvRPEaocei3DgFhJ7mwkRqI9GZ1YaqWc60gqrmeVtS4Nv6qrm6UPisLLQbmrU5BcnyJM6EEfX93i7tk12ejwWtUGbwUDLPscixJLqa5oX6W8TiGizLRonA4PDGcFbnkEfVQEVeuvLgV+b+F3BWu5K5zGO6HlYnuMAvyzllH6+Rqp7/1+dYFYBAunB0dY7EPSlj2Jcu1qwn6J0KA==,iv:59PFyWAlxiVKt4tcDFlJ0Sp0Rns+XURdZEULWAaSyIE=,tag:pwG04L31yS/LsHXoX89hSw==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.1.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBUemRFYkg2QkVQcUlxWlVy
        bmRkS01wVEpSWDZYVmlXV29sNmFvY1l4a1JrCmdEdVdoTmFOYlA5eDd4c0xEbm5W
        K2tBaUZWMUgrRGF5N3pDODR1VjBmVzQKLS0tIEdScUEwSXNORlUyMmtQTEVUNWVt
        ajkwU0lqQkRKaVg2NC83aEpnRngzcGcKjOlncqFSZnDoAikqjrXaGPCJncJjCR/X
        tDa83BvXBCmd4Lccmpylqb1LVBeQDexZUXT5mUdf+wvecUQQwezHLQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-11T09:07:08Z"
  mac: ENC[AES256_GCM,data:6ygV0fOF1JnJfx6F+9UzU4+jJkwwmIGCEVhDduiWEUIwyzYKqugeB//VFxrkCOL1W0oQFacRmXGpfNFky86Fan+gRTj3mkvcSSWx21/GauMGZXHCa9iR7+fkVqpKsmTdSmowyCMxb3672BRPl96aG4EpcInpnyZVnf5f+MJRw0s=,iv:FldQyKTAKTO8kzd7RnWBYAByuzlJHZRqduCoSz2a05s=,tag:PB7caTHpQzxJV0ThgMjXNw==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  version: 3.9.3
