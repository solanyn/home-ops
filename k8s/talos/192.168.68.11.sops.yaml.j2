version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:C6aBnVHVoOXxkelUczyUB0OprBqpVWg=,iv:THbLOeQEuhDKTESamTkCIGEBVDdoBn9+j2ydaM92xtw=,tag:3dJtMLQpoWTiMbyIXrbEig==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:lAUgnJpN2+s+eWeOoNGtbMvsnyA04xGRpdimldrSjogrz4QSC2ijC129gfG2YddrRlbV8QvlmPTtNTsQri6e3m9MXsqJ6PJJxQUDr/KQcGrjyjgjoX87AuGwkY9zFOv1qJS1nhFQmtK7dt2mqMfVCCfHt+sb7+aBVaSLjp09hxIZDFouJ3vF9ssQhiZBwnz3M2BKxxaiyZType1X2vTB1Q62gTPcFKWzaxEInftn+nEEZ86SK7dyYyaUTK7xUUzzJBxwBjXWdmWj3XfhssZrkYQgWV5oSAIYu5L+Ep+51lIiK9DORcbKIKQ2bzAPR7exNb/zdyfrK86KOH0IWO+QJ9PYAi8r5V97b65rXgyDsQ6i68/zy8R/1ecs7YsT7roDOxQry1ImpyommVDXrSNr0XnLzOtE/Nvt2Ym0gPCkRCRZD9WFbsM7QJo8nbRArYSXFmYcd9BUKUEfWHb4Arms2ZHcZBGXZYt9HBlirC35d2Ja9oSb/Az/XsPB/yCoD3Y8/lB3t14pQ6pseEGjHxW2ocwDPhXtQqhYcKn+U43QaZuFNU4q4NgjLQ/JkuBiPAEyxDf1kUzTqrSDst0sVgWu2qzKbDCdip0UnqxPDPLXF52m5CUslVqoHsnI3Ej10PvT3dANQEmkvW1oYB2Ue9BJXC3ozYCNkfUSkrnukgzZjE2veWPN1ZhFnt6lWXHHcM8RIThfX8dFcZhggDu0hjPkqRBehBhK79JkbHhB7Ed2vDAYyzK+kQltg2LKtKNi+jNDgHt0Lcoia66HVSNHtHdAAvn5FpjyD31t3WOFxqs4inSgGK4hdM0Jokq77befPTJlyF3PsyKJWszlyueRG6p/FODgVPJyB2DTyeNSnZ0jC49Rvj3z,iv:9tP66UEmb+2sIAZmTLmxFLo62fa0T05pnmlWbsU2+hE=,tag:J+C3TilPbCPooHx+SUDcXQ==,type:str]
    key: ENC[AES256_GCM,data:5z0yMA2UIKrNjrsQiG7LCVZREpNMVcUeJl+aeV381+w2BahOSiWzfn2u+WAFLnfcDw3WkxNQcx/Q+TRoWCywc4hpIhMuCO8gRftF72o1Crx0IbIIr1wzHqyk4OC8OdzM0A7xOSIVeo6dVRhJesoXhBZ6b/ENygSfB1sh6k43JuJbstM8V3yTTtR4Ymm9GKJBMHgiMC5WqYVTMNw2lLijwBqLOw/aTyksDS8LniC5WhUhqAPC,iv:jdyyOqv84OTcm51GWpI6wmDW4f/TdRwDtWa6DZ+3aFQ=,tag:F/nJ96i8uZGfsklVPTMJ+w==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.68.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      rotate-server-certificates: "true"
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.68.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          physical: true
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.68.200
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      # iGPU
      - i915.enable_guc=3
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
      # iGPU
      - sysctl.kernel.kexec_load_disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s
    net.core.default_qdisc: fq
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 10Gb/s
    net.ipv4.tcp_congestion_control: bbr
    # Send and accept data in the opening SYN packet
    net.ipv4.tcp_fastopen: 3
    # 10Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    # 10Gb/s
    net.ipv4.tcp_rmem: 4096 87380 33554432
    # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432
    # 10Gb/s
    net.ipv4.tcp_window_scaling: 1
    # PostgreSQL
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:WHt+lAIJ3pe/y6RuC2bGphYa8nxTMxUVoSmep0+Wt0UjPiXr748wWfkF338=,iv:f95BBIIWaKQGxoClsfViv6ES0A+bfK14BZpAzuPM4ik=,tag:3oiGfpVHNWsLUnnMCxFMLQ==,type:str]
  secret: ENC[AES256_GCM,data:GUN6p9BMPbJrNSeX/svRfixaMPvrB6Fq4IBWbCPx+wqELyU/rAfTjmCZvZ8=,iv:PKsnAIbI+ZI600bsTU3IoOSgtI2b9TCR8yvO0dsrO4o=,tag:OiMoeB7smLgsnSCFrHAa/w==,type:str]
  controlPlane:
    endpoint: https://192.168.68.200:6443
  clusterName: homelab
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:Syg/d6y76fH+p7S3DyYCbgzgeFOF258=,iv:1wf5uuvR2k7PQtGOpKXYey9YDzBHvrrodPyNLHsbTkc=,tag:weJ8TesYe/hZAUIVt7Pjbg==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:5OyHU3DpAqkwBKUNE9mxYMlOX7Qr6eto+u7ZDRtx0GcssrBJXtmPgRcM6Aw=,iv:XvbKly8ELYz8fLYAZYlSxyrXAZ0DdnOzsXHtmRHL71E=,tag:dst9Wv1CkWVggES8LVhvTw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:xCyEwsBNfKD3cEgzoo7CdSr18wKSBPkM9YZdYcPVmDa1nRRqEymeHX8+EIjZcsqSgZVASX5dYaiv8m3Q33v6RfAGkjRbonJVGRhcWg8j9BnDuBR0Ppi+ekxheeglJ9To9Rv2II8U/TuL6yuLHg2fxAMvSLey03AAw2xRbuApXDP7ewrqfqu3fPtBl2He0p7+RZbRi2YXAPOtzi4GzeQkDkA0XNPNMdsWlkSGIu70QdsOBPCHEwJgaPNv5mvv9wJQS/4tbZmXxJnTEgcXrjdGE4Pf4NnnT3yErvqaX8ARSwisNaJWbItX0mwiPnpAbj2lofp1Lu9ghvHq9+pTeGcSvV/QDharbarnklHt+aF6qR8goQl9jRlUYhY+YofWqlbokeT1zDd6BvPRMmXqH+2vdnI6YZmQZ1clQzjVay7mPTCBosuPPs7N4cgvT8rFYSqkmJiOZSOGY3a5ZChNePcUD7mQ7EiwnXE6I75K4duTMsRz6mA18aHzXk0Sj70Sv968xx+XenHixXMFIEzxdVrhSqIgplsG184vKqx+MWG3O0m2MY2fWpvmioh/3C6ZfuS44S1ZE29E+ooiv1vWAZ8GrWYuwms4nXcv2Y2vk+23P8SdH5/Fcht4BW3/KGJ65ENohCANsMQz2XrShhQ5KOt8TAC4hmvGE4kHK80J0Oqbz6f+v+1JqzNT5RsR+c1D5Nwqtl65px691MhcWTzmkrrXaHgLnIE92fSzRz0L/QJmj5U8w/NFGZ21wKBnZqs7ISB3JBSzsbz8Q1/19SgQODsWnAibPYRFjKeM1CF36ErTZkCfBmiuoZnTC60Qzn2KEWPY3+z25AkCALKn5AbC9S/a658O/upkwEcVULwzbvUMr40ZTwxuWvm6UpVIJHshiX2P+BmtUinrd8of64Dv1PEsSJGbTpPN6tqpNuaC3Pn0Qul/FsFtUg2AelpVQTc27dpDYeavnoa2duYMXGr9sAsMS/d5+5pm3nQctalNm1AnPQhXpAmGO7aDcdWV6y8zrqP8eWVkfuCYR+GtyRLDctcEbcZOylwVUDM44Uz1Sg==,iv:0BfPZ+HwAwJ4rhlJIiwAyRqW6qgaX+p8BGtWFw1oQ0A=,tag:ObY27T9gbKQtpPkSPeOb0A==,type:str]
    key: ENC[AES256_GCM,data:n3s2Dfaoc7824f0JNcBTUvKbL1vPkyT3rROThPDQfo093qs5m+34sfBvbc+UlmhFw9VNXlB6ZMyFBk7eZ7DDVAPf2tNko2R7c0GtFxgOuWKKWhI5RQ+SAgTBS7dbZrFoWXn62KLt5TDlNgxdX8mSaOPoiEx36hPc1+WJowBH6QAuNV3fhpKbFhN+3/Ya0mB5ZzPYPKFtntVo/2lkGNv+od7H3CLHamigJfOGChGBGn+oMImkTsNTf8L/qybyz5e4H7pMHOoGtfffVNe0EBP/jzDZ0gf6qNyif5gxhwi/E3PvrLN8hbHSIG2EMwgr2v4tLt7AcKcdfj3WRSefIk/Ixdxzo/oz0akc+NDj3cEZ904ktL4+/HJN3YUbGsl85MuuwkiSbrWc/0mS82I9dlurJg==,iv:txnfkVrA1j+9Qaoxcz2sdcQdCNtMMu/NEVgnhvOh1Tc=,tag:W+tmdAT/jDBi4gdZU66RMw==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:ofDXjrVjFaj4IyIjOICDZ7tAsyqS05Y68CdIcvuaQiMnoG1K/WwXgTFf5IdryIao+PIiUcyVNJJBwYefBdlIbH7WyHn21AgFMVzHKGNHDJFqkfIB3Lf5tTzc1QSJWe6ELcDQZYVYmCgBncoO4hIsLallpUdbreb9jyP1fzECzN8WnEoV4/3NAupMa3CMon3COuvh+ZWHMH+NVmFJG8uLl/PAUStuuC2iFYUgUEtOWkzpvam06yxMjM6nhIvTSxINknxk6Yvfpt3fUgXgloWXiPRgWu57tAxDMDPNJREMuCsJGsvKJSnkpYhnBRhdzmvPSLwwPv8b03VEUdILVS4IHToyQwRiyYNGsLG5cwW0rJt8EMJ+dXnBjnbh1L5iwF4X7wyoJtW7bQac/nvEdpPcpIQEMEAftM7jJZduhdip1sGrQ6TDDWqC+KQp8kpHbkBiQ4pVVz03j+qTtFiI+QFahaoxa0qFSMNfK2TnzmgagEy6saBXMvN52a4wq2GX9H3uHoxjwTJHrrI382GE5bYUBE2qL2rxFzkJ4SZLS8aaBJqob2R71cmEcC6BNmlP7eOfFUAirGWWTaiiPh5aJU1SYRi8FP4sDT8+wRlhJlTGDaypUqEl0HVG9USDE+2fHdj7oqtofe/RWOAG+IkBx27+vwHy3OxHpwXGTuXZ+914/BoH63q9HlRq5wgheCH7E5pNyyf89C3WZGllEmB+QGoA185OHPJatNE/nO8bPGHf5E0AgpqeNXyfurroJV+KngdHe+VFmVN5yIKr8LOc6gkoP4GtCiGatnZQN8hF6XsfYQhE7liYeA6wh4WZ5vE95wmUbUHAdJ72N48oaMwSK3M9JzMf7SmEL4PV1PUH+ADiPhP8G95jnPhV9Ipj1Sg1CqL4rfMUW0h7pNNvblc7JHE+gpjJNeTLxCQWjYkRd0bNb6iWAmcRG3arU/WuY+V41U/8,iv:EPL99OYAmYmIIwaOMTZETQSQMKjvgjHEi7od23bXWLM=,tag:G0B653ynotqQnevcOnVgog==,type:str]
    key: ENC[AES256_GCM,data:62pqLpopCf08Nm3xa9DqEsg5GGHDaPM+FS65gSeZbwQyaaDY7hLgGnUr1+YEkgFSpMK+rwKXdLQ5R1Hr5EQNjLixH3BkcCZxXWcCwy3KSgleCNaJQ1QPtKrQaioCn+NuL0BErufPyIjebTDXZafJ9poecgQ72qwEMJl/AUkyxKVK1owj4fInc+HP/m64sIwJ2O0jr+oWKCXSVm453Hyy9oTnNtGCfT3OjxU9CkFELQSe4mj2vdPeRbLeUH51NZwYEhZsNeDUX20Whmb8VhzHa5UlxV6EtLA2mjzgfUX3LTCvMmp68kesEhbEI7lczbxfaTEevTL0jDReo0mjQSwVEWkS1fIoHnU6CaRbWLw+zrMgV8PXksvKlQgS7HrBH/R8nLhZNzlalzHgUNM0fLBKpw==,iv:nMeedtCBP0n11wB6hFuK9QtXL76M6HaD7cMzQuKCFI4=,tag:3Npt5yY4Xj2Oi1Qr3YC1IA==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:5pEDxYIvTGBv+AIJKXRpYQJLJx5bZGrLaw6uJiTuYNw=,tag:RZKeROGO2IyuyYeEi2h5pg==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETS_VERSION }}
    certSANs:
      - 127.0.0.1
      - 192.168.68.200
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:giDsebWESfTax/23TLVa7xH1O+3ZxSeMWB9jB/WVo+TBTkX46NmU5D/rYO7slXVxGxNGXL5CwiF2jsw1QNtv8btQiwF4YQMSOxF6xL4aMw/UczbS2d+UZf0OHxwTuIFxJM84HDHQLdw72N0ZC7lnOwglik1lLrmUNuIw5+gk/dKGiOOfsEPZr/uH44XxfU2iAcUDIBiETqnRab4ogSHUVhjI+IV10QmFLM7mstpFp2F+U1lw3Cx3cdG8XXy9HcdK4aa9J2xWx0eJCSXgI5RHDsfr3roDjp7/vB7gzesGqMmGarUe/iaZYa/NFwUm45nZhqiHpjIdYflvZGgXB1ratuVDcbGQjPFKEBClhtGIGb4XxekiLcAbCnMG9s6B6xwGoe/qXAlyZ4zi2ronnkN7ZCLSARGkpVZ76c0KnKXGRDaRF+Jd2P2p99ZVHoEpr6eHlcLa0my6XTcWOnZIBGtPFS0HZ6v58hDvn1aZJbA3Ys/V5kyFYzCIkkMQzRXjtYQKeRjcpahctu95ckQFaduDm8P2VhFZFIW3izXWnjs+sM6SzatJKsKl9sx/7dtDJ7cuFSbybvbKobKtmc4lfeRWMzsbsBvfVcvZ7C2jtqTS2D93WcFIYWVfJUT4loxa/xMpH36UJsrdxW/NipFr65jbronl9tvGTiY23djPGhWFHY+zkNQB/8MTX6uzEPKLOynUKU8yWTuTVYVqRWhZdcTGc6FVZ9PVKADkXpKrDt0ns0zRgRVgxSi8ExY3z/uNSssQgjMfHyq7psAyRohX3Yc8hrdXiDLDOadBSdItvOaDBB4qx+P9L9sE09lonmVYDiClTqnw6ozBeqppslDmvy9+dnUMpB3oKOlu+JWn8llfbWouPKBfPOQ0+eALs6zTGj44FbaqTGSKH7Ns564QLRyr/kvxM5xfznB9Lh9d0hjqYXm4BWC7FHjgOR9snJzNhfKwqNZTolFUbBxX6cfqSKhGzKq0EdkG7CcPcmN/nYWqLUVs2qDlojqCM16vIbEJSb5m,iv:eM2aj/jKdTz9okSec7r0WLcHqMkP1wF/kBjqZwDHZQs=,tag:0rT+4lZB/wVm/k9NF9d3uQ==,type:str]
      key: ENC[AES256_GCM,data:nn4SYkYq+bXmeSZarQXEdzA954cTHqcbXGhzjsdn432y+69uNMG0ANIr+DmtzPLTZ1mDhmNUIuXfTOMqRQmy3anOWglTnHQ82dZY76uIINbxkVXbhtK0eEEoQ5qAQwGU4hP/4TsLcPFEA3NB4h2lBow8d49bebMnlLqqKUFV407P2hd5jooq/g1V4LJsHBpcAXWSH/03EslmdBPiZIZ/TGhITLby8pIO+beXsHaPLMmOlE2Banjp1S9fHo3pt9kwhk/R88CXVmFkIeDV05i1UNIVAVJWbJwh/90/gdBVsjbVnQs5OZRbn//7ONZy/XJSr21/l+oOKYoCQAXsDquQ456M6PW26QTb6DmPY/zctWQjqd1rocs5aWHKcwp5BDT9HuVKEeZJFWpkCMIPcU+aRg==,iv:Mvpr6MCpUVwdrM76hnmx6fN9eCshX4iqQratfmicWLs=,tag:12bc8Gr7HVhbqOZg380VSQ==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.68.0/24
  allowSchedulingOnMasters: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB0cXNZUjBHNXMxYm0rNTA5
        YnlTeVBnbjZ6WVpNZUo0bGxIZmdLM2NuSHdNCmZnbGJMbGRYMVpWU0E2OWN2bUlE
        VEVRbWpJWmRQalFXNE56d2tBVFFycDQKLS0tIEdpMHBXeWZJWDkyU1haTlBYUCt2
        TmxUdkN0alNDWXlnWEo5RGJpanhLNFEKn6y9sU7ZsCpcPp0qlE0MT0ewaQ2sRY8W
        8ITw7+tlCRVwN7+bmI36SA5IhsDe9x2Fovb5W4Ivk6a7gyvlAwskJQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2024-12-29T15:51:10Z"
  mac: ENC[AES256_GCM,data:6HetpdKxsw4sKKYtjg+7Xx25177vpfpiEygH9dvk7ybLTTs4AL9TawVw36ykEiDzA/yL+gZGa2KmvGZJGJ3ohzfAylhgdpeB3nBhMCfc8W8+1cLcJcxjnRmZLEhxoFfy/JWfnP0fQiMQEAixR9g7XYKHdvQkt3PKJaKat7gQE6Y=,iv:7N7FzXKnzg77ojl/aBGMahWQRdjiL3wzjPu+Cmdun+o=,tag:qJC0wI52LV9W9qwfv2dVbg==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  version: 3.9.2
