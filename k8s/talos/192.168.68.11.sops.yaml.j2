version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:NZ1c466WwmMUhRyxfDu4maC7sUooyFU=,iv:etA7CD1xNYctKJ26s9sIcg8AiVwqX3AXXrxXeLBLRF0=,tag:gS7wCs35lj+ntdDHBVK2eQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:TUra795M170igqRUAd7Si2YSij2IeZIPqT57JfSw//UdovGv9ZudE/4DMYaZd/7L04Jn4kVplVdGK5pgMHVadjswtWIBE5EjwyMoIBcwrOnHkzp8Q972jg+vGl6KABnVTob+N9lQN34TmxBXIPJL0g3jdHskBObJGOP89yGDiK1SJ71P66RWIRXuoAXVshVUycOOyOhXERtriv2y96qVaz7S8ew85IIkJ8f12cgRCH7u3mMGnMKRnd1yS7aWLUyWBGp/9U4KMvarE5IoYsFA63+n+Gy9hKWWYjh7pU+MpMbRz/d28Y4pMb2RCtNgt1v/AQj1JwXPlKxap8tGH3GjZheeF0jdN73me8zHotTAkI07LemzpI9pgwx9J2NRds+MeWWN3ZirYuisGqY0VcxTBSc7XSu34X7h98X1ZapjYRrXK2DpeSsUafXrnH8C8+FH4AaMszqAuNGkX1oUky1q0Eg0O2ne7toRll+33poiI6XFAmtetqc7fLtd79dqr0zGAtPe3gsETnHhCmuL3L11ADG79re/UC1YoT6emIY55pGr6+pBkh3wZYjm09suCDVk761ECI0xsmJmMMKW5LMlCS/cfC2XZr3BzaBPmAk6KPWNQ8D7yMiK8x8EU4seNwEgLb0tlYZpgCb0P+w68ZKxQpsIhF0Nff4Q2vK/qYdJW8bNbAYMUIfcc1tcHDQ5Pg7hZQ01J28FLAWuXK4FRn0iqzn2sxji1QdY+H/47bfSz/gdICRi3uw3WMVLNoP7M3Svj4MfEhtnEEdP7OB95E/jUDFwTuOC2X4XJuh04J/eKSEirdmIiXhKOr7E0E3LR+b7dh2mculWFxdF/5Gi6Bcfxt+vvdyXOvRGWPS3Q2oW4h77THTz,iv:tXDFRqnteuzu/X3uUky/gQ1Jp9O4y08yFmAmNl/HcVw=,tag:51zFmaPzB5I07KIlyi78/Q==,type:str]
    key: ENC[AES256_GCM,data:L7AzdcvGns+jyEXPtnBNB+T4Onf/V6MwZ7QnPzY3YE5c1KVmeEfobX13WAof3fM0yJXK6iD8cen+yo3oFM2SmnWf7VEPrMSMja8qjQBkHGgy86jgi5jGvwq5N1BpqJRX7mB9QXVdawbaoQHh+RhpnRr8ON1Kwfvtr/IdefIFkq/88hhFp6Hq7yYP6XyRcP1fzPgoSRpvIaQXk9Z788743KYDxB2P+OAC0Qh1HtSkqMa566YS,iv:rnFbCAz4Xp6bgOghE5K+Cuq0luDmOZs69DuKTTibaW8=,tag:LN9Muru8dt7/H42PDEyzCw==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.68.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      rotate-server-certificates: "true"
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.68.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          physical: true
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.68.200
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      # iGPU
      - i915.enable_guc=3
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
      # iGPU
      - sysctl.kernel.kexec_load_disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s
    net.core.default_qdisc: fq
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 10Gb/s
    net.ipv4.tcp_congestion_control: bbr
    # Send and accept data in the opening SYN packet
    net.ipv4.tcp_fastopen: 3
    # 10Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    # 10Gb/s
    net.ipv4.tcp_rmem: 4096 87380 33554432
    # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432
    # 10Gb/s
    net.ipv4.tcp_window_scaling: 1
    # PostgreSQL
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:GOQcXu4eAZyMw/i08BN0HPT/5AEAfZyvSi1yY05mQ2yh/mAEF/wAEBPukEM=,iv:dogxiRXPD+XMPiHrb9pawS6o/nMlBNaFq0PnBXtzTNU=,tag:KI1iP4bOVLrDJpdlCvjIlQ==,type:str]
  secret: ENC[AES256_GCM,data:SL1ma0ydnVCLD1FZBtWHMEEbiUq6Yy5SH6Z+nYbHXW4PSUMcgYOLvAokADQ=,iv:y1NSlOaGTuFVkPEhJVvCp9UZp2mOCsEZbEHdjwUvZf4=,tag:1FgE34ZleihxOeAIuTfIxw==,type:str]
  controlPlane:
    endpoint: https://192.168.68.200:6443
  clusterName: homelab
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:DgdIx6CEoKdGiB6iC6ay4crPSpfaTFo=,iv:77RoZwG7SESK2p6cjUfqQ7w1POJU+GAUn6OQE2S4SxM=,tag:fZ6IYihDp0d24xPM2zVh7g==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:nutueP0/OIHVvpAtRPs3RcWF/OABMjZB2xs9T74ZE9bYMiOO52JKx0y5d9M=,iv:5kDGmVxJgLkReCYrQPSdac0R1Ow1F/Isu3MyHt56IDs=,tag:7+oBtb4xb0/pzzYRZ73LPw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:r4TjFCWohqR4vc8s6QslTjtfqTq56xCwiFVfe3FOIJUFAZCZ792gu9WV3/JP2z16OLG2O4iCEj+TxNjhz/66VHNR0mJRHuiqDhAvgr29921K/mUyrj0iGTH9TzMvss4dV6xsXYxYVSt6DmEbrDo1JZgxdmxlQ8610Km2I+69lGAxiKCSk7wix9ZASRVHhPIFEykCEoaMKKiJA8Y/QP6DovJxMZQ6ST624lUS2D0ouSOt+qqhk2zYP99yx9tyCAiti4qndiPGxbyYnJklwg0PwRKhOjYegxMvcjeVf5HXIekKQvzR3miCbEVRMquCU0SpknHaP20HFwB6GICRMH5UQxfouPDAFeUvNyNN04XLM1Sk+ErJErtqrFzJWM4DgKVEEp6KgBLoqiqZImKJnwmtjNzbxxr9E36T+z4v71QohWjq5ZIS3/oZg0MxGmL+ZGzBJaEnt+QaH8Vp5Vqrc21v3ixXqUKgMMgFGcYJZn7XBMQ892q4iSelQwjgiew32WV7J38SEkOMPwu8PMfr+Y0Ia9Lyc1ShHaJHDf8S/QzBJSGhaW9LhuW1sDOfJHNuaegjZzelcVWXU4nXfZSVjmfO4fI+/UBHasDuOeKwx/bTmb93mzLwuPrVTQRhfqwXYV24+c0/jH1AyuunwCaSMyxkpsGFjzwpV4p+2QfeXo3nnqa+/GwZvcttYLTWDg7ujNGefxg56xQTdSj1N8UxyOEwW2xhG67z/VTaQO3a6XZt8sshRq6Hw3dKZJWofvCzYIDlwXgPst6k51WvkRP1qf0godBDEbrp6y6W3/8c8cS2tpjDrNyYO8S9Hjq8CaFq325+tIOLdez8Khpf1ICSBjQT8vBx+at4yK5A6Dy52yHzrn2vIVmhE+u4rC7o+FNJnZHx+2xbB2ONzeTcEk/Vq2tJWud/5r0OeazTTXPPl4fKr/vCn75vlGBmCLPE5JuHta6T+Py/reGCf2km+0I0eQ16gNH3MacQXyJk1CVy1MOyrvgNwEkGK7KOodvptDdiv7IsJCvA4CdtTDzq5Ov1kM6FQatrCmQrtJKZdTByvg==,iv:8hAe0vd/EbEuc2+2jXU3wRVyIrh19ka0RK2g1LtPZaA=,tag:nrhwBtrMYJiQYbkvYp8/Gw==,type:str]
    key: ENC[AES256_GCM,data:8ZDCCFElQ2lI5xaYSnN7v7RWCmxOTsJr6Nq6NdnxsO0IGe6RN13gbPwHvJXm4UlneUIG04WVp5OyRZlBBiJ83H+6G13iPWmjYMpW8PPpfznmrYBPfeuA+Alp6d3fH+ViAGFAp1KIfWeKZ7O0HV9iF38ETdGPWq5vTbaniddUze25W+SRQ6jP4fJDZ28TLLVJXlcn864lu1uLSh8mBTWJ932IggbsAkJK8nomguLLrOrwYRhI4CrdurE/fXYgbZbTzv1ljEBuLGhbYpfO0CYwgvE8BEAm5GpINc1p2PSG61tCeRDdblcrwr2yk8PYT9TEqDqiTyddQjXJlka5sufCkuSTzS2RWWj1udURGlZRQfK0V28Z/FgrK2GStBfimorEb7CVGJ26sT8fgwmuyJH9KA==,iv:sDXZhwfEmc0KPTP/Q278EJxvnEHOoIM57r70vQT1ydQ=,tag:O3OsEIopgXm7qzAU5BJMeA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:FoY1T3m/ZAesm0cVLAl6wJV8ELPLozc2c8BSPuqNC8qqqRK7fRC9Hnj3D25jrqP8PV2mk6rt39NtONJLheTS7Cz1LWihRcCddNgpOlWPqZGvBcOpqFBqVQYEZe0WhNm34Iso+nKRtg6Ifd3m8TVSvlcFGMnOztPy8XtZZOgeP4jjKMoWfpviiqEmfilDJ4KRNncnkhmg8YUIUkof/eyErRm7yCo9n3ioAq+23EsrRDxJ9WIWQS1EcfiDkLveejIYNrq6pTXl5JOgDW3wAKQoTNHQvJeXyaViMZLkP8/RwwawR889fCHYhDoQg5q+Eurw7NfQuH8C77gQkziuEHbWfSlF/VBDPkn5EuupXQdhfWvM0rIK1sQ9HoYCOXB0KUFlQZbv7VyHpyxjRPfFAtztvnn5gGxkksxZ8xvBoHG3XuBHA40J69Y56ta+mrRR95YYUZQzq4v9PEE1foDx+ZJMvIU1jXRKFc84J8s6K3VnsSm+jbZftHaF2M0lIJFsKYXewwAknlcvyVShzfBXfLS22yuPXIXofKkfbmQ3AxJ9urUUKwkM5h/ruAsRy0BiWBGRXrGQibofBg3oHrGnCX3/b/bxosNpKQwAVWGH5Ivg5JnE9U+GUr5N+e9gL9dL1xyn0xVDFdwnPJwN2MYIgfOdOF9uobiW08ee+ylPODb5QgxIxGckw1lyWwhPveKkgQYw/LdA4AcNzOmTP02u7sbi6NcJ7DhJnnGg6vg/Ig+u5pLW2ZbnpK/yfAncrt2OOpFCnzpfofXE7FOlrBzRbeyybCMjv/AjDdlgULcR398HZ1fdBOJYUPyqGl3c0baHtsfVi+t/M/wB4O3Vjp9e45y26S1pTBjJjFribgXdiZesfrWzrOtt6AXSAv0BCyQ+g99EynlUChMvDckgkHxqbHKiRhwDwmPLGMw+yPlSi+JHVmIWMgNAd3JBJCpop9q6CuRP,iv:UcoCHAx42XQfutt1aQNIvIC5WIIrUjwRAIkvlu/ZUc4=,tag:1uZNyXabHQUjsmJbIpOchg==,type:str]
    key: ENC[AES256_GCM,data:T5KQj7BFGcDCfEccNJ2lwhrcJRoOIq69Cdc3MVLWoNUeHhif1Ar6Hei/HcLyV/5GmU+bAX+GC9oc6vgwTyURxyajilwrqpMPj357RcN7E1WXAKfz5u1PfDhqlJb9NvLyVfKawYh2XHRLoQuR3bYJeIBmfQr9LbbPiGudxu57AKJjyq4hYULHNXucr7qqzQpKpwCLQQvk0FbCx2x+Dyc9mkZ4Zxai/7m087Y0B87twcfwhP1Qq48UKnKeymA+BbEDKxlzYn/PpuDi5svxwNxUpQE7NFjtN7ldrcmZ+22GC7YjIaFhpuwW/RiJFk/ZLY10wURnMQB2qjRr7K/JTgnR1eZ1xICupNX0sz6Pf/UW3z5/ukIC2UL4WoRWUBTbZ7gFwcnbMmeSFtTrzA5AfQLoDQ==,iv:3XiYdkPuw2t+0wEcV0VxlPhmBScBH9l8gYVmiqg6HiE=,tag:mpBhKtpJPqyf/5PXY1SRwg==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:/er0qxaXHDeo5mNdzpSbAjixmktKVV9VmxhiOcDCB7U=,tag:1Yt+Tg4Di2bdMw6jpEpgCA==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    certSANs:
      - 127.0.0.1
      - 192.168.68.200
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:6ba9fg1M42KpPptN32X6zsQWOl+JPcryrCffm7xcf03YYk86pe2hTOP6RbmPAif1YyrXH262Z26FOINEUMCdG2aPd4maArT9+vMS8HqifxaCeEQdNgDbqxwhqBmXNW4u+Rily/fjUVRWFHxZ/wGs7idiO48wC+8Ge/4B6whsWGr99+Dfk18sVMYc/n+bSgDy5KiWgubG5LE6UDUuvaXcOIO7GypBvLv8SHqQHuEdY9rgRumfyUj1yYAFHrvKn4HFVRGxehfs19SqRnzxc1WKM/UPuvAF0W0E6jHDXWtjatI2a8j7MBeWMzgkqSWqJlzfr6LRQhuGJB5ZhmstnN4w5KnWxRQg2l7/PqVthDUxoalSLxlxXE5fjoOHK/NVJlL0HKwVqnTnB64/6XjoDXfAcnntwbxRghiJyF4xX6zzmvh1U3lfOfZI5l+1uIERM0IEv1xNTSSpY899BNUsaVEFNCDISgenCXkYjm0bQN/OAF+snnUnPrfbhYxtnFdlu1Tjh68gVVdBLzMnjzPI7eHtzsRmmqoJ03gtjJhSBNDzFqZbyDrfN8CPAbcFOWrM8NFe8DbARANqKXPV+2fkii1P/wihyfk+jG/TUxfiZL55KfuXmtK7ZxaoLorJZy143HyHYwifL9cX/LXUXxLCE8JpA0FcQj6rq1+PukSM3+7PgWgZm6IdvcPhgNEaH/UzQubzgepmWa93rKsJBnUQKSR5FiJmCWGbISRK1VGCbMYs+N02TpT6QVwoflFL5JgxRNcA9Yo7+Ej9D2iPTgZt8moW9G5eJH5BdLmexuQh1MWEc404YsUMDw0G/BZ9Ay9mYkmQuhKjCwMcZCgXbhV3AgIvWacaTMpz/ofrGKfgkOR7V9oCxbRLIqmx/A6yzahQuKoG71xdxyBahYxLB6TWCcGgcjtR9dO5F29dEgLC5r4Nh8AWj7yl4mem1sYdyAd5/HCWgUI8Cw5qvMG95rh1pgFLBC42km9YiKO7UUcnCbqji+dvb7pjWlr10v/A017nldPC,iv:DjsssOjelHN5j2mOvRi7kIwFEUMyCvL6PnPuncNrBBw=,tag:hjBBWpT2vNvAJjbvBzMzQw==,type:str]
      key: ENC[AES256_GCM,data:506KFnHSza4Vl352qx3co0AoLU1XzMxsIApndmHtRJXf+eX5Khh2zVLFMUJxuYFzxVdKwlPiYVSGZKheQwXZNEOcx09gcMosbPMz6YIONaxZiV2mKJgR8GIL2j0jVSVqXtIt4sohCBtZPRF041cdWfcUj2Uu0iDeao6T8ps9JQ33igmrvVa2/marJuApbWoBWPwzOelZIiecU1TA5brg5mneUnFZMq8LTZ7Fwcb5kCVuylFWcBrSFBrrs2JH1L8ECj4zLW5xtieyuOFknx7bbhHyDQ6VaJvyBk749zGpJxTXmon8dCsDbH+21q/cSt1J8P+d+4bWoIz/px5AWF/18lSHBorzOcjr4VQYkv2nUGND0d2v+Asv1UBmCe4kx+XVVXJWsIFV4iadrhih8/HbiQ==,iv:nxl586lCE9lJaZxyBZNO7VtC4LUiJh5WCLqHwjJByYQ=,tag:nFHjMX5Hf+ungbZvTk+IXA==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.68.0/24
  allowSchedulingOnMasters: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBVK05DRUZkek5zMldMUFBy
        ZFZIZTVvTlYrajZjSVpJelhpNkpaNi8rRlhvCmpaa2pXQ2dQV25vcVdVYU9VN0Q5
        eEdPc3VDd2JpM09iRFpCWFgvNENOZGMKLS0tIEpzb0dOYXZtT1AxZStzZzI3bmpJ
        MHdaWWZyTGljNGpVZVhsR2Z6ZHQ5azAKGGC4Qr2SLPxi48Nb7iml4/pcIidaLduw
        g2/QzCGOkIghLPodW7YD2HcINcUd/N86py+WzA9NkLd7JoTn27beZw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2024-12-29T15:54:45Z"
  mac: ENC[AES256_GCM,data:gJ+Sbmt9rYp6vWXKJlYru+kn7UnqcUKD3RP/4jSc6oGQCmvVbzIEBa8Am4lRTZMcmoPnfkMoTW11dLGod5hFql5nBMecRZBlMmiubAxNg0LYZHykespazTItdqGvB5S3Hj7PKLdkzUm3GquBarbZGZUo0yjYtIwm1AO6JRrxODk=,iv:hN/UV9c7ePw6Syw8GRq7CFojau3Y/09ijICpuCmRzlY=,tag:D8uja35NLUCep/mM6c6Wsw==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  version: 3.9.2
