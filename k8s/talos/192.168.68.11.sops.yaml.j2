version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:EEmcp6+dSkG6TJ2jFoO72MpFZDh2rWo=,iv:Jkp2AG9N5wFr4siPqStn8LWLwfY9tS6O30Tv7lLphsk=,tag:iI9/LIx3y3slLDs7bO6omg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:S5scFKWYeKZm75uU1SyGQmfhShyCo+IUx1391Yd0QK9fB7baYF9QhJpmjXMzvyiMwN9+PB86j00sChMrUKuO8dlvaGS3Jrd2mqESpK5U8QFZsZSP8htDlyA2n7GFIykTjsNZvDeqvHHFQgZCxnr3Pqa832t8IEDWqott+MF2lHLHljI2Top7haDjEbD5bE+kiK4HLQhPZlCaXmBZ4qxybbsu8QJkba0Bumcljx5Tkp3yPfxLClHB1NuJkZugc+EsFwTrhb2OMYb2rUXdKG+JQ8rg0zMpbRtAucnXtkf3zhgxQMEWT3gnDDgjB4oRbo7E9sKWBdCB/r44gjXh52DdpDXsn2scrUyhHCMOX7ovOwO1I5leUZU1PHYEMWRUcJ/3EIcoU9sHTrHDF9OtiWjXa78SjxGp66+9n0trQUBakS9YAaVSONQwoIqD1s5yKX/QoFVEayKJXRj1T7KgYEOTXjbwq468zBsMGo2HH1hgOvnNIlrrGpqDXse1/W0VHL1AOXfAxPrDvUbu8zCEKSnVuopp6UiBlgwzrCJ2uHrKgZhw0fm8/+GeM+CXs+/XTKmdVrgRLwormnx1CGRp2mSkw5oi/8vj+zy9YbvrBaAQUk1OoqXHoXvl4wTfyCFD0QmI5RKT0yoSh9Fn83OAg5tC8v9XLZr0Vt1HlCikAwp+K90ywPWbrZvRBgQmgT/NsIeOz2f52NIZALc7tsH4I00yOuGG7Si6XVsaSXgibOiFqHZFdSYBSWpjabut8aCdzs8JjTVMy3tfFWAobhjVqfkvnWwNXTaU9U6UCjhAcIwLoMJdTbRfrqkR5h0Kr5Xid0bhqEpPgTOKgH2NFkaeWNaw1UVxFnnf1ETj/JOZtOhXu134V+GU,iv:nvPS7hJ4Cg4pX43DAL+pku1INq2j95Owevf6WihNTos=,tag:vO8iZiA9XPYcCMpqSDMrMA==,type:str]
    key: ENC[AES256_GCM,data:0sXVMCx4BiJTpWWc2qNgbZVvJLkeqTZZf6Z9UOC+BWIf4GaI2vSAeTKoPrih+y0JkX0A+IFzb6eLDBQCk8LaScKVSwoo9DX3MDjKI+Lh92LJp2lS5fpUl3gahhLakmVnkAN5EQc9eqX18PHlx39cAlG4Z97NA5+7luaT1TORyuidObIgFprVh3gTshfOQq5jqZrjw5TxyfAkuhP/COE9D/XodIADEHk98iy6yH+Md2L0ztfj,iv:D5oMFvhjSaFY8rFJy6d5eUFUdJ/vUb7MF7rN3li3G8U=,tag:J0mB4uVcbi1L9rTBMrvlgw==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.68.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.68.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          physical: true
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.68.200
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      # iGPU
      - i915.enable_guc=3
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
      # iGPU
      - sysctl.kernel.kexec_load_disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s
    net.core.default_qdisc: fq
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 10Gb/s
    net.ipv4.tcp_congestion_control: bbr
    # Send and accept data in the opening SYN packet
    net.ipv4.tcp_fastopen: 3
    # 10Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    # 10Gb/s
    net.ipv4.tcp_rmem: 4096 87380 33554432
    # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432
    # 10Gb/s
    net.ipv4.tcp_window_scaling: 1
    # PostgreSQL
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:8W8dFRVjIbqjmNQAZ/ojqBhDq3U7scYZSqyzcMT22NTriBsDNNy29x+LCjA=,iv:CwHv7cZ/NznTNW15E1eNoekHmey8ahSZTxngYslPPC4=,tag:YEbd1fmSCqg8AdQOpALImg==,type:str]
  secret: ENC[AES256_GCM,data:8/tgiApIiigbYxiGg+14fgidld5SXraAcrKCMOeuvcla/LMapL1W2qH67yo=,iv:Oed7IN7Y24CxQ670ApyNbCtU6+HsnjYCzkVFIqbnzs0=,tag:Sdddj3v9EIbG7ZB2DsJkOA==,type:str]
  controlPlane:
    endpoint: https://192.168.68.200:6443
  clusterName: homelab
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:XjHtCuB4ZdZDjdY1wWBFJR3agoGQUYY=,iv:Je3p10v8cu5Jhhtqs6Qr4dy7gd6NvzOeU7oEN5rveag=,tag:oibqVCND3DZq4IJH1ZtiQw==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:wYHbjjtfEKKsEVXU86MYhTGs180d5aFg+ruodnfsGhsmL/NgaCxo4Ovar7w=,iv:ia0ys/+GsJZXrDwS7GBKuMn9pyKGFNtR81LDpkTCFw4=,tag:ly6FCvUrgxqtmB2VoxbOxA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:O0tsjGvltNNroGK5LvyjPGy4GBPppkVM0jgnkhzfGXLg8SqkDZb1R+fJXH+uBnALewoGc7x0wVF/+g/F/p5RJdtP1CqnEleUuUmsohSEx7IRnyrMUFKSzinK31Bb1odtyrHwdqoOBn9PLCO41JFUi7Ws0/qIUXQsRMjSAXrVV8vvdqhc1qEo6jT/e5bz5zc8sjmlN/SY/2Y0GNl8AjSVRbplZWWnqS+hWfaMTTS1Wu7HdcJUQlmML1yJRMT/cYneqeQQM298CLNLhcvUVsDX6joiZ6Jx1gRD+dhkFriQQs+yYM6IFs1FVIOfLodZHCVVZ5CrL3apLSsTTs3Yyb7sBBGqawDYywWHucFt4UySnspvNgjHLCoxA1q77e9+8o6emeoJ/vvoMPUtMepaysVgi+UyAAdnt4+CAyyz4or+9cbNGNxGDReb7ajoL9vdPvc5V3Zt3ADNbjWG2BfBGsRV20yruj/MQrVBUUVOujqVPlzXbZ6Msr+mAI/m41G6ODjOaOPYzxOAjmCokADNNqpyDCaoqz0PeISr3IIqShSe5tdaUW8qF9NFnEb+J2dw2K697sdPri0hBRD7BCTOIqv0vkK8zYjyiN2g1d6J5hkbSzLarwRJqrwPHSrvo8wrVIrQYS0g6p2CzqICwiXCqmFRNNOwvSI4iDSyQNgOKmE5XMG8BEiTMtrRfIMprfEgAhPrfkctO+HleubqpFHKbIzZNIlRXQHKQsCRo5IrUu8esDpcvug/QY5LJ6ORKJcquGT2MP4eGFG737oqf5v5tEz6EMTo1PMCpKiWn8H3BS23N/X8KKYzFApjI6niWpmidJDOPwxkxXKjZ7LxfmK3Mtfb0iAet3jgSu1QJ/n9JgcQGpe0o5TMwcnqdq8vYX7wcn0x/k+RYRiJYISyFy9ynklst0/WraH/ENFqCTVqBqfph1oeuqDx5O2FdjSgUBKedLGjInmRJ9eImgE9H7ve/G8HT8WGqGYhSc0pNfhAdXTiH+d7govReOAWLDZQhiN1AjVrEp4KVm8P42hNziKRjoniyIzaYrXhgzGgZdQFlw==,iv:rFIuhPrAhkt9V6BQQTzaoynGOhrUIkS1icVnQBYhyFU=,tag:XXlFkdLxNpgC/aRGoOmoYQ==,type:str]
    key: ENC[AES256_GCM,data:1/XpMF8YpNScoVG9wzfHbEJZQH0+LmN1cbPDn4Z/V2Uhm62MzVeFQf3aJb/sqnIvEFPwJIusUwIZ1ocmi65TxJmz2gIblFgikRfaBdXnHOW6tukpkSMrrlVu3QQmxZaZnnmMOhYV8bOBpDkHazqwZgGPhbkez7A7FZHi9EF0pzeYaAxQFDEj347f1noMuD7QLbItPMucFNUyvbGVMXLYc+9OtLUvvF9nBZv07+5tqH67q4Blq7m4Z+VIurWWgKaeMxiBRPWAKcTbQi8aHZGo/dP8vGVNoi099bdqJWPCGnhld/ulbKT7ahSHC43bSgXox2Yk6LMT4tSCC7rsIlFhOhzlGhASgLgwVuVeczGwGn7rGhtZ6xvcY0W3vxLm2kaPWl6cog+01c9fJh8f29XzXw==,iv:Ju5CQKL7+zKLsvM+KZQI//oj32s8/STtrECXHOvccXQ=,tag:E/J5Eh2302owliI/p9Cbng==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:n7hXHKNpdRJ519JejIqiCxAR1h1uFfqNDnhd3thbIY+kNYwgikbsCfd3HoolL8lr/UxOf1T9mnPUVcM0TrLyo2R8l4aTlFgVUoEZNoALuOndKwNkwsihPC3ZjQ9my/aQqwRUbBUSyncdCnNKmtpsBo0V8gOiFLIYW2HIC8jRJJRMOmf3jMnouH7yksyK1Id7oLQIyJZSzJXvPf2tZXd0DjBhYtF+x9viyfOCWsuYTU2WMkRJJzdsu7sxwH9rtxf/EPd15yvnQd7VJxbPzZ9N4nZRUp3USujyoXOMVieXhIjLb+THN7PwXL2K17w+0l0SdhgwISYdVBp+By4fnQdkT2PrVcHxSCYLyWl0lzBQcZLKJGEedsEIQL4DwQA6fvypVlPLDLqDJEhHDM90fj9cLpF7q6OYLf4xZW3kYvrZj4DldkJGrsOjw9NG8AEZ184yerU9xdIH5Z/T8cKr5zbFLoZwGSmXYAevcO689WmVAB+MvDGqh4/SZygN7ImvL68yFjYjc4V5lfGdJsDsicef9Mv506icD1tbtE4Ve8pgL5ovsvitHbkGGGNMAg2es4cMjW7Y4F2iFPOcp3cMZSP+8Ls3x36Tdj1YbVMrXpvxFqZkcPuUxMfaqnHTFZctBkkm4Mq7QK23OAgMAyGaPTCHDRXLmlcdg6C3mK3RDEmb1mpflTj0lXjxQlhsyvLl3WvAU7ZeHA+8z7QdaPnXx4GZ+o3nOQX3+daGsM7EtAn5NW3cu0a/dqSHxo5LJbs8uOUJq5lm1PNtLyC4m/mKc+2W1Qh7vpthiesUucaoUEqn+gETBRMQQ2Cl9LIZrfIvkrVbHapOWwFqE2uXk6m5t1Y3Gl5HsDanjO1nE0MDNrHGqciX9X4SM/jo265RqHPy4pGh7yyvc7cCWR682DwVXCmdIznAXwasMeKqcFKNYZwK1348m6y91MiE7NHAoCUFa4Fg,iv:xaSFiRgkC5bUHNAR3d0g3AOdtYZlOW00jMKcvXdx3cg=,tag:+3c4LZgzujjMf2C0Xcxs8A==,type:str]
    key: ENC[AES256_GCM,data:MGiCBg9hwHFRtTc/H9gMXb/+4kqjj0MBItFJKqs+IKr/9fKJ0rJ6ukoePqPuRh9Ug/zgL93+ZCkt2KIDO00aSuY5/HnJ71EVqv6ewjbZiHXKECqqqq09PCFIoAfjUiLT1zNDTtK2878q5eQ2Rw80zOqc5SG6TW8mrHTwgP+KiPDnyFavP5A4UGIx4a/bS+nf0d+FIM9pfUFI4dGZnypknB/WDhGxrKXcAbG+iugV3MRtaQDHVNsN+IGICAoQMrnBnCmfApRvu+Y1zPeM+5U8T0EOejE/LmMjEqL+k4GNHWx846uDP9qYzBKGi8mtkAREhjN+U8WHJJkheKvlTp+tvk8tofwuKlymAe633cXaE83MyhvQBdHRh90ksL1GxR4UOOknoK8NRjnEwMrUeR6oQQ==,iv:bQoojvm+0zFvaghmwSMvErMzlck2CfBBPW0yR9ysZZE=,tag:ODvFOauzH39B4w6qMN9Iow==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:auvvTmfDQ+WqRGkNVVLDLzHrohmd82ojlrVPHgI61Zo=,tag:QpUfgh5KmFx7RkQMlLYyTQ==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      feature-gates: AuthorizeNodeWithSelectors=false
    certSANs:
      - 127.0.0.1
      - 192.168.68.200
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:QS2dqreOGkLR+bSLw4fJwmnK0MZQ4rd/KCUnJoPlalBaQrWVXuEpEY+j9AFu92U98hdHmLGKl0fgYidDuETFiyig3r99gSHqcQv3lle7cCZOlYrEdSb9hdBwJ5QTBRWYnz8FXtND/RpS+2Agx8t5MH5iEzi1PWwatpWzpG/ahDdKiYJa7uf4oixsZPLj1s74vY9CNEANW/YGnepvnjQgH1260qEG5WDE7gNvcTWw/pfsnagt5Yup22ulFfNKL2U0BK8Y7QGHL0Pt/dKgjTxrKUQkGqN9HklD2MVgmQOh/+kgn1Av+NHhkmHZDHiv0FERu9V6EctLMwcqw7pL+fIqY70geM02jwOjpSkcpOuf6loocFHQxFLGBfCU9/kmIaeOdJXvNUbuYDv78GnnZ18DClOMKn+TOMsnVXQSJBqBsLFqz9oH4nO7HtZo3nwzlautlpyv1rDBjp0bjFNqbmF0Qv64M1WxRzhMUl1ThNutNQXG1cu6zlQqM+IqDtVV2eI17S+vBLJN11ENkPOchNiQngZK6eWczXT3lKwr07iy+sQwRJKCZkaeVC7i5FiRsyz7ZFl2NOg4erewsiglUdRWT0fc+wviyOR2GtbrndxV5e5k2OyaKfJyrnGdHTquQdqNjvWyPFDz4x+ocixYi2DeHOr5SSxvNWs/Nc8Nl0PTpr2p07ptiaj+tmXms1Upl9E9c/17YGp57NXQgFm9DaQxAVidJRbFfQXOSjCif15fEt4VMkDIu6BNAW1pFu0jOITWLmfLHvAa13oZO0on/HbehHe4dGsaUtYdHFtpDCT8MePxNUdCUGSLpMCTspRAzxKYGyzdyZuV6BPEYmonDyyuzAYc8XOuI7sRa91cVXXAhQGoxZ+0IUSBmZwGYuZf+54xJGTwKNzcY+NQTKrEZhBrnTEhzEw/G27ZIdwylJDem9b3RHqoBzoVavWJoj+iHjwBQObrcpk9T+xw54QN71HfR4691R1wxJZC5H1OrlgKimLBN48i/wWnpz2fguEJQ72Q,iv:BKZ38gG7YTcmDVOG5T7KiTB8fRPlipHakgg1Mb+cO5w=,tag:Jz45s8vJ+jS3O2Fec5YzQQ==,type:str]
      key: ENC[AES256_GCM,data:JN7DqKNYnlLSOIkYcB0Z1uIMH0DhRvHBahvM1arWyFeOU0Avrc5qoeQBExgmIDz6fggmQztCYcU8EzwGHwsf5UtXEQKMr7Q/1dE28SkxkNaZaHw5QSpjKHNwwfOJp+EYg7EsOKbHajuKMZzUliOoTPKOYJlUJicMefaWVx8qiUYQxwzkTDyGi23Xa0YStMObOs+elBuFZYL2taaZT7/gcvEDrtY94ZT+rPD/7bmxz6rU5nuRNa0sujDwn3b5rOQVRZwF8V16Dgx75mkJ+uzExecpKsjxkxx9ZSCflT5upb8Jro9UcQY0kE5dJTURGOROAwMgVRYIyPLKHedb72PEPO40XI8zoZejhBmDELDHnlLhIqNdyU4ANdnpfV4TTUJa2Xze0gHfaDC2sN8/0QRf8Q==,iv:9NygsNxsxrYsU82k25rn/NYF1TNqwNBk6DMUyL3iCAc=,tag:X7aTIXJ6+RRM8JAX/PS/cA==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.68.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBGbzNXVW9tNmtGTWpOZjJt
        enFGcTVkTGZaU01MZXNPbk96aTM1QnlhbjBFCkhWUWFMdE5kT1M0b09ack9CdktI
        YjMwRU1QdU9vOTd6QVU5Q3pVS3kwckEKLS0tIGp4UDdpSGdNaFVhQzZqR1hrMnRk
        MHl3SFNCb1VMTC9JSVF3c04rMCtTSkEKnG9ge/PLmOq5UL1mL24QMoGVUiObYQhw
        uEWxhjpzPIRsYWEOTD/nyWkAq60RcvH6DugrinRg1pupwL4RGqLBGA==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2024-12-29T17:45:40Z"
  mac: ENC[AES256_GCM,data:pevRYE4vD19YvPUEan88dxcZoHqLBANBSuFG95t7o1lsk0T9GaJeF8h1TISpa0EgdpditqaOBEQXKWHr3+GK5CvVg+bsDdTjToxPLcW2VWBKJku+ntn4XAfdmkPbfbGU4m5DumXMGmbZcw/ToWArb33vA4b7+gL4351NJjHtXHc=,iv:WB7EjT+oSMhalfWTkQ0v0QtNJ+AmoUI2bEMngPrPmRo=,tag:4XQoA6V3NNqvEB6mOVI4wQ==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  version: 3.9.2
