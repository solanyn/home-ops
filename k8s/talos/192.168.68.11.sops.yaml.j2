version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:AJ2OMI4qXOKLHxctM8HStzuN0AgIRag=,iv:wZzOeB0J4WKLiKOfgTt3Cf1183SQ8at2FQOh/bqxrfQ=,tag:dSaJJm6jyDOtLvxffavjWw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:GGqh2VLzSo3yKfO88l8tvU8ueSFYaT/fvenl9QQnR7bapKpaH9KO64EAD+hk2ROFTxw9l6qfHQQywAUZo4t4xvKvTot9mZBNOPAkcnTpyTjiR2vjqj6uV47Jt8Rmat2aRQ1Lc0ZLz3t3DImh1qElqP+Yg4vFzOic08Lw3g8/XpPM1zCdZnwp/f+Rjw4/oeaJfIA4TVem2zv/GfOjKLMChQbNe1Q5Rq8iEjdSdS8y+6x2ucCJcvR6OcPAu8inRhKr6EfG5dJhAvqeN4DHVnHXGngk3Pq2ZLjvN+GQePsbZpL7GH36QgMXV5HW4RKBInBK+jI29lYkhgyhaZt+qhXqF/x7Ype4qSu3n2oftYyk/VKDu5F8xHe0vrR+eJ5rYYNv3p+8cwGX/iBOMVmFcH3BcUS2sWoi4hSX7GRiy5yZXERJbn6Ei+cdmJUqt/kXTw6LVXBVIU0cPYuclBoTWgpO85Uj+MySuHhI+KV5FOOCwQD9BRhulrFoz0de4DMEuv28IOmKAaenvYVi0LuGLgZB1/vMqOC3gnZ7HktF/11BTu2RDqjKoUdodRz2ZIaKnzxItBas/Du5TRe40QzmmI5lvaYfUdRJoyx/hZzSt50u+jP0HqmB/xY3FGrCHoNaLfCvudbFDZ00U6nHf91Vswzcpfh367jKta9hmxltrU/OtXsm0WaHwd17O8HNrUTLGzJ6hDxOEvoQcMZtuxYSP/aBnNKX/fgt36l4HeO1vxP/1YWTvgDLbuDCggBEmw+VR7xKOS9B+xoRoF1KbZXG785Yd7B9809kfDcRXbuDrTi5tSYCpokzDyeTfVvMbiGTtB3szOqQbMKH3V9v8f4T83hJaM/G3r6YHgUIWH5hsKyNBnoEzRUV,iv:NSl/m+XuV6YHStH/WwO+WoInmQXv0XaKX+Rso7OF030=,tag:P1I6TnSBSC2QEn8C1wbC0g==,type:str]
    key: ENC[AES256_GCM,data:YCN673VH2vTkRDr8JEYj69fWief+o0Ap75pkcAuMcxd47wd62wiQ5KaLZwwqPmpMk0Qbl3JR6lesZ+kSolUN9cvj2HaHLg3QSnETH0TAQNa0a7WFC83e8t+vTO0U48oMDnDIT/to8N5faEo4oJwBRU3ksj74I9cGT7srE27nGs1kTOiZMZaNnXDIRjOuCd0TcaELNleac//Zrb5GOeNj1xCWggpsy+eO1SXgoJpQ4fl6yvjX,iv:2WCW6KJ+/xqJmciGC0godzu8UxtSLmjStKc9tBgMScA=,tag:9X5mkjodeuChD680dDXnIg==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.68.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      rotate-server-certificates: "true"
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.68.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          physical: true
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.68.200
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      # iGPU
      - i915.enable_guc=3
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
      # iGPU
      - sysctl.kernel.kexec_load_disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s
    net.core.default_qdisc: fq
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 10Gb/s
    net.ipv4.tcp_congestion_control: bbr
    # Send and accept data in the opening SYN packet
    net.ipv4.tcp_fastopen: 3
    # 10Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    # 10Gb/s
    net.ipv4.tcp_rmem: 4096 87380 33554432
    # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432
    # 10Gb/s
    net.ipv4.tcp_window_scaling: 1
    # PostgreSQL
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:gg61sOpY2lgaSRP7nXd4fnWuENARRB2p50Dt1xuZ4vYpX8Wxnb60ThBkyiI=,iv:Smw+jRQCSpwGBDgGxud3uj5lxuHmSdirlVShYmBY6co=,tag:2AkVEbgfjlVjRDuC4LmfSQ==,type:str]
  secret: ENC[AES256_GCM,data:icPIwSbhJ+Qytu+fBGNDSSBdb1LZ0awtyXGitkIc5NavS1CGfQACJXGN1Lk=,iv:3RrRK2DUQTAeZPDnnCQxhfmLWSpjjjKILI2DJvi8qu0=,tag:PCOE3z/UGqWK+4rMlGYKWw==,type:str]
  controlPlane:
    endpoint: https://192.168.68.200:6443
  clusterName: homelab
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:jZudFkD2ybp0vHMKMzLStwutBNy2PD0=,iv:+GX2Ny5Xt3VYCZ83CZEllG+GK01EkC0FaiegHPdBBKQ=,tag:XS9X6APDjf51nd8oQ1z0Dw==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:BFvttOgr/+KuqD4qHBgmoO5l5iqZEAJHLXEHZkMeT61NxryjqBioI3WaHiY=,iv:rNclJZAjQMrniG4WdZ/OdYcjVzBWjZq/MkclD9ngouw=,tag:Htv9m4j+8VjV70YFmISkMQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:nKIGypu53s/C8Pqes8klvBUhOO10TzB3nwAwGjTKMalxaTDDHw1/gql15kN7VOUd2kFSWLxRXUtu3qgispVlT/7LW6ygNbJZLFItC1Z48AIRPDMIhfk8uHP37RSUMK7jL2ewTUJZrahYeD4G+GG38oi/oQJXu/ERH+6ad7+UMcHQNMgzMF6hO9NsPBnmEcmZLKh+4jeFh+ibm8CGV1xE6UGoewqvr+UNb2XIcDqzXhwbk2/u9+vFMnml6p+n6YARPBqDRFPYvoQORGuDk2caGVENxgfzt7JsmLLQw+fUUcGAGh76hhnaht3Mh/8lfOjJ+gg1bJ4eJftaGMWL/yjJbbhZGtXLtyoSFA10h/TYnmFkGHhNMx4TNp+6TQ/12awMbhOjRpJym+cJ0WUPHlObM0xjZHkob3sm0PrNkwI7j0m0g5GFRM4aOvGxmbWwn9w17iA5P65Wqn2eEOZ2CaVDuHOI1Ha7nCBtMTlA94U1UdbVIynPD1p852KN1UIJleKjSOD8+b/JlmNZ6iFROA0h8o9px211wo64MxibuK2moZeKDXImxi6Az+i35xCpT3K6R8sSEwP8kBbnWkPaV4Y3K46+ZsNXaWMEVzxkx1NP4LIuMoY0Y0V4jKt6uquG4QjhNwEJlxtMigyj/rdZGjC9vy0adHsxk0ECq/b0cCRf4pmo3Qs+h125YzvxahMsIcvxjayEtmQz6NiPPW37uyzFe6BmTYxLVTaVX8CyvdRP3fabjP0l+Yh5eItaMK/Pko6OtqMil/Qz0YSF4tpAYmrimPco2LjgBoPPlTj8g95ifFu+0C5Ki4yTPM4CqyJ9xc1NlFkNJjOo1g5NO9rXA5emkVjx7wT07o66ba4uP2nvyEJ8qtGzM8swOqtiazSmrsCVNPpDCrL/zoHN5b2eMHy/5Bne+q1eN5NCZmeIOy/RSTzzZFWFgbzaw7TVmliym57fDyVYFpt3Pwp8eAiKSyk4YGBa/4s7KLplCnQULPTexy+X5Z7uanl/Y2XbtW6TtXR+HHGFjLfkXAIz9NxafsIkm62htWp0lXKtYL3Odg==,iv:hb2MQ1dd/PFA5QyXU81Ty648LmOHIJx7p4CvzwOLIOQ=,tag:djZ67vm38jZHp8eu2ngYaA==,type:str]
    key: ENC[AES256_GCM,data:Pl/GltFcVVSj2VMr14qF+NIokwLEpnw7UhXDQTdb96nnDi8q9aCYqkpeT9vBnoh8A4hU+sp+TJgSjk0+jiWIq1vC7bWOzVukGV8b3FmGDBf4j0gcTU3Gvs2D8hYyM59Qg34qGQMlJN5vS4n7q24pzpSeW06/iQDvjVmMq8KXLA/KDmaraP91LQGDcgQb2LuSJ/I0sfeiTJc2MS6qbKw2xVAQkNMpMyeDXop8nZk7qqj++KKab7Bwi1TBmb6KbWnGGuTjfWpkjYX8Ll78WJrcG4+WO2JmSxy81E5KfSXbV+8NMlIHURxQNpQr5TAwLU9fCxMEAZm5+0eQpYgr6Ugh7+uZxbOup19erW4E9g7Eh35i33WlgjGYlgDhQlqu5BY4XO/EWBBeUFVa4DAflD7qfQ==,iv:Wx3hUn4lkyOsXMrjOoXf6fscrs7rfb0bXTLv0ir/kGQ=,tag:2Z/z8sS6TL/sYM3f9hx0AQ==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:XnFwmIROoARos7QqhAbiz7ZsGbMnBNIP8sJtcCT0ETIgdPnwwl/7EuiH6R65QtT9EH6v62/BPiiCQrL42W2CT0al5iQ0sQAxuB/Mv0jjO6pocznXDhIQ0hXvgusduriiTLwQmNjNuL8TXEg7gB0dqY5NABuZJWqaXD5W91fd836A218s04tcAXkFaSnxkAssaotmYreFpNYdF0UkomC2lDHSqMuU99sCCyn01mXX/cuOQCfay50UpvcVdkngfZeimgjA3ilw56VTZxeM9lCLmTS8oQ2h6btMUqeQA16KOQU11ULZhqp8kxln+hxq4XFJDeUmiwuwTZxclJyyqqDkdGUkjc5nNTYTCJsegVxVq3P/qh/ukTiy7I+msl3iUJ79dtmxqwLb046xZsjUTvqRnEXCVP5SeaExnPyzGda1FnJtNKvWae3t6ys9vOGaEVHMeAvZzCsqfBc+QQowZGZYmJz/jVTIIrBUfupBNV6ai/Zb3IL2isGUQHzECWseUSWWapuMhQo7vHlk5nwoaj55BfrOu8FkLkkA7OvYR0G6lgD9UhxokKSJBFAQTfuit5R2zYgLawyUVPxX17Exa5FrxDGOibchWp1PkTNCyzyLN04wK2cmO0e8+vfMALJ53ERftD/FJpEf9CWvXPKfmookOQFso6nGJqyg74v2sCpP4Y6qA3ENxTH0AB4/YCuQAJvPH+dxm1lEAe30bAidNOhYA7MXaW19z1ONU31i4IkBb0uQ60DL3QhEMsMAFKsfFH3HCvD+DZLJsBrrBpcX8Z/ltSBjNjc9Tel2XJLzt9zjv4m9G0Yd//TGAThs2rs4Rgi18dJw7FLYayBCBp2piKqpX6ZKViMU3lABeQPvQXstwlLSTUZm65ARiqJBSJJlGFUXniT0kIRgpncL64UhS2oYvOhWqXZB+4uNoLqKCmi5AoLJEGtXX3k3p37KZ6FhnDev,iv:LoqsNTqbS4KGJJPkLRgX134YTf3gzifUy4FfOFFIBUo=,tag:Y9rl2Vug7fkAPpW1N1HV0w==,type:str]
    key: ENC[AES256_GCM,data:gPsOCgJESaAo+nTZ++QHSQ5UQHg/jiaE1MtEQgpTcHW+/u4BpVBB7Q/j6LV0IbZqZ+oar7HMOt8gVQC7l/2w2/Ik97Lr6GdO1WxpBdh/IB/ToXfebWqY6bDRDgXc6argTpj9dDFmDU8EKm65wtLs89qxhrrJ8IgHlemDJqzTsBhK3kAziHZYzgfgD6guPTQcPmAAQFnlOU14S6Yn61MgUTV3X/4gqHXnMjhgjYnRxfTWxLmeE9w86MDbxdSeXMw/WS6OIF2S47a4SiP8XxxB0CVkqM9PbBMLV3DLdz27Mdrytzak0RH73pQ8U2pJ3pBiYG3eVwar611hn9j3wICciOeM47JJodthH9OYS8erN8NMeFBPy9B0dGhkTA/DjgTSEREZMKUNa0N9Pz2ZQm8A7A==,iv:AP4673vlR5AUci+7oUoeitJeOBTPDCDBPdUf7HQ6Ykc=,tag:6tZhGA46/vkFPe6/Njoc2A==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:1iRg70FlCoiZAig7C8/mXSPSCQuGm2RZ7fabsXPoyL0=,tag:lbJH+Zar2mP6klxarmWELg==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    certSANs:
      - 127.0.0.1
      - 192.168.68.200
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:FHjnKJL4qZnCbNm4KVziOM55jYQwQbDRZZ6wSpbTFVtiKD0040j1ei4KtEk4dOTfXo27iDCnc7KSU5qTxZnkZj2Ux7Uw2Y4bJw5BW3/XHuMGcTPxnYh+NO9rTC2uoFseINtW1EfK7bTAqkVPvzh+ipv8KQ+y61Mg/wt72MwQElU21tpiGdcRQIpmINpuEAIaTk9tZu8JTLklOU0A34ACa9j8H0txB+WtXJBGSiA1oSsb3f++pYt82mlyKSAgL42ARZinyqqntd3/XCqMBX68YzWH334JYzJw7+7Klatbmy1FLYqc7FwGroUM3U/hUCPeshjn2C51YUn3ZWAnP2jKB53n87tO4ev8QaBHK+/LJKZU2PCegIduIUlFgfPURbEQ3AMuxSJzJEXVK2/wuwfUQOGrzuoY11EpFUgpKsZi5PW32OEhRi6JlW4+wlGa2aA58lCkKRfyz9if0+KMyITAq6EVRE3X6sQrr8cEUT2op518ADZX1p8/ZVCCW75CbWUuc4P+4ruA6kzTGAGXH26uqbyMax3I5xToDE95j/GMuyH9PRRz56+ZY/APHvcHZ8IAA6f7mPRtAEn06ZoKOJG1LXbrMRKJOD6XUozUZKg0FDZeWzGT3ya1pBqPFjM51hYrq6TRYWN5G+veIHJahlQFPM6SpPZ33nq2hS9lntFe2o4UqyTYYqRcaVGiXWfhg7fR0+7fKw4gBzJgkM6nM1B/fNIv67U4tfPtlk46G2IxJ2N2y4GwPLygQN3eV0HM1x2eDDCOQqqt+rgmWdwY4z8MziW4Rzf20JsPGuOrlEvmbgLUHJDZAkptwso7fiZgBT9sFB3rQTyghgvv4JzO4SUn+BiB1xH55XFOSoP836Vm+1NOqrh8u3H2bqf6HRZPDxiwnmZ9tdSLsE0li33JleKIRNyyHOxxNhVoPRGMej1JLARM3DH7MB+ebfde5kHwOUhAJcBfMYU7QZQBCwJCylVRqrtQQ246kN+LppcknjY5NY/r67LOWwKdUX5vYGOK9BA1,iv:mORQIJ71DW/x6GqEavuEs4eLgJ/vKf/dibDTIw6VZNg=,tag:7vFW9hMFX2pw48hlpRcbqQ==,type:str]
      key: ENC[AES256_GCM,data:vJ5c/C59e/c7ZB9+XNmdhrjlh1kno23zovCZ1J1tkpnrjnIuxeZ1oJd2uC6fH8KwWZIJOPaXaVCBPuwaSO97L7zaCai8AE6ivkpgMS2YEn+qx1KPWoHpk87hxUd2wcJBeEOfSutvLZlbMWVrbEFipCSzdS63qG4s7AXkVtAHi3pqdjgIUcY/+UWjMRqHM8QYD33GirZih6Ir0C0D1P6AH6w7kLlasxNHXgF6ApR77MyzD/H5KP6lNlTSJ8iDagwsYVkMfZ0R/EoCFYDy9HL4iUuFPWeAbirz38baM5LLX/rW0XqN6T6NYEWrwRCZlp/qa41OzOSHTpMZG9c2dA7iId5d/ClHjLEuMR95PqMUNnHDNpWSYEjt0IFIbO1qPYIZPw6yMJP/DcMf7aUPljVcVg==,iv:4sUhmMdI5Hl9UKMz++j7p1zSCvRyj9/zcz+j9R6RpJY=,tag:28kExv3NRnmUplHm2Qy4hA==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.68.0/24
  allowSchedulingOnMasters: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBCUXcwSXBQYjBVbHdJckdQ
        aWZxYmw0MmNyOHlORnpqZGdjaHRhMk5UUDJJCkl2enRXeE40TWdrUiswRHNQcjBF
        Q2pYSTRxTEc5YjhVMnM2eklTT25mQmsKLS0tIFV6eGV6OWRBN3M1bCtselZLQlJ3
        OFpSTk9SSnhDM0VpdHF3Q3dHZEJJUHcKl3Gwj/L31NAJaNb1vbnj0W/bxBysw1Gi
        0xu6bNnjKeHJTxab8XpgzaQXPsMV1JjDQxaMy3Fm2AZam+nscjH8UQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2024-12-29T16:58:39Z"
  mac: ENC[AES256_GCM,data:eCEiuL8RgN+ZNPFTwDkcrEWqDYJk892T/wmvrNsi/AsVVXkR2ClbbQq/8ZuQz69P6cEtJdQKNUZCY6oSQtKTLNDbLmFBxa4AaBK3E3w+7ylkny22kCbKP6P46UjnXpVPQHP9C9rN9diAlt8Fd/JlpalAOJEFfKE+EMcenq9lnYs=,iv:ael8WMSkMLym08QwcoIaHodIdDcRUASfNPaHZV9CraI=,tag:Qh37R/2sucalN+30v1ssNw==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  version: 3.9.2
