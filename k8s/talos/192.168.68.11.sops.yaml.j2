version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:hj/Fu800/Qr9h+Zs1Qi5XM1YgpHI098=,iv:B/N3b1+zEqoxLz5EenS7dG2ecsvXO2X/d9r7PJeBwAE=,tag:v1/aAcL90njplVQF/6qsrA==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:tLXOXbmTBD4LzapBprF0odEVSaV9PfqT8UxVcHCou62pcfoJb+bFanQt/g01OSJk7nUJkAgXOwcDfWQzZ2JPsNjgY1zlk9nX8fa0KzhoYpK4gxAbH0Bf315r4L48+gCs5Infd6VMsHXcTiu/I89M6H/Mqm15YMztDQonr7/Tim/Rze705Xhyq6i4zHdSlPXuxTcpdmvha4sNq/LGhJw/fdm5sP1gDPcEApoWYWxxkESZopN8LtfICQErJtj/2pSpq3rPLjuyRTtHPG4c6LSe7R7BBjbQhZoUya1uuVMEAhvR/fPd2Ug8aDeWtL0DM7dzNMS1lbrbyXLXYDUe5aKgSDncUFlHA/51tHvWnFcwy13IpbPf/83mTSR2mSoerUHRDsg73vb3GQPQGV0B+DnubzLDlch0Mi42aBRh+hPaIGOYJqG2wogKJnT/VJD5WSsecrFLafso5FKpOzO+YMWFLD7qrqScYoj6+V9IFknBUc1e/BpcbRrmbGt++gkkMcIFjY6glMNc/nOuX0vcZajo7NOR5i0FXrf45UIKt4PW4FBn1Vx7KCcethRz2zUu8vtS9EUvClPiu1hP3zqbJFwAre3Ls9TDC7iEmz9dd/hvdvNXvtxelGjOPvyU7JF/JZ0c2VbSao6P3N3s0SxoUHkTNgKv4x46+X6LwGgKbz7e3G+WTLmyroQ6H9MG9zEa2XVtHQ+knWU8Ti5vk9CZnAV/c8H3sBAv0DU7mMqRYhx9yfnWkFuRHhKXNnqoxjpR5FLWd90y1j2CHg9pyLAiMaO7rHXRWvSQS7Hdqw/bYuV2hsgl4BFY0trYns6pNMQ65LXPA7TT9h0MxjvSEQxVx/x2ok8xd1pRQr67Ulesqqif/h8ZB36d,iv:L0ZIG23Wg9QUPPUU+qkzqVSVVb1aB3x3XqVVTaG6fhw=,tag:zSg3LILfAgd2HQnc98bQgw==,type:str]
    key: ENC[AES256_GCM,data:ivoYxsjmkcTXE7pUqb1sGQwmDe8jy6J18pMS2LbX3PlvCDjV7UxXHLgHWmzP3nRWkCO63nhbkqjSXEmDQcj+tgZQAxbB/EcFavmkFbX/RyXfoI1c9tWFSa70L+AwgQQKtx+bJm2FWNltTeB00aJf69kwfrh1I7R9dDg3hgmrAMXUOhE0o9RpLyeNUGh2tBg+TpzWdKtWWDQiTpYvDnTmNO6mpqztzdgWuE32hhFiJ1Wp70ch,iv:o4NXfAdZdrj7WEs4ISZWAMn+FKH/t5dEv5oPnAEiGpk=,tag:n4AFEtG7KAsXfXDI3U917g==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.68.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.68.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          physical: true
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.68.200
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      # iGPU
      - i915.enable_guc=3
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
      # iGPU
      - sysctl.kernel.kexec_load_disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s
    net.core.default_qdisc: fq
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 10Gb/s
    net.ipv4.tcp_congestion_control: bbr
    # Send and accept data in the opening SYN packet
    net.ipv4.tcp_fastopen: 3
    # 10Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    # 10Gb/s
    net.ipv4.tcp_rmem: 4096 87380 33554432
    # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432
    # 10Gb/s
    net.ipv4.tcp_window_scaling: 1
    # PostgreSQL
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:xH15947PEMcvFfQjfdvrU4TpwjXDgFnCXQMmrtLz2J9rhK3TAny/WBWd76E=,iv:jcLI4bzO+MYRtEGjZaYy6pdbq9uxV3K+T2W0u7Ud4vY=,tag:jQQ0wKnCRG3tmIS4Gmk0jA==,type:str]
  secret: ENC[AES256_GCM,data:yz4TMiQABFmgr1yKCr/tzH9QEb3nzG8r9eTI4I5GwrUGN062cEURKpO6R4k=,iv:4E0MMv1fMwKJFitBRqlEuJAB2HJJplb0VsCvjrWuVd4=,tag:7RHkejslNNMG+jEgA8wjWA==,type:str]
  controlPlane:
    endpoint: https://192.168.68.200:6443
  clusterName: homelab
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:0bm0s6roSZE5ml+JwuJYKWWNZItR/zM=,iv:oSzTGvnn72hc/5oD34egP04qjrLVyE30Jza3qQ17ugo=,tag:XnH+OjFL6bqnz7xBw71K3g==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:HluaJBS2P/Gn7zo0l4B6BYbWtdSmETXTqr+F3fx8Bnk3XXzSv3/zCGnnM4k=,iv:NfCUrIwEPPUCor+DxZaYH9JiunfrofuALPmxiFlqWHE=,tag:9heJ2hvGctUHzd6phbluog==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:20u/IuzPjj4j9HSe7711jSJd031YL81G3AtLMGjI8yjFcr5RLcVtjPKxT4oZbiw7vEwPfnCfoGnyAELnLC/gxkCS+DtOdUGBP/DmXbm7uUdz9GK4VbCY1Gjf/8dHlBeaNt/qaI87WZSQowOpfiBUE4QpGDKgwnmp6SJb1E2rdbHWZJxeiWJjZc9kGbz4kmd3gKKjH41ncQC3BD3RQbh8dRo9z/opdH55OvP/VZdErGGu4JD6qHDzc/2QpxVhQHtPrQkJzANqqgx27QLM1zj7XyCX4cJzSQXTyn1hTWP5uQ4ZJmBRRiZZ/L2w5PoUZrFcdE/miia2tELJ2tiGMTesqWewwRVvS/SGeED5cv4hCw0u+7rLLNbx2jFXSWRr6XZ/np4mukmy0ZrQZyDcJ8uQHrNpAqRhYc8zTXeD0ZWL0X7Hs9aFhgQHUVFAHjVgsbvvdKQMRgMmZNqvRM/Yg5Nuib/rK//fxziwurIo+YSGD5gkb++5sEy4JFGQkLHSv9CnLLkaJJdqyDPg0KawknD1fNYGs81ziM+u/779YXQJM0DNkMkSNhdviFZDgPMCZyKwLLRuCE9YyOUVJzFocs6pNII0ecKwprzjm6WStkjUK7IzXECy9V39oRI2/HKXAz6x5vd2GOLLfz+dGoEoonKaX6cQwVKImfzxlKtXu5EErWWBKOfw5F6Whf3+x9QO1DLmq2NSO/yTpwZUJhCcIErlEv3ZxGf3wQSSFxof7PJVaw95XcxSe5UcOhivosSU6EkTxU9kObhquaAhlrwpi8Sk3cUhWbKNj4i2LVNErL9TA10EvptSRi5NNLuQ6NcI0UuJ2JHJs//SNfl1Hs4JsuZ1uZXdE2K1VEf9/VpVHSiq0xMQC7qUMTWNVinXnVQDI3XKVPNd2rTZReL1f5Kzu2Sf6EQl9RJbVrxuLT2MwkUR34oXaF/nrudIHtcXzmN5mIsWs7Aj5yCeL2GqtyRPGSPVxaQB+asr6Le/mYtqC0mjxi/+JyE5YFRzDrGrfluYuBMv/A4WGY8pnx5NAmEzEeScPfwRZ7Fdi+azfMM0Bw==,iv:OEZxL1LwezN9nTtCYS9vEUch0W1Qkc4TgOKKvSOMF+8=,tag:el8Wq6CcO6G0FC0UQrxpWg==,type:str]
    key: ENC[AES256_GCM,data:QnnR8k5qSws4HbPgvNUI2E4D5GSrf5Emn1pmMm+lN/2+S1e4TvK7renvjKGSWr2QWpvAYO7onVPAf5R3nVL7LpV/zjpz9htICekR+LE3G+IWi7YyrNY1D6tBt+Xo6DmdYoIVh6iWKCjIqqPP9XNBXVWK9/TV929qXi0lYVF1682QLdES0kO/PewQEFeMhRrR2m46NN1jFxTl4DLb+kgK056m/MTDt0k/ldLrSa6CaCoTdKWLvId5Yql4Kks08jiBZVmDO3BIJ9Li0+7kppfYP/OUF2HvMZuyjljByTodGJ5p5bdfxez6rvmUna4NO5JV30+EMS/YHvY2yozkweYAMjJl1VacOjiqruiHQ803BGtv8U+Kii6HB9nf9XDY/CjxbZtDQnCxoIucolu2Oy7Gvw==,iv:bvWU73Idal6UgHNT+G+c17iJBedVI3H24XKF05wEJZA=,tag:GpKW6USHlA7myHC9wb4lgA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:hqqfqBvA2r8TQUX4HruSE0v6byxxd+2IGuEvxtZQP2p9l7bYmZmoN6jgEoWVJVr7QZzSS4IpZ/gBmRt0DbEQLzXeTNjB6cJJYfIPn7FomuDCaBcGbCoMNcKPiV6W3Sn+0A7k00/sb/ow+XEPzQDnr8C1Uv/WKH/ZHfJU5HQjb3knQKLuo7prM7RfUAz3OiKUGBoylm0YUFKpO7TbSKRxKXORXEXPzsMgcvn0dZ6WGUZhFZ3p7xBk4oiRGGRP4DaUhBaWg4wqyp4FI7WYdorzXiIm9RuVDKeuz49DO/63/pokOb0h7xLZodFSTvPrzH4rvZAltDpPNCAi3MHTGci+JZOEIfA1xH0Hk6PNcfaHTJAUwFPq3xnbyOmdxngiGRZ4M5MgO0ZMQnuX2jbcmE6rFeN+CTrAwSedmc5E2FXzusGNFVna4vePks3A5CHbBFuBQcYMKPjnDfi8DjweKUSNJhiE1veWekxiBnWPgFoPFYh2Qed6+HSVgJ9Bisr/744ryTZJnXztPIxlPPlQEjtlieLXNFS9jI+RJPC1gTje6RCw7kZesCmagzJwrrwQtTuMOCHdLbdhaXfwWe5PWc1jv1emJXzVtM7pjG055cHfGqzYlvIcAjU/AjIzDFYzI83CNa9xw2/gZT9EA16SGsv/Q78pq7gfZKeV4Oz9NxPKACWINFAmKSBLqD2t3A4DZ9lqgw5vNAEOPGr14WohjhP+AR8XH8kON02fcsd2m5qoDOVF7xsYlc1BalnqH8gztYrI6VtTSMAYAfjUp8rvhrJu6o+5XblzBxSehcG05EyQHUtQIFuA7EU7tY16hPdup7AERzHM6D951EjmuMKqVxsdM3RVrOfbudvajDasbcQU4J/cMqRAEF9TM7/MzJc66uV9hF1BOyCy6ngHK7+PHkkSMB2o2PgyjALVEv3IP5ehZyOsmSoeN/Mt7c6pe1TXoi6j,iv:Gy0t2KjTHgShKW4VX3i7KyTRfZbP0YGw3P10fESfN0s=,tag:21IMvEaaBUG/LlYF2duK9g==,type:str]
    key: ENC[AES256_GCM,data:H9zwZBd3MzYvyzTQNDYzrxA9QBL8aOigb8nHrZFgSSaD1YLz47CuDyA/usUdfAZbrpagGNzp+u3wWWZjhmqe1HJmMXbv0BPaNe3OWGYYYRJpcKbSELM8fgCfjzSmuqK6rpcz9crWFLwsldmIbNU3q9VlLHeVaSdQ7hyJWA+sN/Ntlx899UEKQI/rLtxTHbMAwPG+sUVpSwXDnMYpS0eX6th61Dorv4Itx9Q//9AyjWh2DpENDjA+EiJE5VBfqhRv60c/vQrRTIIUJPT3FfRzk0jSwLatSqRHaZSGKEl55b5rW00TP8FUCFAn3iNJG4bhpTOOCPrVHH8+fok6F+OH1AMpuKxdKjHTnRGN1sHsAH8MEif2xAvgcdApe0ZsgJvlFOaVpqpacHmGT/DI+4QdhQ==,iv:BoA/g2iXcSFcbThgNVedIyPZMnN2W2ClFT3q/Kme9To=,tag:FvEWG+69iac33otZiYad5A==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:otZUE8NvnXJTh0KuhuLw9I10wdVy1NEC+kDrscgouMM=,tag:gEOdOspfhsAoGHyDgY9Erg==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      feature-gates: AuthorizeNodeWithSelectors=false
    certSANs:
      - 127.0.0.1
      - 192.168.68.200
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:dln+7vY+nDi1wOI0Hqe4+VoXmvYy2SQ+ur6Df89VIPRlBiNyXiImIBBWI/y3thAW5gQyEzvkUs1xZY42/HClk/5R4l8LCF3jN8WIaYlUd80WO8X5rmcdPgl4dtg6z2Rw4CoauxuVXKk+c6lOE9ts0K3Iu5gnicMcdhQ9xpGhP7gE7pZBhcyJEl6hDKSaCFznH9i5q/UomYPrPSt5cq8ABZiz7DkXybNGuFsheEP9lYxrnGWBjYV7Jqk78nSiYkcePgIU7rj11WdJ/jTaPJYWpNLickjg+UIlKfBnBAbi1BYfUFS8wLrrOEYCBzOXi0ub7+vB3z2H0L3+OiiBLb/tj/lMuyYtgQ4UXGBT+M/sqZqChLkwv46gPXKr43V91l+740i+b//3rqJMK/irVYRXHJgOhsh9EmSLgLLBpGNxFW4ekvBGG2B2yJoWMo97IDcAcIxXo6eqHxbh5Cicc03+FdTr0q2hPXEBDqtSbSSkkBuQ+GiYpOVXw5eYr3nW9uNmIIB+PwbsBQlw2oOthi3XKy58bp3nFJldvWw0wjRKueqCQPz9iXdnlGs6ZZ1Ffv1z9vFkHlQS3uk+Bq3oWIKmIsM6vF0NnxYV+IzHInfdMXaqbCgKi3dX1gT9TrkjJM/RKaathZx6cg0bxNrwfUSGnHqdWKp2coamy6ipsF6+Wi9CJqW5RVjK1sVPqKKabsQBJuX+EpEH7RP1QNMIbp3x96TJGNry6XQY67UZ0W1Hq7at94Mn/ZvRCmyRlFYAj7dcT7/AYcBb17ws36z1W4VPzNotipgfaQ25/b7S28pi4YL74bdEfSJUtN2WJvaTJHjj1zZWKJIph5/7OmoHJ08hL5X4gb3LTvQHZqhWNGzEiHeIBnWlpF3JUslR0ZXOiXQiE3qJoXs032tuX919KumiD0sZ7i7OskJAje1428UE/nBEvBGfY7eOUhU2oUus++8Ce/rSQffOWKsLYuTbuA/ic/LUw9e8iZxSdOyoLtGyAV94VL0g8ah0W4kEgLIw63iQ,iv:s4iVxMuXcAKB7Tj9bEfzdM/NeqJalWZsccSVvQW9a0o=,tag:cW3qi/zDZxmeqDAaqjXbfw==,type:str]
      key: ENC[AES256_GCM,data:ExhuDfykNmV9f/KnwfR3lC6O37w25fjUu+wEI/iSc+BbOY8TRKulPJ8Qbw8AJExkp7QQkTEm8x2p/QQGsqc8/4aK51bh+etg4QDvQOeQgnY+muOwdA4CUjM7k6Y5FvbEupvwbHo4DqNat1roPnglHfqHYwxg2jwAuoHp4ZUOErQZ4jumCTz97QaQ6T8fdsPlAvYoqERFc3tT8xBhRi0rnPvD19zMVwVtizIGAJjebqsUTQM4OUGAs1c+Akrm09CY2zRuSAmUSj8ae/dovBstNBcnSHvbaAFF8j/bjTjqrtOVKSVERAdR1VLTMLmqcSNsGQjnABpIQOT1zRpnpTxPCk/OdH8nAyK0HY/J4NKichzkX0qs5Wt2K1xqyZX8IZs1oTrz6jSwUnMst6wrWX6z8A==,iv:8/iUZumlohrDQmm/NW/ataZWqWUK+22cvNJhO5nMo7M=,tag:URWdH2naFywxIZ9LYSmfow==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.68.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBkdUZnZXA5WGdzNm83L3dV
        RitNRmUvMFRRUjgyVWN3T3dkNDNFYnRGR3hRClFHV01oaFFCeTI5WUltT0hqRUc4
        Y0l3dFYxaEFIWDBTZ3VnM0NnOW9jZm8KLS0tIERGZXFnbXppcFpZRDVIeXFlYmVK
        d0Q0MG1jTnEzRElYalFjRU42M2xLYjQKxzkf5R4JjtIEqAGmjHBtRJKbrVjJK/Aa
        TJgWKIQeqCo0pU3QblwXexQ4AboTpXEhojVUfOlmDkD+VQVB+BaTgg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-08T13:10:24Z"
  mac: ENC[AES256_GCM,data:cjKq3fZWxkVi1ddFA+PLsuSs+erlwFzaNCJKQ8M0+9Cj5NVdV4uTmGaynldD9U3+LH5KGbvj6ElNG4SHB63ZBnWh6ZdTkTi/+bwBaQKnF7CUjnqfftCHusisVLnxm9ewAGiy2F7S5eUspBp5kovOJYXX4GoVcdu5FMiRTJYCdCY=,iv:YuzBVCknHkIWT2yZUxNzPlV1oASrBhKAoqaEhANMVbg=,tag:5egbOjATYvcMx7sVt4ee2Q==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  version: 3.9.3
