version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:GifdJTEKds9+zOddGlouqFmL2bd4evY=,iv:MI5VbJ82VtPNMHsKxIQBk7O5mQ8QmeMevwnpjVHPBxQ=,tag:oIcc7hs2sqQFthj1hKr51Q==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:FOV0wXfN9BdEl/KihXqEJN3dqzDGrY08bytOSRovSX2BqdwDH6jw/lk27Yj6lctMWtsmMTajvj6QtxUV+/hG3J0ErJ6+cz+k1LmO7uSikm5heKs8SorMxTjapCDgsAKSCDeOt/t+ZfLDziUEi1/taCFGLtlInwO8Nqj1qn/8qKTfbgzt+r7O6MkLDxTewAAsMzrHa1C2O+ABzzGAbRJ3vEY9wM9jl1h+4hD3kSd0e0//HGRC0PwfaknFxG66RBfU7luStfZRzS46C/wvDtmGnm5G5JPyexnWTCrFvGRW3wboAuuB5FOIXfTFzGesvIvL5NkucTr/jhcHQ17GBOm0co9X1xuVAZ7OGfy8A5CwZaeyQTnLdvA2WTUS7ggCjItHn8c7MuTjUqif2hOxchT1ID3ztRTNGJRZMFm7KGWDhP++jRWZAGJzrq8ntDTxitPmUFvfGaSzYtHQgMnsdklzyCJvlHPn835VUoxrkZKYb06jNNw3ztJ/2b0R4EB2uUR8j92thtIe6eGpe8RhVKYFxsMBI0E8KkDWKUYV8gMQF3n+b8J2rZjcR7ltyzjKA1O3nAfSkdAcIl9kxkyjpBe6PRys8WCBIr69j/nn5FeH++KxtiQRvagvqvwagMq48GAMWT3CVJ8CHuVkPewMBB0Zh7PyIBY4LZ1MP3Bif1MULHeFu3s6tErtNuymfKLcexximiyQjs89oSG6tUYu+aebMrS2+nPqxI+5H+AthmPfstRexzWQjCSifTHnMB5HThxU3Jl/CNrK7mrEN4FOJAtasNhtbaYogFGSqDyO3OuDHFtd9r8tOGhNSaHBV8gT1XkHCaZbCtZrI/OOV/61QBWA7DI1JOfhZrE9Qq44HMmf6gmjwXFw,iv:R0CJNSr6JklK8NySSL9PvEwAxMVtR/A3AktrYKumkSQ=,tag:p5V002vJKBsUaTFxnNZzZA==,type:str]
    key: ENC[AES256_GCM,data:gKvVcrJdli+vDFifCRXIJdpaa0tkmjAOfs/B/DFAHgdJDx9rgeg/w+3azHpklR2a2R9MHYKxFAjjfkhKSGWlTyx4Z8JcNG+qsKGmsymMZUhflKRrSLA0gE3qzYpgdwZotUt2Wpmw21oJvCMv11S9Yx7VykRNp1Cd6GEziTjZcSjn4FFb4Ef8YF+/esj3Ud8x04G6BRtfsIWw52bUd6IHS5MlFJzbjrdPb3mw94kkOVtJ3VT4,iv:g1hW0HPLL5zsG7VFiTQk9WbqPV+T7DD65P1Qe+gV7zs=,tag:Z0t/fw+jt29RoTeqE+QDPA==,type:str]
  certSANs:
    - 127.0.0.1
    - 192.168.1.200
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraConfig:
      maxPods: 2000
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
      - destination: /var/mnt/extra
        type: bind
        source: /var/mnt/extra
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.1.0/24
    disableManifestsDirectory: true
  network:
    hostname: n1
    interfaces:
      - deviceSelector:
          physical: true
        mtu: 9000
        dhcp: true
        vip:
          ip: 192.168.1.200
  install:
    diskSelector:
      model: TS256GSSD370
    extraKernelArgs:
      # iGPU
      - i915.enable_guc=3
      # Less security, faster puter
      - apparmor=0
      # Less security, faster puter
      - init_on_alloc=0
      # Less security, faster puter
      - init_on_free=0
      # PCI Passthrough
      - intel_iommu=on
      # PCI Passthrough
      - iommu=pt
      # Less security, faster puter
      - mitigations=off
      # Less security, faster puter
      - security=none
      # iGPU
      - sysctl.kernel.kexec_load_disabled=1
    # i915-ucode, intel-ucode, mei
    image: factory.talos.dev/installer/5b3717ebb1bc80ddea39bb8ae3cfd3294bfcfb13e05dcd6f1aa54b8e8f9dbcc1:{{ ENV.TALOS_VERSION }}
    wipe: false
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.cri.v1.images"]
          discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s
    net.core.default_qdisc: fq
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
    # 10Gb/s
    net.ipv4.tcp_congestion_control: bbr
    # Send and accept data in the opening SYN packet
    net.ipv4.tcp_fastopen: 3
    # 10Gb/s | Jumbo frames
    net.ipv4.tcp_mtu_probing: 1
    # 10Gb/s
    net.ipv4.tcp_rmem: 4096 87380 33554432
    # 10Gb/s
    net.ipv4.tcp_wmem: 4096 65536 33554432
    # 10Gb/s
    net.ipv4.tcp_window_scaling: 1
    # PostgreSQL
    vm.nr_hugepages: 1024
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - actions-runner-system
        - kube-system
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: false
      resolveMemberNames: true
  udev:
    rules:
      # Intel GPU
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/zone: m
cluster:
  id: ENC[AES256_GCM,data:CORZI9hOGYK8YMvZDHFwg3eXG+INn2ZXMg1qpjI5jPSfndO/EHXwhyUKkiE=,iv:RIKeuEfT4Pcqun3baiDQ6j71AxX2eiCMT3ODoeTh3so=,tag:ZHzDgczo+1AIaxxxcysANg==,type:str]
  secret: ENC[AES256_GCM,data:JeGxJlFlQ4Leh9YkHF17IIjzxK8Ld3hHVxcHlBf1SNSsG3umYMOouKMg7Xo=,iv:Rb9rgwra7V4DtGXtge6bGPrA5JwQ+G1HocnQS+cIcos=,tag:CW2ldragVPbEm7K9RD+WqA==,type:str]
  controlPlane:
    endpoint: https://192.168.1.200:6443
  clusterName: homelab
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:1Bawenm9hVV3SJDslDx0FZo//YFWCnc=,iv:mrm1rR1Wc3t+13IrPOtWp/h8WbLERt+Fyt1Lkrjs7b0=,tag:bhmWtmUFJsVYkpgzCNyoAQ==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:hwV1QkhWIVBvLr0Jd2eSULmAzaE5p/SmFh7/4mXyqyL0+aCO+6VA/ItALuc=,iv:OB+kswDIzMiQhueAALnUlgNAocEibt55S7VBQ7Xck48=,tag:des4hfYm30HjgQ10Nilhtg==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:2OR3/D5jCIWiwO+CksuRnck2rQUQhtm5dKDSVAKax9b8dqzxbBAVKKgKi8lU/APvhoJB+lxgxs2phLjOBrR6FaEde00SOPbFCt0ahXO54NL46ggJUbRmNBOwX10agMVC2VppEzqLBob0C7cC/n0pivWCRhPMC7U2OC2/0HZLcdEWWB/gp1AgGWgTsQBeYWyxA/bUdvZi5xiUvJk+G7NSPLw1KbQK4MqwSbbtrbk/N1pfHpJRz9CsUTEd3d8oGbQeaHS4LZker05iA/81B6SoFv3s3j4YZgYPMDgxvlS8DgfMSnxoO+dgIji2xmubo1+/7nShrS/NJElu+DePul/VJLcEPSwVFsNIb5XnHH8ELRMAfGA3XMSGQtW06TfezvuL5hDmGRiP8u8YBoSB4T4wUQOk7Iawtkw2bLEJpvEMZzr5SbYZsoK+phwItVIq1ZjUJL/LELaTzUGTYWoqVD65r2jxec7wUyDiMEPz1Jztu8QrdqN/Yla1k1jyGg/EKLYO9S17ZqDDYUwbUcF7mFLok1p5rlYMnsceFZAtrZh/YrhW7F6A2ZhPxnfHF62MeAgzvaspk8nUD8og82Ne5FPwuYQbQVWoAQRnXlgBKO2ygoIiC5rR8UpBEUEPUdFdqKwHBbGQ98/gomf+rq8qIbzgoTnoB15s/ER9XsmjhiJCrlph8DMQIqszKCcc0VDfVqzqy3dM0BDfmSYiczhmnqlek32Mo5YgQjfTBclymtBwfGr6MNc7clTs7T7UqkCRW34gUx6z18Vb+k52YfrnFnzAarVm5uNKcFlbh+bnbRB1dCr5k0IZHqdDLBP3GJk1EPk86uLjXVhK3Y2wsnF7DFFxLxogv+hmBukWCyMBWezkarKeyvIsU4KQZRBcOB5B5SaPzYjIvUs+X8ePVO/OYD2iFuG4CDG8zWdPtkXH/VhXT5Ojsiod5SfG/pMcSuxEfCH0FWiGIm87tOA7hudGVCqn0cEDttP9dlww0mPEJjYMaDSysStl5Mka3imFb0sFYfzMFjjmsw1/k3NNxkLPET0e9FfzxrfcnEgpWzigOg==,iv:iIp7p0UsSKY4rDjqx54x269KH8m9p+ZUiCs83et6Lj0=,tag:vB1OMXT2pchE0lNZMt+Epg==,type:str]
    key: ENC[AES256_GCM,data:EfvQRXBvT5cTpe8zqu0eLgducMmR0sDynLAOgh1YDpxysc5v7SZ5BnYfi1Tb1jnFDafN0guciCt4uM7oZcsu+ywWjKO4/9pZP4TI7/4zc1UMTVpx/zyBKIAakmLGoW/y8S8CGBFlVN93cSH64c7LW9hSAi+AstMSw2Mlvnp7hT65NYoxF4lq5kYAkzQM2WXEq6Ekc+N0SO7LtKSEnQkm889vkbByfzvZBGWOlMYSr+dP3MqNrlq2WRsIPgjwOOpnTE+j2wbrPEkZocoFlGic3PTyEmhUHq0TM1eFjyp0kofDXhz1+OH9iG997/pYY0t4lA7z/5/czRf1nTxh8SiD9r7HsFp2VuYskXD8cWR3xmBxX6xqzB+Og0SSLz6hxMQo4Cgp7KlI7mgOmuAaNANirw==,iv:zV0qtu/qvj65mYYzaY74zc/qlDWa7eZTlxme6h8/R4I=,tag:6W8gv0hlcPpThILfxGTP+w==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:OGkc+KIQYVom9Ao98JJly/Kb6dXYHHCgutv8q4AFe1aOBkDpx99Qi8k6xHhL/fvLm2l93IXDR0zOtPFJ53sc5LT4D6FFz727x5liHvhYKAlOgUz2+FuclEPFcSrS44NdC7HYBmKypLpTODkXS6jD6sPbwtH3jDmblpWjAqo94XZSrammbrpGU/Rwv/f6Oy0bqOw+uTpJjH5aSzMvryNORwmtke6AtyceEJ9Eb77AmfeTy0l6kLuiyGYCCcugFfHmyFjLUkzxIQRRMxVcDc9W84QA56U0Tt8a0BW3OilUO1TLLHXas5cZJbxAukhPyERi1gaUQDN5o9dZdkm5ocCIDenw1oatn+Xp5aLwrksw3pxVIPXCrqIniZkB01pFgx1+u1kLmnjfBV+xIjCHdtrRYcwe4DpLvhgboC+l6hU2ruUw7MajTi5JzpgNR9vtCOjskqxZ07nvfATzWAxCn+lW2YJ9W8+TMhIz8qp8XaH+lM1H7EuaCT5BfQ1YtgJ7hfLmDgu3oaR7bjgR2/3qcTuCvYytgqhVm/MLRzTsKpUxInjSvowdq1DyzOzNNu2QNdjhaZrlgiqapdBEbenq9cVbJ75qr8Wk+YePjEjwRl4pJ7bxfAG6S9Po1znyg7KVAMuq9FDWZm0VibyOhiHVkQ6TDu7ezdObxPMUitbJwGqq4L8m7CCbJgzlKmKdctqBRCwKKJVxv7ucTVVBBiQEKLVUtH5B3F/z9yndTWYsqGwffESYwB9QC39yRpC0rXi+hVGtjZL+DXgzlwgBG9cAWZJQSSAdw7St0yalvIds4U52nUmC1puJggcZ3Bv5k13KCOWnLA7Q0yMS9IS967h1ikRzKEYCyfcVQYcQPkcRHjt8E1egx3Zry/ClmrFjcvmKL134q3OJ6DI0SQZL/LOg1MoLgXbg77KnENiR74fv/7AY12/IT5FMMBtefF996nR8Mqbw,iv:T63tiYV7kI/Frd5iiwTU21R7fKDDx01XyQiPVY8fxpQ=,tag:+y8hkj1fQW32tbnZ0+TxSQ==,type:str]
    key: ENC[AES256_GCM,data:GMX/6T8scqkqy2u998g7GJOliCNmebGcvylFCGcFmHNOofA9sRc7kDsbZ1h/KI9G0v2xbE0AfeytLlw2+sRePAkUQxJyTmI30I24sOVFEpwVzdBScvAAP8YWXnHBhILvl9mnNijXReLeXw5PATEsMU2vsixJ/yl2qgjr5UlSYtP4GrAZgIz1vWFV8C17GKk+LnMdYxvzloGiRdbc6C7UBRGFWRP3T7VFkMaOForKQb/Mh07ZgULDbgUwSoyVyMaodZF5slK+oq+v2vIoN8ylcyoi9WljXUWEthP8qe2RQdCQxrfZMqgR9lKawG2iUwpIv/5W+rYGiqUmFL3wjudtSjNNIRrVHgy8x4sajJk/LE/5g2/A3zQnf3UVkB902zogadfgj+Y00DOveWFeTCRPSg==,iv:/cDemUkuqlTElH8826lKW39z03KYfQs2CDC6mPsqPAw=,tag:2ehEILCcVDRtfZoTlTKm6Q==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:T4uWNiDxA3FfHCjraA3E7RtZW5hKMzIdQr8wSWaLP6k=,tag:Mo3GXvtGBpQl8s1FZNaPNw==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      feature-gates: AuthorizeNodeWithSelectors=false
    certSANs:
      - 127.0.0.1
      - 192.168.1.200
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
    config:
      apiVersion: kubescheduler.config.k8s.io/v1
      kind: KubeSchedulerConfiguration
      profiles:
        - schedulerName: default-scheduler
          pluginConfig:
            - name: PodTopologySpread
              args:
                defaultingType: List
                defaultConstraints:
                  - maxSkew: 1
                    topologyKey: kubernetes.io/hostname
                    whenUnsatisfiable: ScheduleAnyway
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:5YD1bON2TnKu1reaIlRACjYpQ7PyHPcxEMwQQoGkken4fFhZMzCfvbscogF50z/GfJMAL37K4Xipkxn/e0n4rYVD0i/8hxFc9QSw+oJbsuRuoqJqW09cUDm32extGdzmwU5QgnM12Wl8jrm/ziaXk6B+5Iyjn6NUo5OLz2F7pq1HiFb3DnuIxE+5Ck8pJmabd3wn+ZkDFXD2y2eboaYiWgRV2Esd42Up/utsXFy2mB5BRMrr/3+RIdvCMIzegxnWKVQF+yLJL+4aOMd8bPAYHAaHGOjCmovDu/xRDtmqPmMlBZT7Fe4IZAVmf6c3lvd52YgulsOCI580MM8HpcYZXN6o/vEW+hEXAESWbHd53K8rIR7W3t34qZ/dv/zpkNoTyPVqvc70wVPJI/0oiEqZp893kMBYpF6FpL07rodcTYpoZrPrDKZ1bDZmdZr5bsKNdG7hsEjej7hZYSZWxgay/F1Jhcm/yJXMq7BoRGh7Pm2Dpo7lkS++Z7Snv0+jlUqmgjA5UEdxayiWH8LyWn4yOtplxEhbrAFBewb0HYWRh3am6nz1hQvMZi7nWtpak7smevpmnHF+WNsi2wW1I9e6NcrDH54SGKFhcKfaJExa64X5sGvyijuDEBvsW//fPheHh8PSKfUGD2iIV3UDVJQT+uLUHRFhs17Xl+ujXbA+shZgEgwVrygl/EvllEzzvJ85EdflGcPoCqNAagrniYc7VmmrD9o2EtuCbWVVmMZfFmo68hH9rZ6wzzdfUxEBFC2971vWxwZJr4bbnlDewE9Nb99J8oAX5nemVDBci26hcPV2RXlg55gwPh9Odmo7biyd2qiuTHWEbsyoHjCAewvHu5a6QOaGauSq6ItTLBA4EbnB4FQLyPrmGEt6gbDuF2VieOACpA+qckyCKAoQPM1w/m7EKETZ7bwW3X7E3amgMhnBVRnUrSYreO+QXu7Wr7EZscAfdwPlsqrYREbccQfoJNPxrdywda3CO0v9BbwwwLPXE4dugQjXTRubXGyn4JjQ,iv:HnnF34ubw0IRUIzv5IM+7mvhjAfH9LDGU6Ncpi61hR0=,tag:oG55NN3IEDXdnhkGmYiqvQ==,type:str]
      key: ENC[AES256_GCM,data:CbuUgR3CuQuFcJnn+us8KOfWtfCAKXS9GAp/P96edzaqtzRonx7n5HPOpdtSslcPBJtVJgHBxfJkVIc3BS1jyYK8ruhjJx4AEYc+NQ7z/oJK+I51MzTpowRrrMRAFbTWoaXUkR1oTybMfPsYAOBer1/bUFUMUoEBcQDVQvpTzIxtiu9wT8tsRXYR282ekWSPU7AIM7XOOHieWFzg/Q7dOmRu7m3maz8UU3GGRs8Cmz/ry+QkDGzhe/7IGbR6524QtojNCYMRkRGif5Qy+PoGd1gogkBA21FkgLOegJMozdAV1CHZOBvZCNJFLLTscdp5c/rRs77lIPwGXbZYDwkXEqCSuZoeLJYYqH1PflE9/pjed5BctLPzTapTTWa/8E7larQ6PDNzwnCKz/njiyJJ6Q==,iv:/KOQY9lcGaHAHyT781AvkCUvCezgEEgQ9iQR9k2eovc=,tag:9eRgliP+E7/dXMYzuk6faA==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.1.0/24
  allowSchedulingOnControlPlanes: true
sops:
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age:
    - recipient: age1yq7xwc03yg7gp2ew9k3jehrz6ctlmuwsffypwvskvl27e26frqmqa5d7de
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBqQU1Pb2s1d1VJNE5Bei9W
        cW5CaE51MG1lRmdqRFUyUk5JSzk0UzF0OXo4CkhYbkJLbk1mM2dRbkFwb25oK0Fj
        enNDcVhhMFF2ZFhzbGorNUpyTUNOTzgKLS0tIGU0SzVZaEVZcnM0ZVI3Vy9FdVpC
        TmUwTmkzamUzQmJJczkrVGc4RjgyV2cKH12AVTO09Di8XWAfzSrCCCfUzVv+wOZD
        aEZm7RKeP9o8f+3/4h/hktE9rgGHLZInjN1KVulqAD7nVFcx5MXmyw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-01-09T14:25:24Z"
  mac: ENC[AES256_GCM,data:OTguCq1Ck2W1KnrmVJG/fMUCrJfxTPMHCDBA0LJ1fVG6rPrCP17oykrAe0FdRmhTFqLaX2QiWf6jjYwbq4DhJuoGNgcQb65zmJaAgY9pY3bQnBrHsoBsdB+/u8UHoTcQ+PW1zxdvma2aqc22jHMS12PujnWUm/Dxvrq0lEFxD+U=,iv:pP0PG3dXhBhinX5rHtmY3H4OTa46Tgt269DaGxvuOPo=,tag:16OP/RysvXfbyqpIZzATgw==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  version: 3.9.3
